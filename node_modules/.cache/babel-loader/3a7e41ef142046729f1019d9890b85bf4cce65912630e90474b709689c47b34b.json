{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\n/* eslint-disable */\nimport moment from 'moment';\nimport { biller, execute, executeDownload, getRight, parking, patient, rent, trade } from \"@/api\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport router from \"@/router\";\nimport ToolBarPatientQue from \"@/components/patient-queue/triage/ToolBarPatientQue.vue\";\nimport SideBarConsultation from \"@/components/patient-queue/consultation/SideBarConsultation.vue\";\nimport ToolBarLabStat from \"@/components/medical-lab/ToolBarLabStat.vue\";\nimport LabToolBar from \"@/components/medical-lab/LabToolBar.vue\";\nexport default {\n  name: \"LabOrdersPendingPayments\",\n  components: {\n    LabToolBar,\n    ToolBarLabStat,\n    SideBarConsultation,\n    ToolBarPatientQue,\n    NavigationBar\n  },\n  data() {\n    return {\n      patientInitials: \"\",\n      loading: false,\n      // set the initial current page as 1\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      totalItems: 0,\n      search: \"\",\n      patientsDetails: {\n        patient: {\n          id: null,\n          patientID: null,\n          title: null,\n          names: null,\n          phoneNumber: null,\n          gender: null,\n          idNo: null,\n          dateOfBirth: null,\n          maritalStatus: null,\n          levelOfEducation: null,\n          nationality: null,\n          occupation: null,\n          religion: null,\n          languages: null,\n          bloodGroup: null,\n          physicalAddress: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardName: null,\n          wardID: null,\n          lastSeen: null,\n          lastUpdate: null,\n          email: null,\n          town: null,\n          dateCreated: null,\n          height: null,\n          weight: null,\n          bmi: null,\n          registrationFacility: null,\n          createdBy: null,\n          updatedBy: null,\n          lastSeenAt: null,\n          careCard: null\n        },\n        guarantor: {\n          id: null,\n          visitCode: null,\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          email: null,\n          physicalAddress: null,\n          relationship: null\n        },\n        kins: [{\n          id: null,\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          address: null,\n          relationShip: null\n        }, {\n          id: null,\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          address: null,\n          relationShip: null\n        }],\n        visitEntries: {\n          id: null,\n          visitCode: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          email: null,\n          reasonForVisit: null,\n          description: null,\n          departmentVisiting: null,\n          doctorNurse: null,\n          triage: null,\n          meansOfArrival: null,\n          payment: null,\n          dateCreated: null\n        },\n        nhif: {\n          id: null,\n          visitCode: null,\n          number: null,\n          policyholder: null\n        },\n        insurance: {\n          id: null,\n          visitCode: null,\n          provider: null,\n          policyNumber: null,\n          authorizationCode: null,\n          policyholder: null\n        },\n        insurances: [{\n          id: null,\n          visitCode: null,\n          provider: null,\n          policyNumber: null,\n          authorizationCode: null,\n          policyholder: null\n        }],\n        employer: {\n          id: null,\n          visitCode: null,\n          companyName: null,\n          companyID: null,\n          authorizationCode: null\n        },\n        chronicIllnesses: [{\n          illness: null,\n          dateCreated: null\n        }],\n        allergies: [{\n          allergy: null,\n          dateCreated: null\n        }]\n      },\n      billDetails: [{\n        receiptAmount: \"0\"\n      }],\n      billDetail: {\n        id: null,\n        billNo: null,\n        incomeTypeID: null,\n        incomeTypeDescription: null,\n        costCenterNo: null,\n        accountNo: null,\n        description: null,\n        feeID: null,\n        feeDescription: null,\n        detailAmount: null,\n        receiptAmount: null,\n        billBalance: null,\n        wardID: null,\n        subCountyID: null,\n        subCountyName: null,\n        wardName: null,\n        status: null,\n        dateCreated: null,\n        zone: null,\n        departmentID: null,\n        department: null,\n        idNo: null,\n        phoneNumber: null,\n        names: null,\n        customerPhoneNumber: null,\n        category: null,\n        incomeTypePrefix: null,\n        printable: true,\n        customers: null,\n        receiptedBy: null,\n        patientID: null\n      },\n      billInfo: [{\n        id: null,\n        billNo: null,\n        feeID: null,\n        feeDescription: null,\n        fiscalYear: null,\n        paymentCode: null,\n        customer: null,\n        description: null,\n        periodID: null,\n        wardID: null,\n        subCountyID: null,\n        subCountyName: null,\n        wardName: null,\n        createdBy: null,\n        billTotal: null,\n        receiptAmount: null,\n        billBalance: null,\n        status: null,\n        dateCreated: null,\n        zone: null,\n        departmentID: null,\n        department: null,\n        idNo: null,\n        phoneNumber: null,\n        names: null,\n        customerPhoneNumber: null,\n        category: null,\n        incomeTypePrefix: null,\n        quantity: null,\n        patientID: null\n      }],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode: null,\n        sessionNames: null,\n        sessionIdNo: null,\n        sessionPhoneNumber: null\n      },\n      amount: 0,\n      feeID: null,\n      unitFeeAmount: 0,\n      totalAmount: 0,\n      message: null,\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      phoneNumber: null\n    };\n  },\n  watch: {\n    //pagination code\n    // define a watcher for the pageSize property\n    pageSize(newPageSize) {\n      this.getPatient(); //Todo to change here\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.totalItems;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n    },\n    search() {\n      this.getPatient();\n    },\n    documentType() {\n      if (this.documentType === \"pdf\") {\n        // this.downloadReport()\n      } else if (this.documentType === \"excel\") {\n        // this.downloadReport()\n      } else {}\n    }\n  },\n  computed: {\n    //pagination code todo pagination\n    // calculate the start index of the items for the current page\n    startIndex() {\n      return (this.currentPage - 1) * this.pageSize;\n    },\n    // calculate the end index of the items for the current page\n    endIndex() {\n      return this.currentPage * this.pageSize;\n    }\n  },\n  mounted() {\n    this.dateFrom = moment().format('YYYY-MM-DD');\n    this.dateTo = moment().format('YYYY-MM-DD');\n    this.$watch('dateFrom', function (newValue) {\n      if (this.dateFrom === '' || this.dateTo === '') {} else {\n        this.getSubCountiesRevenue();\n      }\n    });\n    this.$watch('dateTo', function (newValue) {\n      if (this.dateFrom === '' || this.dateTo === '') {} else {\n        this.getSubCountiesRevenue();\n      }\n    });\n    this.menuAccess();\n    this.getBills();\n  },\n  methods: {\n    menuAccess() {\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"Reports Sub County\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\", sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data, biller).then(res => {\n        // alert(res.data.message);\n      }).catch(e => {\n        // alert(e.message);\n      });\n    },\n    getRight(type) {\n      return getRight(type);\n    },\n    //pagination code todo pagination\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n      // return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getVisitEntries(); //Todo change\n      }\n    },\n\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getVisitEntries(); //Todo change\n      }\n    },\n\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getVisitEntries(); //Todo change\n      }\n    },\n\n    formatDate(date) {\n      let d = new Date(date);\n      let day = d.getDate();\n      let month = d.toLocaleString('en-US', {\n        month: 'short'\n      });\n      let year = d.getFullYear();\n      let suffix = '';\n      if (day % 10 === 1 && day !== 11) {\n        suffix = 'st';\n      } else if (day % 10 === 2 && day !== 12) {\n        suffix = 'nd';\n      } else if (day % 10 === 3 && day !== 13) {\n        suffix = 'rd';\n      } else {\n        suffix = 'th';\n      }\n      return `${day}${suffix} ${month} ${year}`;\n    },\n    showDate() {\n      const dateObj = new Date();\n      const currentDate = dateObj.getDate() + \"/\" + dateObj.getMonth() + \"/\" + dateObj.getFullYear();\n      return currentDate;\n    },\n    gotTo(route, patientID) {\n      sessionStorage.setItem(\"selectedSub\", route);\n      sessionStorage.setItem(\"patientID\", patientID);\n      sessionStorage.setItem(\"patientIDNo\", patientID);\n      router.push(route);\n    },\n    gotToAll(route) {\n      sessionStorage.setItem(\"currentPage\", route);\n      sessionStorage.setItem(\"dateTo\", this.dateTo);\n      sessionStorage.setItem(\"dateFrom\", this.dateFrom);\n      sessionStorage.setItem(\"subCountyName\", \"ALL SUB COUNTIES\");\n      sessionStorage.setItem(\"subCountyID\", \"\");\n      //todo to check on this figures\n      sessionStorage.setItem(\"totalTransactions\", this.totalTransactions);\n      sessionStorage.setItem(\"amountTotal\", this.totalAmount);\n      sessionStorage.setItem(\"totalAgents\", this.totalAgents);\n      sessionStorage.setItem(\"totalZones\", this.totalZones);\n      router.push(route);\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num);\n    },\n    getBills() {\n      this.billDetails.splice(0);\n      this.loading = true;\n      const data = new FormData();\n      data.append(\"function\", \"getBills\");\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      /* data.append(\"status\", \"UNPAID\");*/\n      data.append(\"dateFrom\", this.dateFrom);\n      data.append(\"dateTo\", this.dateTo);\n      data.append(\"keyword\", this.search);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.billDetails = res.data.data.billDetails;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    printBill(billNo) {\n      localStorage['params'] = JSON.stringify({\n        billNo: billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'bill'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    getBill(billNo) {\n      this.billNo = billNo;\n      const data = new FormData();\n      data.append(\"function\", \"getBill\");\n      data.append(\"billNo\", billNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.billInfo = res.data.data.billInfo;\n          this.billDetail = res.data.data.billDetails;\n          this.invoiceGenerated = true;\n          this.paymentData.amount = res.data.data.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.payBill.shortCode;\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        });\n        const routeData = this.$router.resolve({\n          name: 'receipt'\n        });\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod() {\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n    },\n    showTransactionSummary(paymentMode) {\n      this.paymentData.paymentMode = paymentMode;\n      if (paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false;\n    },\n    makePayment() {\n      if (this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n      execute(data, stream).then(res => {\n        if (res.data.success) {\n          this.paymentMethod = false;\n          this.paymentPanel = false;\n          //start checking payment\n          this.timer = setInterval(() => {\n            this.checkPayment();\n          }, 3000);\n        } else {\n          this.rate = null;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1;\n      if (this.randomNumber === 1) {\n        this.message = \"Waiting for payment.\";\n      }\n      if (this.randomNumber === 2) {\n        this.message = \"Waiting for payment..\";\n      }\n      if (this.randomNumber === 3) {\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = null;\n          clearInterval(this.timer);\n          this.receipt = true;\n          this.paymentData.success = false;\n          this.transaction = res.data.data.transaction;\n          this.receiptDetails = res.data.data.receipt.receiptDetails;\n          //Close the modal\n          this.transactionSummary = false;\n          this.transactionCompleted = true;\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    }\n  }\n};","map":{"version":3,"names":["moment","biller","execute","executeDownload","getRight","parking","patient","rent","trade","NavigationBar","router","ToolBarPatientQue","SideBarConsultation","ToolBarLabStat","LabToolBar","name","components","data","patientInitials","loading","currentPage","totalPages","pageSize","totalItems","search","patientsDetails","id","patientID","title","names","phoneNumber","gender","idNo","dateOfBirth","maritalStatus","levelOfEducation","nationality","occupation","religion","languages","bloodGroup","physicalAddress","subCountyID","subCountyName","wardName","wardID","lastSeen","lastUpdate","email","town","dateCreated","height","weight","bmi","registrationFacility","createdBy","updatedBy","lastSeenAt","careCard","guarantor","visitCode","patientIDNo","relationship","kins","address","relationShip","visitEntries","reasonForVisit","description","departmentVisiting","doctorNurse","triage","meansOfArrival","payment","nhif","number","policyholder","insurance","provider","policyNumber","authorizationCode","insurances","employer","companyName","companyID","chronicIllnesses","illness","allergies","allergy","billDetails","receiptAmount","billDetail","billNo","incomeTypeID","incomeTypeDescription","costCenterNo","accountNo","feeID","feeDescription","detailAmount","billBalance","status","zone","departmentID","department","customerPhoneNumber","category","incomeTypePrefix","printable","customers","receiptedBy","billInfo","fiscalYear","paymentCode","customer","periodID","billTotal","quantity","paymentData","bankReceiptNo","accNo","payBillNo","amount","success","paymentMode","sessionNames","sessionIdNo","sessionPhoneNumber","unitFeeAmount","totalAmount","message","transactionCompleted","transactionSummary","paymentPanel","paymentMethod","watch","newPageSize","getPatient","newTotalPages","Math","ceil","documentType","computed","startIndex","endIndex","mounted","dateFrom","format","dateTo","$watch","newValue","getSubCountiesRevenue","menuAccess","getBills","methods","FormData","append","sessionStorage","getItem","then","res","catch","e","type","pagination","maxVisibleButtons","pages","start","floor","end","i","push","unshift","prevPage","getVisitEntries","nextPage","goToPage","page","formatDate","date","d","Date","day","getDate","month","toLocaleString","year","getFullYear","suffix","showDate","dateObj","currentDate","getMonth","gotTo","route","setItem","gotToAll","totalTransactions","totalAgents","totalZones","formatPrice","value","val","toFixed","replace","toString","numberFormat","num","britishNumberFormatter","Intl","NumberFormat","splice","printBill","localStorage","JSON","stringify","routeData","$router","resolve","window","open","href","getBill","invoiceGenerated","payBill","shortCode","printReceipt","receiptDetails","receiptNo","alert","showPaymentMethod","showTransactionSummary","makePayment","stream","startsWith","timer","setInterval","checkPayment","rate","randomNumber","random","clearInterval","receipt","transaction"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/HMIS/hospital-management/src/components/medical-lab/LabOrdersPendingPayment.vue"],"sourcesContent":["<template>\n\n  <head>\n\n    <meta charset=\"utf-8\" />\n    <title>HOSPITAL MANAGEMENT INFORMATION SYSTEM</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Rental management system by Nouveta LTD\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n    <!-- droping file -->\n    <link href=\"assets/libs/dropzone/min/dropzone.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- DataTables -->\n    <link href=\"assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- owl.carousel css -->\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.carousel.min.css\">\n\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.theme.default.min.css\">\n    <!-- App Css-->\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n  </head>\n\n  <body data-sidebar=\"dark\">\n\n  <!-- <body data-layout=\"horizontal\" data-topbar=\"dark\"> -->\n  <!-- Loader -->\n  <!-- Begin page -->\n\n  <!-- Begin page -->\n  <div id=\"layout-wrapper\">\n\n\n\n    <!-- ========== Left Sidebar Start ========== -->\n    <NavigationBar/>\n    <!-- Left Sidebar End -->\n\n\n\n    <!-- ============================================================== -->\n    <!-- Start right Content here -->\n    <!-- ============================================================== -->\n    <div class=\"content-minimize\">\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18\">Scheduled Lab tests pending payment</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"index.html\">Dashboards</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"lab-stats.html\">Medical lab</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"#\">Tests pending payment</a></li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n\n          <!-- quick lab stats -->\n          <ToolBarLabStat/>\n          <!-- end of stats -->\n\n\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"card\">\n\n                <LabToolBar/>\n\n\n                <div class=\"card-header bg-white border-bottom d-none\">\n                  <h4 class=\"card-title text-uppercase\">Scheduled lab tests</h4>\n                </div>\n\n                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom mt-4\">\n\n                  <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n                    <div class=\"flex-grow-1\">\n                      <div class=\"search-box mb-0 me-3\">\n                        <div class=\"position-relative\">\n                          <input type=\"text\" class=\"form-control bg-light border-light rounded\" placeholder=\"Search...\" fdprocessedid=\"husj3l\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          <i class=\"bx bx-search-alt search-icon\"></i>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"d-flex\">\n                      <div class=\"d-flex align-items-center me-3 pe-3\">\n                        <div>\n                          <div class=\"float-end d-flex \">\n                            <div class=\"input-group fw-semibold text-uppercase me-3\">\n                              <label class=\"input-group-text text-uppercase\">Patient Type</label>\n                              <select class=\"form-select \">\n                                <option value=\"\">Select patient Visit Type</option>\n                                <option value=\"All Patients\" selected=\"\">All Patients</option>\n                                <option value=\"Inpatient\">Inpatient</option>\n                                <option value=\"Outpatient\">Outpatient</option>\n                              </select>\n                            </div>\n\n                            <div class=\"input-group fw-semibold text-uppercase\">\n                              <label class=\"input-group-text text-uppercase\">FROM:</label>\n                              <input class=\"form-control form-control-sm\" type=\"date\" value=\"2019-08-19\" id=\"example-date-input\">\n                            </div>\n\n                            <div class=\"input-group fw-semibold text-uppercase\">\n                              <label class=\"input-group-text text-uppercase\">TO:</label>\n                              <input class=\"form-control form-control-sm\" type=\"date\" value=\"2019-08-19\" id=\"example-date-input\">\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <button data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector me-3 text-capitalize\">\n                        <i class=\"bx bxs-download  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Download Report</span>\n                      </button>\n\n                    </div>\n\n\n                  </div>\n                  <div class=\"btn-toolbar p-3 align-items-center d-none animated delete-tool-bar\" role=\"toolbar\">\n                    <button type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" class=\"btn btn-primary waves-effect btn-label waves-light me-3\"><i class=\"mdi mdi-printer label-icon\"></i> Print Selected Invoices</button>\n                  </div>\n                </div>\n\n                <div class=\"card-body\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table table-striped table-striped-info table-s  align-middle text-nowrap\">\n                      <thead class=\"bg-info text-black text-uppercase border border-info\">\n                      <th title=\"Date and Time of Lab Test Order\">Date</th>\n                      <th title=\"Patient Visit Number\">Visit No.</th>\n                      <th title=\"invoice number for the scheduled test\">Invoice No.</th>\n                      <th title=\"Patient Name\">Patient</th>\n                      <th title=\"Outpatient or Inpatient\">Type</th>\n                      <th title=\"Doctor Who Ordered the Test\">Sent By</th>\n                      <th title=\"Lab Test(s) Ordered\">Test(s)</th>\n                      <th title=\"Mode of Payment (e.g., Cash, Insurance)\">Payment</th>\n                      <th title=\"Payment Status (Paid or Unpaid)\">Status</th>\n                      <th title=\"Amount Owed for the Test(s)\" class=\"text-right\">Amount</th>\n                      <th title=\"Available Actions\" class=\"text-right\">Actions</th>\n                      </thead>\n                      <tbody class=\"border border-info\">\n                      <tr  :key=\"index\" :value=\"item\" v-for=\"(item, index) in billDetails\">\n                        <td>{{formatDate(item.dateCreated)}}</td>\n                        <td>{{item.patientID}}</td>\n                        <td>{{item.billNo}}</td>\n                        <td>{{item.description}}</td>\n                        <td>Outpatient</td>\n                        <td>Dr. {{item.names}}</td>\n                        <td>{{item.feeDescription}}</td>\n                        <td>MPESA</td>\n                        <td class=\"text-uppercase\">\n                          <span class=\"badge rounded-pill bg-danger float-end\" key=\"t-new\">{{item.status}}</span>\n                        </td>\n                        <td class=\"text-right\">KES {{formatPrice(item.billBalance)}}</td>\n                        <td class=\"text-uppercase text-right\">\n                          <div class=\"d-flex justify-content-end\">\n                            <a @click=\"printBill(item.billNo)\" href=\"javascript: void(0);\" type=\"button\" class=\"btn btn-sm btn-dark waves-effect waves-light text-uppercase\">\n                              <i class=\"mdi mdi-printer fs-6 align-middle me-2\"></i> Print Invoice\n                            </a>\n                            <button @click=\"getBill(item.billNo)\" class=\"btn btn-sm btn-info text-uppercase ms-2\" data-bs-toggle=\"modal\" data-bs-target=\".test-details-modal\" title=\"View Lab Test Details\">\n                              Details\n                            </button>\n                            <button @click=\"getBill(item.billNo)\" class=\"btn btn-sm btn-success text-uppercase d-flex align-items-center ms-2 modal-details-btn\" data-bs-toggle=\"modal\" data-bs-target=\"#payment-modal\" title=\"Initiate Payment for Lab Tests\">\n                              <div>Initiate Payment</div>\n                              <div class=\"spinner-border text-white ms-2 d-none\" style=\"height: 19px; width: 19px;\" role=\"status\">\n                                <span class=\"sr-only\">Loading...</span>\n                              </div>\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                      </tbody>\n                      <tfoot class=\"border border-dark\">\n                      <tr class=\"table-primary text-black border-dark\">\n                        <th colspan=\"3\">{{billDetails.length}} Patients</th>\n                        <th colspan=\"6\">{{billDetails.length}} Tests</th>\n                        <th class=\"text-right\"></th>\n                        <th></th>\n                      </tr>\n                      </tfoot>\n                    </table>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n            <!-- end col -->\n          </div>\n\n          <!-- end row -->\n        </div>\n        <!-- container-fluid -->\n      </div>\n      <!-- End Page-content -->\n\n      <!-- Test results modal -->\n      <div class=\"modal fade receipting-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog  w-100 modal-lg modal-dialog-centered modal-full\">\n          <div class=\"modal-content w-100\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title ml-3 me-3\" id=\"myLargeModalLabel\">Lab Test Details For Ticket No T45</h5>\n              <span class=\"badge rounded-pill bg-success text-uppercase font-12px\">Critical Level: Expectant</span>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <address>\n                    <strong class=\"text-capitalize\">Patient Details:</strong><br>\n                    Alex Wanjala, 23 Year Old Male,<br>\n                    email@mail.com, 0704 549 859<br>\n                    Patient ID. MPI/23455<br/>\n                    <br>\n\n\n                  </address>\n                </div>\n                <div class=\"col-6 text-right d-none\">\n                  <address>\n                    <strong class=\"text-capitalize\">Location Details</strong><br>\n                    Street/Road: Mombasa Road<br>\n                    Plot No.: 122202/1250<br>\n                    Building: The Tower. Floor: 12. Door/Stall No.: 123<br/>\n                    Subcounty: CBD. Ward: Mututu\n\n                  </address>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"hori-timeline mt-4\">\n                    <div class=\"owl-carousel owl-theme  navs-carousel events timeline-carousel\" id=\"timeline-carousel\">\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep 2023, 10:09 AM</div>\n                            <h5 class=\"mb-4\">Checked In</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\">By <a href=\"#\">Sharon Omondi</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep 2023, 10:47 AM</div>\n                            <h5 class=\"mb-4\">Triage</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">By Kelvin Kinoti</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep, 10:45 AM</div>\n                            <h5 class=\"mb-4\">Consaltation</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">By Dr Kip Patel</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list \">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep, 10:47 AM</div>\n                            <h5 class=\"mb-4\">Cashier</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">Served By Josphine</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list active\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Specimen Collection</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Test Results</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Pharmecey</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <!-- consaltation findings and feedback -->\n                <div class=\"col-12 pt-3\">\n\n                  <div class=\"row\">\n                    <div class=\"col-12\">\n                      <div class=\"bg-info border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"mdi mdi-test-tube  font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Specimen Collection  (2 Tests are to be conducted)</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12 allergy-table\">\n                      <h3 class=\"font-size-15 fw-bold text-capitalize mb-3 mt-1 d-none\">Patient's Specimen</h3>\n                      <p>Select the specimen collected for each test and indicate correctly the label for the corresponding specimen.</p>\n\n\n                      <h3 class=\"font-size-15 fw-bold text-capitalize mb-3 mt-4\">A. ABO Blood Group</h3>\n                      <div class=\"table-responsive\">\n                        <table class=\"table table-nowrap table-sm table-editable-1\">\n                          <thead class=\"bg-light\">\n                          <tr>\n                            <th style=\"width: 40px;\">#</th>\n                            <th>Specimen</th>\n                            <th>Specimen Label</th>\n                          </tr>\n                          <tbody>\n\n\n                          <tr>\n                            <td>1.</td>\n                            <td>\n                              <select class=\"form-control selectpicker bg-white select-revenue form-control-sm\" title=\"Specimen\" data-live-search=\"true\">\n                                <option value=\"Sputum\">Sputum</option>\n                                <option value=\"Semen\">Semen</option>\n                                <option value=\"Stool\">Stool</option>\n                                <option value=\"Urine\">Urine</option>\n                                <option value=\"Saliva\">Saliva</option>\n                                <option value=\"Oral fluid\">Oral fluid</option>\n                                <option value=\"Sweat\">Sweat</option>\n\n                                <option value=\"Blood\">Blood</option>\n                                <option value=\"Tissue biopsy\">Tissue biopsy</option>\n                                <option value=\"Cerebrospinal fluid (CSF)\">Cerebrospinal fluid (CSF)</option>\n                                <option value=\"Bone marrow\">Bone marrow</option>\n                                <option value=\"Amniotic fluid\">Amniotic fluid</option>\n                              </select>\n                            </td>\n                            <td>\n                              <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Enter Specimen label\"/>\n                            </td>\n                          </tr>\n                          <tr class=\"cloneCharges d-none\">\n                            <td style=\"width: 80px \" class=\"categoryIndex \">#</td>\n\n                            <td>\n                              <select class=\"form-control selectpicker bg-white select-revenue form-control-sm\" title=\"Specimen\" data-live-search=\"true\">\n                                <option value=\"Sputum\">Sputum</option>\n                                <option value=\"Semen\">Semen</option>\n                                <option value=\"Stool\">Stool</option>\n                                <option value=\"Urine\">Urine</option>\n                                <option value=\"Saliva\">Saliva</option>\n                                <option value=\"Oral fluid\">Oral fluid</option>\n                                <option value=\"Sweat\">Sweat</option>\n\n                                <option value=\"Blood\">Blood</option>\n                                <option value=\"Tissue biopsy\">Tissue biopsy</option>\n                                <option value=\"Cerebrospinal fluid (CSF)\">Cerebrospinal fluid (CSF)</option>\n                                <option value=\"Bone marrow\">Bone marrow</option>\n                                <option value=\"Amniotic fluid\">Amniotic fluid</option>\n                              </select>\n                            </td>\n                            <td>\n                              <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Enter Specimen label\"/>\n                            </td>\n                          </tr>\n                          </tbody>\n\n                          <tfoot>\n                          <tr>\n                            <td colspan=\"7\" class=\"bg-light add-field-1 cursor-pointer text-black fw-bold\">\n                              <span class=\"d-flex align-items-center \"><i class=\"dripicons-plus mr-5 d-flex justify-content-center align-items-center font-21 \"></i><span class=\"pl-5 \">Add Specimen</span></span>\n                            </td>\n                          </tr>\n                          </tfoot>\n\n                          </thead>\n                        </table>\n\n                      </div>\n\n                      <h3 class=\"font-size-15 fw-bold text-capitalize mb-3 mt-4\">B. Fasting Blood Sugar</h3>\n                      <div class=\"table-responsive\">\n                        <table class=\"table table-nowrap table-sm table-editable-1\">\n                          <thead class=\"bg-light\">\n                          <tr>\n                            <th style=\"width: 40px;\">#</th>\n                            <th>Specimen</th>\n                            <th>Specimen Label</th>\n                          </tr>\n                          <tbody>\n\n\n                          <tr>\n                            <td>1.</td>\n                            <td>\n                              <select class=\"form-control selectpicker bg-white select-revenue form-control-sm\" title=\"Specimen\" data-live-search=\"true\">\n                                <option value=\"Sputum\">Sputum</option>\n                                <option value=\"Semen\">Semen</option>\n                                <option value=\"Stool\">Stool</option>\n                                <option value=\"Urine\">Urine</option>\n                                <option value=\"Saliva\">Saliva</option>\n                                <option value=\"Oral fluid\">Oral fluid</option>\n                                <option value=\"Sweat\">Sweat</option>\n\n                                <option value=\"Blood\">Blood</option>\n                                <option value=\"Tissue biopsy\">Tissue biopsy</option>\n                                <option value=\"Cerebrospinal fluid (CSF)\">Cerebrospinal fluid (CSF)</option>\n                                <option value=\"Bone marrow\">Bone marrow</option>\n                                <option value=\"Amniotic fluid\">Amniotic fluid</option>\n                              </select>\n                            </td>\n                            <td>\n                              <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Enter Specimen label\"/>\n                            </td>\n                          </tr>\n                          <tr class=\"cloneCharges d-none\">\n                            <td style=\"width: 80px \" class=\"categoryIndex \">#</td>\n\n                            <td>\n                              <select class=\"form-control selectpicker bg-white select-revenue form-control-sm\" title=\"Specimen\" data-live-search=\"true\">\n                                <option value=\"Sputum\">Sputum</option>\n                                <option value=\"Semen\">Semen</option>\n                                <option value=\"Stool\">Stool</option>\n                                <option value=\"Urine\">Urine</option>\n                                <option value=\"Saliva\">Saliva</option>\n                                <option value=\"Oral fluid\">Oral fluid</option>\n                                <option value=\"Sweat\">Sweat</option>\n\n                                <option value=\"Blood\">Blood</option>\n                                <option value=\"Tissue biopsy\">Tissue biopsy</option>\n                                <option value=\"Cerebrospinal fluid (CSF)\">Cerebrospinal fluid (CSF)</option>\n                                <option value=\"Bone marrow\">Bone marrow</option>\n                                <option value=\"Amniotic fluid\">Amniotic fluid</option>\n                              </select>\n                            </td>\n                            <td>\n                              <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Enter Specimen label\"/>\n                            </td>\n                          </tr>\n                          </tbody>\n\n                          <tfoot>\n                          <tr>\n                            <td colspan=\"7\" class=\"bg-light add-field-1 cursor-pointer text-black fw-bold\">\n                              <span class=\"d-flex align-items-center \"><i class=\"dripicons-plus mr-5 d-flex justify-content-center align-items-center font-21 \"></i><span class=\"pl-5 \">Add Specimen</span></span>\n                            </td>\n                          </tr>\n                          </tfoot>\n\n                          </thead>\n                        </table>\n\n                      </div>\n                    </div>\n\n\n                  </div>\n                </div>\n                <!-- end of consaltation -->\n                <div class=\"col-12 mt-3\">\n                  <button class=\"btn btn-primary w-100 text-center text-uppercase generate-bill\"> Done <i class=\"dripicons-checkmark\"></i></button>\n                </div>\n\n\n\n\n              </div>\n            </div>\n            <div class=\"modal-footer d-none\">\n\n              <a href=\"#\" target=\"_blank\" type=\"button\" class=\"btn btn-primary waves-effect waves-light w-100\">\n                <i class=\"mdi mdi-check font-size-16 align-middle me-2\"></i> Submit Form\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of receipting modal -->\n\n      <!-- decline application modal -->\n      <div class=\"modal fade decline-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Decline The Application</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <address>\n                    <strong class=\"text-capitalize\">Test Results For:</strong><br>\n                    Alex Wanjala AT Mombasa Road<br>\n                    email@mail.com, 0704 549 859<br>\n                    ID No. 12345689.<br/>\n                    <br>\n                    <small class=\"text-uppercase d-none\">Application Date 1 Mar 2022, 10:20 AM</small>\n\n                  </address>\n                </div>\n                <div class=\"col-6 text-right\">\n                  <address>\n                    <strong class=\"text-capitalize\">Location Details</strong><br>\n                    Street/Road: Mombasa Road<br>\n                    Plot No.: 122202/1250<br>\n                    Building: The Tower. Floor: 12. Door/Stall No.: 123<br/>\n                    Subcounty: CBD. Ward: Mututu\n\n\n                  </address>\n                </div>\n                <div class=\"col-12 mt-4\">\n                  <div class=\"hori-timeline\">\n                    <div class=\"owl-carousel owl-theme  navs-carousel events timeline-carousel\" id=\"timeline-carousel\">\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep 2023 10:09 AM</div>\n                            <h5 class=\"mb-4\">Application</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\">Self Service Portal</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">13 Sep 2023 10:09 AM</div>\n                            <h5 class=\"mb-4\">Lab Test</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3 text-capitalize\">\n                            <p class=\"text-muted\">Dr Mary Jane at Taifa Clinic</p>\n                            <a href=\"PrintDocs/health-result-slip-master/health-result-slip-master/slip33.html\" target=\"_blank\" type=\"button\" class=\"btn btn-link waves-effect\"><i class=\"mdi mdi-eye-outline\"></i> View Result Slip</a>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list active\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending</div>\n                            <h5 class=\"mb-4\">Application Verdict</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Certification</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"py-2 mt-3\">\n                  <h3 class=\"font-size-15 fw-bold\">ND12368</h3>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"table-responsive\">\n                  <table class=\"table table-nowrap\">\n                    <thead class=\"bg-light\">\n                    <tr>\n                      <th style=\"width: 70px;\">#</th>\n                      <th>Test</th>\n                      <th class=\"\" >Results</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                      <td>01</td>\n                      <td>Stool</td>\n                      <td>\n                        <span class=\"badge badge-soft-success fw-bolder  text-uppercase\">Pass</span>\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>02</td>\n                      <td>Urinalysis</td>\n                      <td>\n                        <span class=\"badge badge-soft-success fw-bolder  text-uppercase\">Pass</span>\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>03</td>\n                      <td>Salmonella Ag</td>\n                      <td>\n                        <span class=\"badge badge-soft-danger fw-bolder  text-uppercase\">Fail</span>\n                      </td>\n                    </tr>\n\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              <div class=\"alert alert-warning\" role=\"alert\">\n                <h4 class=\"alert-heading\">Doctor Notes</h4>\n                <p>\n                  The applicant needs a retake ...\n                </p>\n              </div>\n\n              <div class=\"col-12 mt-3\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label text-capitalize\">Reasons for Declining the application</label>\n                  <textarea class=\"form-control\" id=\"\" cols=\"30\" rows=\"3\" placeholder=\"Start Typing ...\"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"#\" target=\"_blank\" type=\"button\" class=\"btn btn-danger waves-effect waves-light w-100\">\n                <i class=\"mdi mdi-close font-size-16 align-middle me-2\"></i> Decline application\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- delcine application modal -->\n\n      <!-- payment modal -->\n      <div class=\"modal fade\" id=\"payment-modal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header d-none\">\n              <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n              </button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n                <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n                </button>\n              </div>\n\n              <div class=\"payment-panel-parent\">\n\n                <div v-if=\"paymentPanel\" class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4 pb-4 pt-4\">\n                    <img src=\"assets/images/bills.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-black fw-bold\">{{message}}</h4>\n                  <p class=\"text-muted mb-4\">The bill has been created Successfully, you can print the bill or opt to receive payment for this bill.</p>\n                  <div class=\"d-flex w-100 pb-2\">\n                    <button @click=\"showPaymentMethod()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                      <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                      Receive Payment\n                    </button>\n                    <a @click=\"printBill()\" target=\"_blank\" data-dismiss=\"\" type=\"button\" class=\"btn btn-outline-secondary waves-effect dismin-modal\">Print Bill</a>\n                  </div>\n                </div>\n\n                <div v-if=\"paymentMethod\" class=\"send-method payment-panel \">\n                  <label for=\"\" class=\"mb-0 pb-0\">Payment Method</label>\n                  <p><small class=\"text-muted\">How would you like to send this money?</small></p>\n\n                  <div>\n                    <div class=\"accordion\" id=\"accordionExample\">\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingOne\">\n                          <button class=\"accordion-button fw-medium\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/mpesa.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">MPESA</p>\n                              <p class=\"mb-0 p-0\"> <small>A payment request will be sent directly to the customer</small></p>\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseOne\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div>\n                              <p>\n                                A payment request of <strong class=\"text-black\">KES {{billDetail.billBalance}}</strong> will be sent to the MPESA number you enter below.\n                              </p>\n                            </div>\n                            <div class=\"form-group\">\n                              <label for=\"\">MPESA Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"phoneNumber\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Phone No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('MPESA')\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                                <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                                Send Payment Request\n                              </button>\n\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingThree\">\n                          <button class=\"accordion-button fw-medium collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/money.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">bank Receipting</p>\n                              <p class=\"mb-0 p-0\"> <small>Enter the receipt number here to confirm payment for this transaction.</small></p>\n\n\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div class=\"form-group\">\n                              <label for=\"\">Enter The Bank's Receipt Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"paymentData.bankReceiptNo\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Bank Ref No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('BANK')\" class=\"btn w-100 btn-warning mt-3 btn-bank\">\n                                Continue\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <div v-if=\"transactionSummary\" class=\"transaction-summary payment-panel\">\n                  <label for=\"\">Transaction Breakdown</label>\n                  <div class=\"border p-4 rounded \">\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted \">\n                          BillO NO.\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetail.billNo}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Bill For\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetail.incomeTypeDescription}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Payment Method\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{paymentData.paymentMode}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Transaction Amount\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          KES {{billDetail.billBalance}}\n                        </div>\n                      </div>\n\n\n                      <div class=\"col-12 text-black\"><hr class=\"mb-0 pb-0\"></div>\n\n                      <div class=\"col-lg-6 text-uppercase\">\n                        <div class=\"text-muted mt-2 font-21\">\n                          Total\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end text-uppercase\">\n                        <div class=\" text-right text-black font-21 fw-bold\">\n                          KES {{billDetail.billBalance}}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"mpesa-confirmation \">\n                      <div v-if=\"paymentData.paymentMode==='MPESA'\">\n                        <p class=\"text-muted mt-2\">A payment request of <strong class=\"text-black\">KES {{billDetail.billBalance}}</strong> will be sent to <strong class=\"text-black\"> phone number ({{ phoneNumber }})</strong> soon after you click the <strong class=\"text-black text-capitalize\">Send Request</strong> button bellow.\n                          <br>\n                          <br>\n                          Remember to <strong class=\"text-black\">Check your phone</strong> to confirm payment by entering your Mpesa pin.</p>\n                      </div>\n\n                      <div>{{message}}  </div>\n                      <br>\n                      <button @click=\"makePayment()\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect btn-send waves-light text-center w-100\">\n                        <div class=\"d-flex justify-content-center align-items-center\">\n                          <div class=\"stk-timer-container d-none justify-content-center align-items-center\">\n                            <span class=\"mdi mdi-timer-outline font-16px\"></span>\n                            <span class=\"stk-timer px-2\"></span>\n                          </div>\n                          <div class=\"justify-content-center align-items-center d-flex\">\n                            <span class=\"px-2\">Send Request</span>\n                            <div class=\"flip-x\"><i class=\"mdi mdi-reply ms-3 font-16px\"></i></div>\n                          </div>\n                        </div>\n                      </button>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div v-if=\"transactionCompleted\" class=\"text-center d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4\">\n                    <img src=\"assets/images/payment-confirmation-images/sent.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-blink-primary fw-bold\">Transaction Complete</h4>\n                  <p class=\"text-muted mb-4\"><strong class=\"text-black\">KES {{receiptDetails.receiptAmount}}</strong> has been received for <strong class=\"text-black\">Bill No. {{receiptDetails.billNo}}</strong></p>\n                  <button @click=\"printReceipt()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                    <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                    Print Receipt\n                  </button>\n                </div>\n\n\n\n              </div>\n            </div>\n            <div class=\"modal-footer d-flex d-none bill-modal-footer\">\n              <button href=\"javascript: void(0);\" disabled class=\"btn btn-outline-light waves-effect waves-light payment-prev\"> <i class=\"mdi mdi-arrow-left ms-1\"></i>Previouse</button>\n              <button href=\"javascript: void(0);\" class=\"btn btn-primary waves-effect waves-light payment-next\">Next <i class=\"mdi mdi-arrow-right ms-1\"></i></button>\n              <button href=\"javascript: void(0);\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect waves-light text-center d-none\">\n                <div class=\"d-flex justify-content-center align-items-center\"> <span>Send Money</span> <div class=\"flip-x\"><i class=\"mdi mdi-reply flip-x ms-3 font-16px\"></i></div></div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- end of payment modal -->\n\n      <!-- certificate issueance modal -->\n      <div class=\"modal fade test-details-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Lab Test Requisition Details </h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <address>\n                    <strong class=\"text-uppercase\">Patient's Details</strong><br>\n                    {{billDetail.description}}<br>\n                    Age: 890 Gender: Female<br>\n                    ID No. 12345689, Phone: {{billDetail.customerPhoneNumber}}, Email: email@email.com<br/>\n                    <p class=\"text-black fw-semibold text-uppercase mb-0\">(Visit No. 22 Order Num ORD-1234)</p>\n                    <br>\n\n                    <small class=\"text-uppercase d-none\">Application Date {{formatDate(billDetail.dateCreated)}}</small>\n\n                    <div class=\"alert alert-warning alert-dismissible fade show border-warning border-2 \" role=\"alert\">\n                      <i class=\"mdi mdi-alert-outline me-2 text-danger\"></i>\n                      This Lab test order is yet to be paid For.\n                      <button type=\"button\" class=\"btn-close d-none\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n                    </div>\n\n                    <hr class=\"mt-0 pt-0\">\n\n                  </address>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"hori-timeline\">\n                    <div class=\"owl-carousel owl-theme  navs-carousel events timeline-carousel mb-3\" id=\"timeline-carousel\">\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date \">\n                            <div class=\"text-primary mb-1\">Pending Payment</div>\n                            <h5 class=\"mb-4\">Scheduled for Lab Test</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx bxs-error-circle h1 text-warning down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize mb-0\">By ALex Wanjala (Physician)</p>\n                            <i><small>General OPD department</small></i>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Acknowledgement</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3 text-capitalize\">\n                            <p class=\"text-muted\">-</p>\n                            <a href=\"PrintDocs/health-result-slip-master/health-result-slip-master/slip33.html\" target=\"_blank\" type=\"button\" class=\"btn btn-link waves-effect d-none\"><i class=\"mdi mdi-eye-outline\"></i> View Result Slip</a>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Sample collection</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list \">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">Pending ...</div>\n                            <h5 class=\"mb-4\">Results Release</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">-</p>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n\n              <div class=\"col-12\">\n                <div class=\"table-responsive mt-2\">\n                  <table class=\"table table-nowrap border border-dark text-uppercase\">\n                    <thead class=\"bg-light\">\n                    <tr>\n                      <th style=\"width: 70px;\">#</th>\n                      <th>Test</th>\n                      <th class=\"text-right\">Amount</th>\n\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr :key=\"index\" :value=\"item\" v-for=\"(item, index) in billInfo\">\n                      <td>{{index+1}}</td>\n                      <td>{{item.feeDescription}}</td>\n                      <td class=\"text-right\">KES {{formatPrice(item.billBalance)}}</td>\n                    </tr>\n\n\n                    </tbody>\n                    <tfoot class=\"border border-dark table-light\">\n                    <tr class=\"text-black\">\n                      <th colspan=\"2\">{{billInfo.length}} Tests</th>\n                      <th class=\"text-right\">KES {{formatPrice(billDetail.billBalance)}}</th>\n                    </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n\n              <div class=\"col-12\">\n                <div class=\"row row flex-justify-end justify-content-end\">\n                  <div class=\"col-8\">\n                    <div class=\"table-responsive mt-4\">\n                      <table class=\"table text-uppercase table-sm table-striped table-striped-warning border border-warning\">\n                        <tbody>\n                        <tr>\n                          <th>Invoice Number</th>\n                          <td  class=\"text-black\">{{billDetail.billNo}}</td>\n                        </tr>\n                        <tr>\n                          <th>Receipt No.</th>\n                          <td  class=\"text-black\">-</td>\n                        </tr>\n                        <tr>\n                          <th>Payment Mode.</th>\n                          <td  class=\"text-black\">-</td>\n                        </tr>\n                        <tr>\n                          <th>Paid By</th>\n                          <td  class=\"text-black\">-</td>\n                        </tr>\n\n                        <tr>\n                          <th>Invoiced/Scheduled By</th>\n                          <td  class=\"text-black\">{{billDetail.names}} (Physician)</td>\n                        </tr>\n\n                        <tr>\n                          <th>Receipted By</th>\n                          <td class=\"text-black\">-</td>\n                        </tr>\n\n                        <tr>\n                          <th>Date receipted</th>\n                          <td class=\"text-black\">-</td>\n                        </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n\n            </div>\n            <div class=\"modal-footer\">\n\n              <a @click=\"printBill(billDetail.billNo)\" href=\"javascript: void(0);\" type=\"button\" class=\"btn btn-dark waves-effect waves-light text-uppercase\">\n                <i class=\"mdi mdi-printer font-size-16 align-middle me-2\"></i> Print Invoice\n              </a>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.Approve application -->\n      </div>\n      <!-- certificate issueance modal -->\n\n      <footer class=\"footer \">\n        <div class=\"container-fluid \">\n          <div class=\"row \">\n            <div class=\"col-sm-6 \">\n              ©Hospital Management Information System\n            </div>\n            <div class=\"col-sm-6 \">\n              <div class=\"text-sm-end d-sm-block \">\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n    <!-- end main content-->\n\n  </div>\n  <!-- END layout-wrapper -->\n\n  <!-- Right bar overlay-->\n  <div class=\"rightbar-overlay \"></div>\n\n  </body>\n\n</template>\n\n\n\n<script>\n/* eslint-disable */\nimport moment from 'moment'\nimport {biller, execute, executeDownload, getRight, parking, patient, rent, trade} from \"@/api\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport router from \"@/router\";\nimport ToolBarPatientQue from \"@/components/patient-queue/triage/ToolBarPatientQue.vue\";\nimport SideBarConsultation from \"@/components/patient-queue/consultation/SideBarConsultation.vue\";\nimport ToolBarLabStat from \"@/components/medical-lab/ToolBarLabStat.vue\";\nimport LabToolBar from \"@/components/medical-lab/LabToolBar.vue\";\n\nexport default {\n  name: \"LabOrdersPendingPayments\",\n  components: {LabToolBar, ToolBarLabStat, SideBarConsultation, ToolBarPatientQue, NavigationBar},\n  data() {\n    return {\n      patientInitials:\"\",\n\n      loading: false,\n      // set the initial current page as 1\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      totalItems:0,\n\n      search:\"\",\n\n      patientsDetails:{\n        patient: {\n          id: null,\n          patientID: null,\n          title: null,\n          names: null,\n          phoneNumber: null,\n          gender: null,\n          idNo: null,\n          dateOfBirth: null,\n          maritalStatus: null,\n          levelOfEducation: null,\n          nationality:null,\n          occupation: null,\n          religion: null,\n          languages: null,\n          bloodGroup: null,\n          physicalAddress: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardName: null,\n          wardID: null,\n          lastSeen: null,\n          lastUpdate: null,\n          email: null,\n          town: null,\n          dateCreated: null,\n          height: null,\n          weight\t: null,\n          bmi: null,\n          registrationFacility: null,\n          createdBy: null,\n          updatedBy: null,\n          lastSeenAt: null,\n          careCard: null\n        },\n        guarantor: {\n          id: null,\n          visitCode: null,\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          email: null,\n          physicalAddress: null,\n          relationship: null\n        },\n        kins: [\n          {\n            id: null,\n            patientIDNo: null,\n            idNo: null,\n            names: null,\n            phoneNumber: null,\n            address: null,\n            relationShip: null\n          },\n          {\n            id: null,\n            patientIDNo: null,\n            idNo: null,\n            names: null,\n            phoneNumber: null,\n            address: null,\n            relationShip: null\n          }\n        ],\n        visitEntries: {\n          id: null,\n          visitCode: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          email: null,\n          reasonForVisit: null,\n          description: null,\n          departmentVisiting: null,\n          doctorNurse: null,\n          triage: null,\n          meansOfArrival: null,\n          payment: null,\n          dateCreated: null\n        },\n        nhif: {\n          id: null,\n          visitCode: null,\n          number: null,\n          policyholder: null\n        },\n        insurance: {\n          id: null,\n          visitCode: null,\n          provider: null,\n          policyNumber: null,\n          authorizationCode: null,\n          policyholder: null\n        },\n        insurances: [{\n          id: null,\n          visitCode: null,\n          provider: null,\n          policyNumber: null,\n          authorizationCode: null,\n          policyholder: null\n        }],\n        employer: {\n          id: null,\n          visitCode: null,\n          companyName: null,\n          companyID: null,\n          authorizationCode: null\n        },\n        chronicIllnesses:[\n          {\n            illness:null,\n            dateCreated:null\n          }\n        ],\n        allergies:[\n          {\n            allergy:null,\n            dateCreated:null\n          }\n        ],\n      },\n      billDetails: [\n        {\n          receiptAmount: \"0\",\n        }\n\n      ],\n      billDetail: {\n         id: null,\n          billNo: null,\n        incomeTypeID: null,\n        incomeTypeDescription: null,\n        costCenterNo: null,\n        accountNo: null,\n        description: null,\n        feeID: null,\n        feeDescription: null,\n        detailAmount: null,\n        receiptAmount: null,\n        billBalance: null,\n        wardID: null,\n        subCountyID: null,\n        subCountyName: null,\n        wardName: null,\n        status: null,\n        dateCreated: null,\n        zone: null,\n        departmentID: null,\n        department: null,\n        idNo: null,\n        phoneNumber: null,\n        names: null,\n        customerPhoneNumber: null,\n        category: null,\n        incomeTypePrefix: null,\n        printable: true,\n        customers: null,\n        receiptedBy: null,\n        patientID: null\n\n      },\n      billInfo: [\n        {\n          id: null,\n          billNo: null,\n          feeID: null,\n          feeDescription: null,\n          fiscalYear: null,\n          paymentCode: null,\n          customer: null,\n          description: null,\n          periodID: null,\n          wardID: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardName: null,\n          createdBy: null,\n          billTotal: null,\n          receiptAmount: null,\n          billBalance: null,\n          status: null,\n          dateCreated: null,\n          zone: null,\n          departmentID: null,\n          department: null,\n          idNo: null,\n          phoneNumber: null,\n          names: null,\n          customerPhoneNumber: null,\n          category: null,\n          incomeTypePrefix: null,\n          quantity: null,\n          patientID: null\n        }],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode:null,\n        sessionNames:null,\n        sessionIdNo:null,\n        sessionPhoneNumber:null\n      },\n      amount:0,\n      feeID:null,\n      unitFeeAmount:0,\n      totalAmount:0,\n      message: null,\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      phoneNumber:null,\n\n    }\n  },\n  watch: {\n\n    //pagination code\n    // define a watcher for the pageSize property\n    pageSize(newPageSize) {\n      this.getPatient()//Todo to change here\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.totalItems;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n\n    },\n\n    search(){\n      this.getPatient()\n    },\n    documentType(){\n      if(this.documentType === \"pdf\"){\n        // this.downloadReport()\n      }else if(this.documentType ===\"excel\"){\n        // this.downloadReport()\n      }else {\n\n      }\n\n    },\n\n  },\n  computed:{\n    //pagination code todo pagination\n    // calculate the start index of the items for the current page\n    startIndex() {\n      return (this.currentPage - 1) * this.pageSize;\n    },\n    // calculate the end index of the items for the current page\n    endIndex() {\n      return this.currentPage * this.pageSize;\n    },\n  },\n  mounted() {\n\n    this.dateFrom = moment().format('YYYY-MM-DD')\n    this.dateTo = moment().format('YYYY-MM-DD')\n\n    this.$watch('dateFrom', function (newValue) {\n      if (this.dateFrom === '' || this.dateTo === '') {\n\n      } else {\n        this.getSubCountiesRevenue()\n      }\n\n    })\n    this.$watch('dateTo', function (newValue) {\n      if (this.dateFrom === '' || this.dateTo === '') {\n\n      } else {\n        this.getSubCountiesRevenue()\n      }\n    })\n    this.menuAccess()\n    this.getBills()\n  },\n  methods: {\n\n    menuAccess(){\n\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"Reports Sub County\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\",  sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data,biller)\n          .then((res) => {\n            // alert(res.data.message);\n          })\n          .catch((e) => {\n            // alert(e.message);\n          });\n\n    },\n\n    getRight(type){\n      return getRight(type)\n    },\n    //pagination code todo pagination\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n// return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getVisitEntries()//Todo change\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getVisitEntries()//Todo change\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getVisitEntries()//Todo change\n      }\n    },\n\n    formatDate(date) {\n      let d = new Date(date);\n      let day = d.getDate();\n      let month = d.toLocaleString('en-US', { month: 'short' });\n      let year = d.getFullYear();\n\n      let suffix = '';\n      if (day % 10 === 1 && day !== 11) {\n        suffix = 'st';\n      } else if (day % 10 === 2 && day !== 12) {\n        suffix = 'nd';\n      } else if (day % 10 === 3 && day !== 13) {\n        suffix = 'rd';\n      } else {\n        suffix = 'th';\n      }\n      return `${day}${suffix} ${month} ${year}`;\n    },\n    showDate() {\n      const dateObj = new Date();\n      const currentDate =\n          dateObj.getDate() +\n          \"/\" +\n          dateObj.getMonth() +\n          \"/\" +\n          dateObj.getFullYear();\n      return currentDate;\n    },\n    gotTo(route,patientID) {\n      sessionStorage.setItem(\"selectedSub\",route)\n      sessionStorage.setItem(\"patientID\",patientID)\n      sessionStorage.setItem(\"patientIDNo\",patientID)\n      router.push(route)\n    },\n    gotToAll(route) {\n      sessionStorage.setItem(\"currentPage\",route)\n      sessionStorage.setItem(\"dateTo\", this.dateTo)\n      sessionStorage.setItem(\"dateFrom\", this.dateFrom)\n      sessionStorage.setItem(\"subCountyName\", \"ALL SUB COUNTIES\")\n      sessionStorage.setItem(\"subCountyID\", \"\")\n      //todo to check on this figures\n      sessionStorage.setItem(\"totalTransactions\", this.totalTransactions)\n      sessionStorage.setItem(\"amountTotal\", this.totalAmount)\n      sessionStorage.setItem(\"totalAgents\", this.totalAgents)\n      sessionStorage.setItem(\"totalZones\", this.totalZones)\n      router.push(route)\n    },\n    formatPrice(value) {\n      let val = (value / 1).toFixed(2).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num)\n    },\n    getBills() {\n      this.billDetails.splice(0)\n      this.loading = true\n      const data = new FormData();\n      data.append(\"function\", \"getBills\");\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      /* data.append(\"status\", \"UNPAID\");*/\n      data.append(\"dateFrom\", this.dateFrom);\n      data.append(\"dateTo\", this.dateTo);\n      data.append(\"keyword\", this.search)\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.billDetails = res.data.data.billDetails\n\n            } else {\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message = e.message\n          });\n    },\n    printBill(billNo) {\n      localStorage['params'] = JSON.stringify({\n        billNo: billNo\n      })\n      const routeData = this.$router.resolve({name: 'bill'});\n      window.open(routeData.href, '_blank');\n    },\n    getBill(billNo) {\n      this.billNo = billNo\n      const data = new FormData();\n      data.append(\"function\", \"getBill\");\n      data.append(\"billNo\", billNo);\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.billInfo = res.data.data.billInfo\n              this.billDetail = res.data.data.billDetails\n\n              this.invoiceGenerated = true\n              this.paymentData.amount = res.data.data.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.payBill.shortCode\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n              this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\")\n\n            } else {\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message = e.message\n          });\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        })\n        const routeData = this.$router.resolve({name: 'receipt'});\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod(){\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false\n    },\n    showTransactionSummary(paymentMode){\n\n      this.paymentData.paymentMode = paymentMode\n\n      if(paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n\n      }\n\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false\n    },\n    makePayment() {\n      if(this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber\n\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n\n      execute(data, stream)\n          .then((res) => {\n            if (res.data.success) {\n              this.paymentMethod = false;\n              this.paymentPanel = false;\n              //start checking payment\n              this.timer = setInterval(() => {\n\n                this.checkPayment();\n              }, 3000);\n            } else {\n              this.rate = null;\n              alert(res.data.message);\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1\n      if(this.randomNumber === 1){\n        this.message = \"Waiting for payment.\";\n      }\n      if(this.randomNumber === 2){\n        this.message = \"Waiting for payment..\";\n      }\n      if(this.randomNumber ===3){\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.message = null;\n              clearInterval(this.timer);\n              this.receipt = true;\n              this.paymentData.success = false;\n              this.transaction = res.data.data.transaction;\n              this.receiptDetails = res.data.data.receipt.receiptDetails\n              //Close the modal\n              this.transactionSummary = false\n              this.transactionCompleted = true\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n\n\n\n  },\n}\n</script>\n\n\n\n\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}