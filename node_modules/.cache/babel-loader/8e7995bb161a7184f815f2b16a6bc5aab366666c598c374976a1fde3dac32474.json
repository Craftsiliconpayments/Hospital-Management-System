{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport moment from \"moment/moment\";\nimport { base, authUrl, biller, execute, execute2, executeDownload, executeJson, getRight, landRate } from \"@/api\";\nimport router from \"@/router\";\nimport ToolBar from \"@/components/parking/ToolBar.vue\";\nimport ToolBarPlot from \"@/components/plotrent/ToolBar.vue\";\nexport default {\n  name: \"LandRate\",\n  components: {\n    ToolBarPlot,\n    ToolBar,\n    NavigationBar\n  },\n  data() {\n    return {\n      demandNotice: false,\n      generateBillLoading: false,\n      templateURL: base + \"/templates/LANDRATE_DATA_TEMPLATE.xlsx\",\n      useName: '',\n      uses: [{\n        id: null,\n        name: null\n      }],\n      blocks: [{\n        id: null,\n        block: null,\n        subCountyName: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null\n      }],\n      block: '',\n      title: '',\n      feeID: '',\n      amount: 0,\n      unitFeeAmount: 0,\n      quantity: 1,\n      subCountyName: '',\n      wardName: '',\n      dateFrom: '',\n      dateTo: '',\n      searchValue: \"\",\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      download: 'Download Report',\n      loading: false,\n      keyword: '',\n      color: 'alert-success',\n      subCountyID: '',\n      wardID: '',\n      subCounties: [{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards: [{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty: {\n        id: \"\",\n        countyID: \"\",\n        countyName: \"\",\n        subCountyID: \"\",\n        subCountyName: \"\",\n        wardID: \"\",\n        wardName: \"\",\n        status: \"\"\n      },\n      ward: {\n        id: \"\",\n        countyID: \"\",\n        countyName: \"\",\n        subCountyID: \"\",\n        subCountyName: \"\",\n        wardID: \"\",\n        wardName: \"\",\n        status: \"\"\n      },\n      billingModule: {\n        incomeType: {\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes: [{\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        }]\n      },\n      properties: [{\n        id: null,\n        LRNumber: null,\n        subCountyName: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        plotSize: null,\n        lat: null,\n        lng: null,\n        percelAddress: null,\n        ownerNames: null,\n        ownerEmail: null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null,\n        zone: null\n      }],\n      property: {\n        id: null,\n        upn: \"\",\n        LRNumber: null,\n        subCountyName: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        percelSize: null,\n        lat: null,\n        lng: null,\n        percelAddress: null,\n        ownerNames: null,\n        ownerEmail: null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null,\n        zone: null,\n        block: null,\n        useName: null\n      },\n      totalUncomplint: 0,\n      totalCompliant: 0,\n      totalArrears: 0,\n      totalAnnual: 0,\n      totalBalance: 0,\n      feesAndCharges: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      selectedProperties: [{\n        id: null,\n        LRNumber: null,\n        subCounty: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        percelSize: null,\n        lat: null,\n        lng: null,\n        percelAddress: null,\n        ownerNames: null,\n        ownerEmail: null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null,\n        block: null,\n        useName: null\n      }],\n      totalAmount: 0,\n      message: null,\n      feesAndChargeItems: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: null\n      }],\n      billItem: [],\n      billDetails: {\n        id: '',\n        billNo: '',\n        incomeTypeID: '',\n        incomeTypeDescription: '',\n        costCenterNo: '',\n        accountNo: '',\n        feeID: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        wardID: '',\n        subCountyID: '',\n        status: '',\n        dateCreated: ''\n      },\n      billInfo: [],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode: null,\n        sessionNames: null,\n        sessionIdNo: null,\n        sessionPhoneNumber: null\n      },\n      alert: {\n        success: false,\n        info: false,\n        failed: false\n      },\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      zone: '',\n      zones: [],\n      summary: {\n        count: 0\n      }\n    };\n  },\n  watch: {\n    pageSize(newPageSize) {\n      this.getLandRates();\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.summary.count;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n    },\n    subCounty: function () {\n      this.subCountyID = this.subCounty.subCountyID;\n      this.subCountyName = this.subCounty.subCountyName;\n      this.getWards();\n      this.getLandRates();\n    },\n    ward: function () {\n      this.wardID = this.ward.wardID;\n      this.wardName = this.ward.wardName;\n      this.getLandRates();\n    },\n    quantity: function () {\n      this.amount = this.quantity * this.unitFeeAmount;\n    }\n  },\n  mounted() {\n    this.getLandRates();\n    this.getSubCounties();\n    this.$watch('keyword', function (newValue) {\n      this.keyword = newValue;\n      this.getLandRates();\n    });\n    this.$watch('dateFrom', function () {\n      if (this.dateFrom === '' || this.dateTo === '') {} else {\n        this.getLandRates();\n      }\n    });\n    this.$watch('dateTo', function () {\n      if (this.dateFrom === '' || this.dateTo === '') {} else {\n        this.getBusinessData();\n      }\n    });\n    this.subCountyID = sessionStorage.getItem(\"sessionSubCountyID\");\n    this.wardID = sessionStorage.getItem(\"sessionWardID\");\n    this.getLandRates();\n    this.getIncomeTypes();\n    this.getBlocks();\n    this.getUses();\n    this.menuAccess();\n  },\n  computed: {\n    // calculate the start index of the items for the current page\n    startIndex() {\n      return (this.currentPage - 1) * this.pageSize;\n    },\n    // calculate the end index of the items for the current page\n    endIndex() {\n      return this.currentPage * this.pageSize;\n    }\n  },\n  methods: {\n    menuAccess() {\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"Land Rate\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\", sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data, biller).then(res => {\n        // alert(res.data.message);\n      }).catch(e => {\n        // alert(e.message);\n      });\n    },\n    //pagination code\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n      // return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getLandRates();\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getLandRates();\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getLandRates();\n      }\n    },\n    formatDate(date) {\n      let d = new Date(date);\n      let day = d.getDate();\n      let month = d.toLocaleString('en-US', {\n        month: 'short'\n      });\n      let year = d.getFullYear();\n      let suffix = '';\n      if (day % 10 === 1 && day !== 11) {\n        suffix = 'st';\n      } else if (day % 10 === 2 && day !== 12) {\n        suffix = 'nd';\n      } else if (day % 10 === 3 && day !== 13) {\n        suffix = 'rd';\n      } else {\n        suffix = 'th';\n      }\n      return `${day}${suffix} ${month} ${year}`;\n    },\n    formattedTime(time) {\n      return moment(time).format('hh:mm A');\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num);\n    },\n    getSubCounties() {\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.subCounties = res.data.data.subCounties;\n\n          //preselection\n          this.subCounties.forEach((value, index) => {\n            if (this.selectedUser.subCountyID === value.subCountyID) {\n              this.subCounty = this.subCounties[index];\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    changeTitle() {\n      this.title = \"ADD NEW PLOT\";\n    },\n    maskPhoneNumber(input) {\n      if (!input || typeof input !== 'string') {\n        return input; // Return as is if input is null, undefined, or not a string\n      }\n\n      const digits = input.replace(/\\D/g, '');\n      if (digits.length > 4) {\n        return input.slice(0, 2) + input.slice(2, -2).replace(/\\d/g, '*') + input.slice(-2);\n      }\n      return input; // Return as is if not a phone number or too short\n    },\n\n    getWards() {\n      this.wards = [];\n      this.ward = '';\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.wards = res.data.data.wards;\n\n          //preselection\n          this.wards.forEach((value, index) => {\n            if (this.selectedUser.wardID === value.wardID) {\n              this.ward = this.wards[index];\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedIncomeType(event) {\n      const value = event.target.value;\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId);\n    },\n    getIncomeTypes() {\n      this.message = null;\n      this.billingModule.incomeTypes.splice(0);\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", \"LANDRATE\");\n      data.append(\"keyword\", \"Land Rate\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.billingModule.incomeTypes = res.data.data.incomeTypes;\n          this.getFeesAndChargesBilling(this.billingModule.incomeTypes[0].incomeTypeId);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndChargesBilling(incomeTypeId) {\n      this.message = null;\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.feesAndCharges = res.data.data.feesAndCharges;\n          this.selectedFeeAndChargeFirstOne();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedFeeAndCharge(event) {\n      const data = JSON.parse(event.target.value);\n      this.amount = data.unitFeeAmount;\n      this.feeID = data.feeId;\n      this.unitFeeAmount = data.unitFeeAmount;\n      this.feesAndChargeItems = [];\n      this.feesAndChargeItems.splice(0);\n      this.feesAndChargeItems.push(data);\n    },\n    selectedFeeAndChargeFirstOne() {\n      const data = this.feesAndCharges[0];\n      this.amount = data.unitFeeAmount;\n      this.feeID = data.feeId;\n      this.unitFeeAmount = data.unitFeeAmount;\n      this.feesAndChargeItems = [];\n      this.feesAndChargeItems.splice(0);\n      this.feesAndChargeItems.push(data);\n    },\n    selectPlot(property, title) {\n      this.title = title;\n      this.property = property;\n      this.selectedProperties.splice(0);\n      this.totalAmount = 0;\n      this.feesAndChargeItems.splice(0);\n      this.selectedProperties.push(property);\n      this.billItem.splice(0);\n    },\n    deleteLandRate(plot) {\n      this.property = plot;\n\n      // Display a confirmation dialog\n      if (window.confirm(\"Are you sure you want to delete  '\" + this.property.LRNumber + \"'?\")) {\n        const data = new FormData();\n        data.append(\"function\", \"deleteLandRate\");\n        data.append(\"id\", this.property.id);\n        data.append(\"property\", JSON.stringify(this.property));\n        data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n        data.append(\"sessionIdNo\", sessionStorage.getItem(\"sessionIdNo\"));\n        data.append(\"sessionPhoneNumber\", sessionStorage.getItem(\"sessionPhoneNumber\"));\n        execute(data, landRate).then(res => {\n          if (res.data.success) {\n            this.getLandRates();\n          } else {\n            this.message = res.data.message;\n          }\n        }).catch(e => {\n          //alert(e.message);\n          this.message = e.message;\n        });\n      } else {\n        // If the user cancels, do nothing or perform any other desired action\n      }\n    },\n    addBlock() {\n      // Display a confirmation dialog\n      if (window.confirm(\"Are you sure you want to add?\")) {\n        const data = new FormData();\n        data.append(\"function\", \"addBlock\");\n        data.append(\"block\", this.block);\n        data.append(\"subCountyID\", this.subCounty.subCountyID);\n        data.append(\"subCountyName\", this.subCounty.subCountyName);\n        data.append(\"wardID\", this.ward.wardID);\n        data.append(\"wardName\", this.ward.wardName);\n        execute(data, landRate).then(res => {\n          if (res.data.success) {\n            this.getBlocks();\n          } else {\n            this.message = res.data.message;\n          }\n        }).catch(e => {\n          //alert(e.message);\n          this.message = e.message;\n        });\n      } else {\n        // If the user cancels, do nothing or perform any other desired action\n      }\n    },\n    getBlocks() {\n      this.blocks.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getBlocks\");\n      execute(data, landRate).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.blocks = res.data.data.blocks;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getUses() {\n      this.uses.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getUses\");\n      execute(data, landRate).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.uses = res.data.data.uses;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getLandRates() {\n      this.loading = true;\n      this.properties.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getLandRates\");\n      data.append(\"search\", this.keyword !== undefined ? this.keyword : \"\");\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      data.append(\"dateFrom\", this.dateFrom);\n      data.append(\"dateTo\", this.dateTo);\n      data.append(\"subCountyID\", this.subCountyID !== null && this.subCountyID !== undefined ? this.subCountyID : \"\");\n      data.append(\"wardID\", this.wardID !== null && this.wardID !== undefined ? this.wardID : \"\");\n      execute(data, landRate).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.properties = res.data.data.properties;\n          this.summary = res.data.data.count.count;\n          this.totalItems = res.data.data.count.count;\n          this.totalPages = Math.ceil(this.totalItems / this.pageSize);\n          this.totalAnnual = this.properties.reduce((acc, cur) => {\n            let totalAmount = Number(cur.annualCharges);\n            return acc + totalAmount;\n          }, 0);\n          this.totalBalance = this.properties.reduce((acc, cur) => {\n            let totalAmount = Number(cur.outstandingArrears);\n            return acc + totalAmount;\n          }, 0);\n          this.totalArrears = this.properties.reduce((acc, cur) => {\n            let totalAmount = Number(cur.outstandingArrears);\n            return acc + totalAmount;\n          }, 0);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addLandRates() {\n      this.property.subCountyName = this.subCounty.subCountyName;\n      this.property.subCountyID = this.subCounty.subCountyID;\n      this.property.wardName = this.ward.wardName;\n      this.property.wardID = this.ward.wardID;\n      this.property.block = this.block;\n      this.property.useName = this.useName;\n      this.property.createdBy = sessionStorage.getItem(\"sessionNames\");\n      this.property.createdByIDNo = sessionStorage.getItem(\"sessionIdNo\");\n      const data = {\n        ...this.property,\n        function: \"addLandRates\"\n      };\n      executeJson(data, landRate).then(res => {\n        if (res.data.success) {\n          alert(res.data.message);\n          this.getLandRates();\n          this.title = \"Add New Property\";\n        } else {\n          this.message = res.data.message;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getRight(type) {\n      return getRight(type);\n    },\n    generateFeeAndChargesItem() {\n      // Loop through the selectedVehicles array\n      for (let item of this.selectedProperties) {\n        // Create a new object with the mapped values\n        let newItem = {\n          feeId: this.feeID,\n          // Map feeID to feeId\n          unitFeeAmount: this.amount,\n          // Map amount to unitFeeAmount\n          customer: item.LRNumber,\n          customerPhoneNumber: this.property.ownerPhoneNo\n        };\n        // Push the new object to the feesAndChargeItems array\n        this.feesAndChargeItems.splice(0);\n        this.feesAndChargeItems.push(newItem);\n      }\n      this.addToBill();\n    },\n    addToBill() {\n      for (const {\n        typeDescription,\n        feeId,\n        feeDescription,\n        unitFeeAmount,\n        accountNo,\n        costCenterNo,\n        incomeTypeId,\n        customer\n      } of this.feesAndChargeItems) {\n        this.totalAmount += parseFloat(unitFeeAmount);\n        this.billItem.push({\n          typeDescription,\n          feeDescription,\n          unitFeeAmount: unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: this.property.LRNumber,\n          feeId,\n          amount: unitFeeAmount,\n          customer: customer,\n          zone: this.property.zone,\n          subCountyID: this.property.subCountyID,\n          subCountyName: this.property.subCountyName,\n          wardID: this.property.wardID,\n          wardName: this.property.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.property.phoneNumber,\n          description: `UPN NO.: ${this.property.upn} | Block No. : ${this.property.block} | Plot No.: ${this.property.LRNumber} | Address.: ${this.property.percelAddress} | Name.: ${this.property.ownerNames}`\n        });\n      }\n    },\n    generateDemandBill() {\n      this.demandNotice = false;\n      this.generateBillLoading = true;\n      this.amount = this.property.outstandingArrears;\n      this.generateFeeAndChargesItem();\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      data.append(\"customerPhoneNumber\", this.property.ownerPhoneNo);\n      data.append(\"messageCode\", \"DEMAND-NOTICE\");\n      data.append(\"names\", this.property.ownerNames);\n      data.append(\"email\", this.property.ownerEmail);\n      execute(data, biller).then(res => {\n        this.demandNotice = true;\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    generateBill() {\n      this.generateFeeAndChargesItem();\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data, biller).then(res => {\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    printBillDemandNotice() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'demand-notice'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'bill'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        });\n        const routeData = this.$router.resolve({\n          name: 'receipt'\n        });\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod() {\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n    },\n    showTransactionSummary(paymentMode) {\n      this.paymentData.paymentMode = paymentMode;\n      if (paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false;\n    },\n    makePayment() {\n      if (this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.paymentMethod = false;\n          this.paymentPanel = false;\n          //start checking payment\n          this.timer = setInterval(() => {\n            this.checkPayment();\n          }, 3000);\n        } else {\n          this.rate = null;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1;\n      if (this.randomNumber === 1) {\n        this.message = \"Waiting for payment.\";\n      }\n      if (this.randomNumber === 2) {\n        this.message = \"Waiting for payment..\";\n      }\n      if (this.randomNumber === 3) {\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = null;\n          clearInterval(this.timer);\n          this.receipt = true;\n          this.paymentData.success = false;\n          this.transaction = res.data.data.transaction;\n          this.receiptDetails = res.data.data.receipt.receiptDetails;\n          //Close the modal\n          this.transactionSummary = false;\n          this.transactionCompleted = true;\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    formatPrice(value) {\n      var formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'KES',\n        minimumFractionDigits: 2\n      });\n      return formatter.format(value);\n    },\n    gotTo(route, LRNumber, zone) {\n      sessionStorage.setItem(\"LRNumber\", LRNumber);\n      sessionStorage.setItem(\"zone\", zone);\n      router.push(route);\n    },\n    getZones(subCountyID) {\n      this.message = null;\n      this.zones.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getZones\");\n      data.append(\"subCountyID\", subCountyID);\n      execute(data, authUrl).then(res => {\n        if (res.data.success) {\n          this.zones = res.data.data.zones;\n          this.zones.forEach((value, index) => {\n            if (this.selectedUser.zone.includes(value.zone)) {\n              this.zone.push(this.zones[index].zone);\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    handleFileChange: function (event) {\n      console.log(\"File selected:\", event.target.files[0]);\n      this.selectedFile = event.target.files[0];\n    },\n    uploadLandRateToQue() {\n      if (!this.subCounty || !this.subCounty.subCountyName) {\n        // Handle the case where subCounty or subCountyName is null or empty\n        alert(\"Select Sub County\");\n        return;\n      }\n      if (!this.zone || this.zone.trim() === '' || !this.selectedFile) {\n        // Handle the case when this.zone is empty or null, or when this.selectedFile is not set\n        alert(\"Either zone is empty or null, or selectedFile is not set.\");\n      } else {\n        this.closeModal();\n        console.log(\"Upload button clicked\");\n        console.log(\"Selected File in uploadExcelToQue:\", this.selectedFile);\n        this.loading = true;\n        // Make sure 'file' is a valid File object\n        const data = new FormData();\n        data.append(\"function\", \"uploadLandRateToQue\");\n        data.append(\"fileToUpload\", this.selectedFile);\n        data.append(\"zone\", this.zone);\n        data.append(\"createdBy\", sessionStorage.getItem(\"sessionNames\"));\n        data.append(\"createdByIDNo\", sessionStorage.getItem(\"sessionIdNo\"));\n\n        // Assuming 'pay' is defined\n        execute2(data, landRate).then(res => {\n          this.loading = false;\n          alert(res.data.message);\n          if (res.data.success) {\n            this.alert.success = true;\n            this.getLandRates();\n          } else {\n            // Handle failure case\n            this.alert.failed = true;\n            this.message = res.data.message;\n          }\n        }).catch(e => {\n          // Handle network or other errors\n          // alert(e.message);\n          // this.alert.failed = true\n        });\n      }\n    },\n    closeModal() {\n      var modal = document.querySelector('.modal');\n      var modalBackdrop = document.querySelector('.modal-backdrop');\n      if (modal && modalBackdrop) {\n        modal.style.display = 'none';\n        modalBackdrop.style.display = 'none';\n      }\n    }\n  }\n};","map":{"version":3,"names":["NavigationBar","moment","base","authUrl","biller","execute","execute2","executeDownload","executeJson","getRight","landRate","router","ToolBar","ToolBarPlot","name","components","data","demandNotice","generateBillLoading","templateURL","useName","uses","id","blocks","block","subCountyName","subCountyID","wardName","wardID","title","feeID","amount","unitFeeAmount","quantity","dateFrom","dateTo","searchValue","currentPage","totalPages","pageSize","download","loading","keyword","color","subCounties","wards","subCounty","countyID","countyName","status","ward","billingModule","incomeType","incomeTypeId","incomeTypeDescription","incomeTypePrefix","fundDescription","incomeTypes","properties","LRNumber","plotSize","lat","lng","percelAddress","ownerNames","ownerEmail","ownerPhoneNo","outstandingArrears","annualCharges","createdBy","createdByIDNo","dateCreated","zone","property","upn","percelSize","totalUncomplint","totalCompliant","totalArrears","totalAnnual","totalBalance","feesAndCharges","feeId","feeDescription","unitOfMeasure","accountNo","feeType","accountDesc","costCenterNo","typeDescription","selectedProperties","totalAmount","message","feesAndChargeItems","customer","billItem","billDetails","billNo","incomeTypeID","detailAmount","receiptAmount","billBalance","billInfo","paymentData","bankReceiptNo","accNo","payBillNo","phoneNumber","success","paymentMode","sessionNames","sessionIdNo","sessionPhoneNumber","alert","info","failed","transactionCompleted","transactionSummary","paymentPanel","paymentMethod","zones","summary","count","watch","newPageSize","getLandRates","totalItems","newTotalPages","Math","ceil","getWards","mounted","getSubCounties","$watch","newValue","getBusinessData","sessionStorage","getItem","getIncomeTypes","getBlocks","getUses","menuAccess","computed","startIndex","endIndex","methods","FormData","append","then","res","catch","e","pagination","maxVisibleButtons","pages","start","floor","end","i","push","unshift","prevPage","nextPage","goToPage","page","formatDate","date","d","Date","day","getDate","month","toLocaleString","year","getFullYear","suffix","formattedTime","time","format","numberFormat","num","britishNumberFormatter","Intl","NumberFormat","forEach","value","index","selectedUser","changeTitle","maskPhoneNumber","input","digits","replace","length","slice","selectedIncomeType","event","target","result","JSON","parse","getFeesAndChargesBilling","splice","selectedFeeAndChargeFirstOne","selectedFeeAndCharge","selectPlot","deleteLandRate","plot","window","confirm","stringify","addBlock","undefined","reduce","acc","cur","Number","addLandRates","function","type","generateFeeAndChargesItem","item","newItem","customerPhoneNumber","addToBill","parseFloat","revenueStreamItem","idNo","names","description","generateDemandBill","bill","billGenerated","generateBill","printBillDemandNotice","localStorage","routeData","$router","resolve","open","href","printBill","printReceipt","receiptDetails","receiptNo","showPaymentMethod","showTransactionSummary","makePayment","timer","setInterval","checkPayment","rate","randomNumber","random","clearInterval","receipt","transaction","formatPrice","formatter","style","currency","minimumFractionDigits","gotTo","route","setItem","getZones","includes","handleFileChange","console","log","files","selectedFile","uploadLandRateToQue","trim","closeModal","modal","document","querySelector","modalBackdrop","display"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/biller/meru-biller/src/components/plotrent/LandRate.vue"],"sourcesContent":["<template>\n\n\n  <!-- index.html   13:53:02 GMT -->\n\n  <head>\n\n    <meta charset=\"utf-8\" />\n    <title>Desk Birdy | Parking Quick Stats</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Rental management system by Nouveta LTD\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n    <!-- droping file -->\n    <link href=\"assets/libs/dropzone/min/dropzone.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- DataTables -->\n    <link href=\"assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css\" rel=\"stylesheet\"\n          type=\"text/css\" />\n\n    <!-- // Add the new slick-theme.css if you want the default styling -->\n    <link rel=\"stylesheet\" href=\"assets/libs/slick/slick.css\"/>\n    <link rel=\"stylesheet\" href=\"assets/libs/slick/slick-theme.css\"/>\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\"\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- App Css-->\n\n    <!-- owl.carousel css -->\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.carousel.min.css\">\n\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.theme.default.min.css\">\n\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n  </head>\n\n  <body @contextmenu.prevent data-sidebar=\"dark\">\n\n\n\n  <!-- Begin page -->\n  <div id=\"layout-wrapper\">\n\n\n    <NavigationBar/>\n\n\n    <!-- ============================================================== -->\n    <!-- Start right Content here -->\n    <!-- ============================================================== -->\n    <div  id=\"content\" class=\"content-minimize\">\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row \">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18\">Plot Rent Register</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Dashboards</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Land & Plots</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Plot Rent Register</a></li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n\n          <!-- tool bar -->\n\n          <ToolBarPlot/>\n\n          <!-- end of toolbar -->\n          <div class=\"row\">\n\n            <div class=\"col-12 px-sm-30px\">\n              <div class=\"card\">\n                <div class=\"card-header bg-white  w-100 border-bottom d-flex justify-content-between align-items-center\">\n                  <h4 class=\"card-title text-capitalize\">\n                    Land Rate Register\n                  </h4>\n\n                  <div class=\"d-flex\">\n\n                    <!--                    <button data-bs-toggle=\"modal\" data-bs-target=\".add-plot-modal\" type=\"button\" class=\"btn btn-success text-uppercase dropdown-toggle option-selector me-3\">\n                                          <i class=\"bx bx-plus font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add A Plot</span>\n                                        </button>\n\n                                        <button data-bs-toggle=\"modal\" data-bs-target=\".upload-plot-modal\" type=\"button\" class=\"btn btn-info text-uppercase dropdown-toggle option-selector me-3\">\n                                          <i class=\"mdi mdi-file-document-outline font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Upload Plots</span>\n                                        </button>-->\n\n                  </div>\n                  <div class=\"d-flex\">\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".add-plot-modal\" type=\"button\" class=\"btn btn-success text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"bx bx-plus font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add Property</span>\n                    </button>\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".upload-plot-modal\" type=\"button\" class=\"btn btn-info text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"mdi mdi-file-document-outline font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Upload Property Sheet</span>\n                    </button>\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".add-block-modal\" type=\"button\" class=\"btn btn-secondary text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"mdi mdi-layers-plus font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add A Block</span>\n                    </button>\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".land-use-modal\" type=\"button\" class=\"btn btn-warning text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"mdi mdi-key font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Land Use Key</span>\n                    </button>\n\n                  </div>\n\n                </div>\n                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom\">\n\n                  <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n                    <div class=\"flex-grow-1\">\n                      <div class=\"search-box mb-0 me-3\">\n                        <div class=\"position-relative\">\n                          <input v-model=\"keyword\" type=\"text\" class=\"form-control bg-light border-light rounded\" placeholder=\"Search...\" fdprocessedid=\"husj3l\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          <i class=\"bx bx-search-alt search-icon\"></i>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n\n                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom\">\n\n                  <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n\n\n                    <div class=\"d-flex\">\n                      <select class=\"form-select w-auto font-13px mx-3\" v-model=\"subCounty\">\n                        <option value=\"10\">All Sub Counties</option>\n                        <option :key=\"index\" :value=\"item\" v-for=\"(item, index) in subCounties\">\n                          {{ item.subCountyName }}\n                        </option>\n                      </select>\n\n\n                      <select class=\"form-select w-auto font-13px mx-3\" v-model=\"ward\">\n                        <option value=\"10\">All Wards</option>\n                        <option :key=\"index\" :value=\"item\"\n                                v-for=\"(item, index) in wards\">\n                          {{ item.wardName }}\n                        </option>\n                      </select>\n\n                      <select class=\"form-select w-auto font-13px mx-3\">\n                        <option value=\"10\">All Attendants</option>\n                        <option value=\"25\">Kelvin Kinoti</option>\n                        <option value=\"50\">Bahati Bukuku</option>\n                        <option value=\"100\">John Opio</option>\n                        <option value=\"150\">Maua Town</option>\n                        <option value=\"200\">Nkubu Town</option>\n                      </select>\n\n                      <select class=\"form-select w-auto font-13px mx-3\">\n                        <option value=\"10\">All Plots</option>\n                        <option value=\"25\">Compliant</option>\n                        <option value=\"50\">Non Compliant</option>\n\n                      </select>\n\n                      <div class=\"d-flex align-items-center me-3 pe-3\">\n                        <span class=\"pr-3 fw-semibold text-nowrap\">From (Registration Date):</span>\n                        <input v-model=\"dateFrom\" class=\"form-control\" placeholder=\"Start date\" type=\"date\">\n                        <span class=\"px-3 fw-semibold\">TO:</span>\n                        <input v-model=\"dateTo\" class=\"form-control\" placeholder=\"Start date\" type=\"date\">\n                      </div>\n                      <button data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector me-3 text-capitalize\">\n                        <i class=\"bx bxs-download  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Download Report</span>\n                      </button>\n\n                    </div>\n\n\n                  </div>\n                  <div class=\"btn-toolbar p-3 align-items-center d-none animated delete-tool-bar\" role=\"toolbar\">\n                    <button type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" class=\"btn btn-primary waves-effect btn-label waves-light me-3\"><i class=\"mdi mdi-printer label-icon\"></i> Print Selected Invoices</button>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table align-middle table-striped table-nowrap table-hover dt-responsive contacts-table\" id=\"\">\n                      <thead class=\"table-dark\">\n                      <tr>\n                        <th scope=\"col\">LR Number</th>\n                        <th>Percel Size</th>\n                        <th>Added By</th>\n                        <th>Added On</th>\n                        <th scope=\"col\">Owner</th>\n                        <th>Phone</th>\n                        <th>Email</th>\n                        <th>Zone</th>\n                        <th>Sub County</th>\n                        <th>Ward</th>\n                        <th>Address</th>\n                        <!--                        <th>Status</th>-->\n                        <th scope=\"col\" class=\"text-right\">Arrears</th>\n                        <th scope=\"col\" class=\"text-right\">Annual Rate</th>\n                        <th class=\"text-right\">Balance</th>\n\n\n                        <th></th>\n                      </tr>\n                      </thead>\n                      <tbody class=\"text-capitalize\">\n                      <tr :key=\"index\" :value=\"item\" v-for=\"(item, index) in properties\">\n                        <td>{{item.LRNumber}}</td>\n                        <td>\n                          {{item.percelSize}}\n                        </td>\n\n                        <td>{{item.createdBy}}</td>\n                        <td>{{formatDate(item.dateCreated)}}</td>\n                        <td>{{item.ownerNames}}</td>\n                        <td>{{maskPhoneNumber(item.ownerPhoneNo)}}</td>\n                        <td>{{item.ownerEmail}}</td>\n                        <td>{{item.zone}}</td>\n\n                        <td>{{item.subCountyName}}</td>\n                        <td>{{item.wardName}}</td>\n                        <td>{{item.percelAddress}}</td>\n                        <!--                        <td>\n                                                  <span v-if=\"item.status=='Compliant'\" class=\"badge rounded-pill bg-success text-uppercase\" key=\"t-new\">{{item.status}}</span>\n                                                  <span  v-if=\"item.status=='Non Compliant'\" class=\"badge rounded-pill bg-success text-uppercase\" key=\"t-new\">{{item.status}}</span>\n                                                </td>-->\n                        <td class=\"text-right\">\n                          <span class=\"fw-bold\">KES {{numberFormat(item.outstandingArrears)}}</span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"fw-bold\">KES {{numberFormat(item.annualCharges)}}</span>\n                        </td>\n                        <td class=\"text-right fw-bold\">\n                          KES {{numberFormat(item.outstandingArrears)}}\n                        </td>\n\n\n                        <td>\n                          <div class=\"dropdown\">\n\n\n                            <button  role=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" class=\"btn btn-sm btn-warning text-black waves-effect btn-label waves-light text-uppercase\"><i class=\"mdi mdi-arrow-down-drop-circle label-icon\"></i> More Options</button>\n\n                            <div class=\"dropdown-menu dropdown-menu-end\">\n                              <a @click=\"selectPlot(item,'')\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\".details-modal\"><i class=\"font-size-15 mdi mdi-eye-plus-outline me-3\"></i>Plot Details</a>\n                              <a  @click=\"selectPlot(item,'')\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\"#bill-client\" ><i class=\"font-size-15 mdi mdi mdi-receipt me-3\"></i>Bill Client</a>\n                              <a  @click=\"gotTo('plot-statements',item.LRNumber,item.zone)\"  class=\"dropdown-item\" href=\"javascript: void(0);\"><i class=\"font-size-15 mdi mdi-microsoft-excel me-3\"></i>Statements</a>\n                              <a v-if=\"getRight('EDIT LAND-RATE')\"  @click=\"selectPlot(item,'EDIT PLOT')\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\".add-plot-modal\"><i class=\"font-size-15 mdi mdi-file-document-edit me-3\"></i>Edit</a>\n                              <a v-if=\"getRight('DELETE LAND-RATE')\"  @click=\"deleteLandRate(item)\" class=\"dropdown-item\" ><i class=\"font-size-15 mdi mdi-delete-alert me-3\"></i>Delete</a>\n                              <a  @click=\"selectPlot(item,'')\" class=\"dropdown-item\" href=\"javascript: void(0);\" data-toggle=\"modal\" data-target=\"#demandNotice\"><i class=\"font-size-15 mdi mdi-alert-outline me-2 me-3 text-danger\"></i>Send Demand Notice</a>\n\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n\n                      </tbody>\n                      <tfoot class=\"table-dark\">\n                      <tr>\n                        <th colspan=\"\">{{properties.length}} Plots</th>\n                        <th colspan=\"9\">22 Ha</th>\n                        <th class=\"text-right\">\n                          <span class=\"badge rounded-pill bg-danger text-uppercase\" key=\"t-new\">Compliant</span> {{totalCompliant}}\n\n                          <span class=\"badge rounded-pill bg-success text-uppercase\" key=\"t-new\">Uncompliant</span> {{totalUncomplint}}\n                        </th>\n\n\n                        <th class=\"text-right\">KES {{numberFormat(totalArrears)}}</th>\n                        <th class=\"text-right\">KES {{numberFormat(totalAnnual)}}</th>\n                        <th class=\"text-right\">KES {{numberFormat(totalBalance)}}</th>\n\n                        <th>\n\n                        </th>\n\n                      </tr>\n                      </tfoot>\n\n\n                    </table>\n\n                    <div class=\"card-body px-5 d-flex flex-column justify-items-center align-items-center text-center d-flex justify-content-center\"\n                         v-if=\"loading\">\n                      <div class=\"p-5 py-0 pt-3\">\n                        <div class=\"p-5\">\n                          <div class=\"spinner-border text-info m-1\" role=\"status\">\n                            <span class=\"sr-only text-uppercase\">Loading...</span>\n                          </div>\n                        </div>\n                      </div>\n                      <h4 class=\"text-uppercase\">Loading Data</h4>\n                      <div class=\"col-sm-12 col-md-8 col-lg-5\">\n                        <p>We are fetching the data for you. It will be ready soon. Please wait\n                          and have fun. Thank you for your interest.</p>\n\n                      </div>\n                    </div>\n                    <div class=\"card-body d-sm-none d-md-block px-5 d-flex flex-column justify-items-center align-items-center text-center\"\n                         v-if=\"property.length<1 & loading === false\">\n                      <div class=\"p-5 py-0 pt-3\">\n                        <img :src=\"'./assets/images/no-results.png'\" alt=\"No search results\"\n                             class=\"img mb-4\"/>\n                      </div>\n                      <h4>No Results To Show</h4>\n                      <p>Sorry, we could not find any results that match your search or filter\n                        criteria. Please try using different keywords or filters.</p>\n                    </div>\n\n                  </div>\n                </div>\n\n                <div class=\"card-footer bg-white\">\n                  <nav aria-label=\"Page navigation example \"\n                       class=\"d-flex align-items-center justify-content-between\">\n\n                    <div class=\"d-flex align-items-center\">\n                                            <span class=\"pr-3 pb-0 mb-0 font-13px\">\n                                                <span>Rows Per Page</span>\n                                            </span>\n                      <select class=\"form-select w-auto font-13px \" v-model=\"pageSize\">\n                        <option value=\"10\">10 Rows</option>\n                        <option value=\"25\">25 Rows</option>\n                        <option value=\"50\">50 Rows</option>\n                        <option value=\"100\">100 Rows</option>\n                        <option value=\"150\">150 Rows</option>\n                        <option value=\"200\">200 Rows</option>\n                        <option value=\"10000\">10,000 Rows</option>\n                        <option value=\"50000\">50,000 Rows</option>\n                      </select>\n                    </div>\n\n                    <ul class=\"pagination\">\n                      <!-- add a class of disabled and an attribute of disabled when the current page is the first page -->\n                      <li :class=\"{ disabled: currentPage === 1 }\" class=\"page-item\">\n                        <a :disabled=\"currentPage === 1\" @click=\"prevPage\" class=\"page-link\"\n                           tabindex=\"-1\">Previous</a>\n                      </li>\n                      <!-- replace the v-for directive with the pagination function call -->\n                      <li :class=\"{ active: currentPage === page }\" :key=\"page\" class=\"page-item\"\n                          v-for=\"page in pagination(currentPage, totalPages, 3)\">\n                        <!-- check if the page is an ellipsis and display it as plain text -->\n                        <span class=\"page-link\" v-if=\"page === '...'\">{{ page }}</span>\n                        <!-- otherwise, display it as a clickable link -->\n                        <a @click=\"goToPage(page)\" class=\"page-link\" v-else>{{ page }}</a>\n                      </li>\n                      <!-- add a class of disabled and an attribute of disabled when the current page is the last page -->\n                      <li :class=\"{ disabled: currentPage === totalPages }\" class=\"page-item\">\n                        <a :disabled=\"currentPage === totalPages\" @click=\"nextPage\"\n                           class=\"page-link\">Next</a>\n                      </li>\n                    </ul>\n\n\n                  </nav>\n                </div>\n\n              </div>\n            </div>\n          </div>\n\n          <!-- end row -->\n        </div>\n        <!-- container-fluid -->\n      </div>\n      <!-- End Page-content -->\n\n\n\n      <!--single demand notice start -->\n      <div class=\"modal fade\" id=\"demandNotice\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog  modal-dialog-centered modal-lg\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Demand Notice</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div v-if=\"!generateBillLoading\" class=\"row single-notice-generator\">\n                <div class=\"col-6\">\n                  <address>\n                    <strong class=\"text-capitalize\">Owner's name : {{property.ownerNames}}</strong><br>\n                    Phone No. {{maskPhoneNumber(property.ownerPhoneNo)}}<br>\n                    Email: {{property.ownerEmail}}<br>\n                    <!--                    ID No. 12345689. Car Plate No. KAB 123P <br>-->\n                    <br>\n                    Date {{property.dateCreated}}\n\n                  </address>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"table-responsive text-uppercase\">\n                    <table class=\"table table-nowrap table-bordered vertical-align-middle \">\n                      <thead class=\"table-light\">\n                      <tr>\n                        <th colspan=\"3\">Property Details</th>\n                      </tr>\n                      </thead>\n\n                      <tbody>\n                      <tr>\n                        <td  class=\"\">\n                          UPN No.: <strong>{{property.LRNumber}}</strong>\n                        </td>\n                        <td  class=\"\">\n                          Block No.: <strong>{{property.block}}</strong>\n                        </td>\n                        <td  class=\"\">\n                          Plot No.: <strong>{{property.LRNumber}}</strong>\n                        </td>\n                      </tr>\n\n                      <tr>\n                        <td  class=\"\">\n                          Subcouny <strong>{{property.subCountyName}}</strong>\n                        </td>\n                        <td  class=\"\">\n                          Ward <strong>{{property.wardName}}</strong>\n                        </td>\n                        <td  class=\"\">\n                          Zone/Market <strong>{{property.zone}}</strong>\n                        </td>\n                      </tr>\n\n\n                      <tr>\n                        <td colspan=\"3\"  class=\"\">\n                          Rate Payer <strong>{{property.ownerNames}}</strong>\n                        </td>\n\n                      </tr>\n\n                      <tr>\n                        <td colspan=\"3\"  class=\"\">\n                          Physical Address <strong>{{property.percelAddress}}</strong>\n                        </td>\n\n                      </tr>\n\n                      <tr>\n                        <td colspan=\"3\"></td>\n                      </tr>\n\n                      <tr>\n                        <th colspan=\"2\" class=\"table-secondary\">Details of Charges</th>\n                      </tr>\n\n                      <tr>\n                        <th>\n                          Last Billed For Year\n                        </th>\n                        <th>{{property.dateCreated}}</th>\n                      </tr>\n\n                      <tr>\n                        <th>\n                          Annual Charges\n                        </th>\n                        <th>KES {{property.annualCharges}}</th>\n                      </tr>\n\n                      <tr>\n                        <th>\n                          Current Balance\n                        </th>\n                        <th class=\"text-info\">KES {{property.outstandingArrears}}</th>\n                      </tr>\n\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <button type=\"button\" class=\"btn btn-secondary text-uppercase\" data-dismiss=\"modal\">Close</button>\n                  <button @click=\"generateDemandBill()\" type=\"button\" class=\"btn btn-primary text-uppercase gen-notice\">Generate Notice</button>\n                </div>\n              </div>\n\n              <div class=\"row align-items-center justify-content-center\">\n                <div class=\"col-7\">\n                  <div v-if=\"generateBillLoading && demandNotice === false\"  class=\"notice-loader\">\n                    <div class=\"loader-modal p-5\">\n                      <div class=\"d-flex align-items-center justify-content-center p-5 text-center flex-column\">\n                        <div class=\"spinner-border text-dark m-1\" role=\"status\">\n                          <span class=\"sr-only fw-bold\">Loading</span>\n                        </div>\n                        <p class=\"pt-4 fw-strong text-uppercase fw-bold\">Generating Demand notice <br> Kindly wait</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div v-if=\"demandNotice\" class=\"notice-created-cont\">\n                    <div class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success d-non payment-panel\">\n\n\n                      <div class=\"flex-shrink-0 align-self-center  mb-4 pb-4 pt-4\">\n                        <div class=\"avatar-sm rounded-circle bg-success mini-stat-icon\">\n                          <span class=\"avatar-title rounded-circle bg-success\"> <i class=\"mdi-check-all mdi font-size-24\"></i></span>\n                        </div>\n                      </div>\n\n\n                      <h4 class=\"text-black fw-bold text-uppercase\">Demand Notice Sent</h4>\n                      <p class=\"text-muted mb-4\">A Demand Notice with Reference Number <strong class=\"text-dark\">{{billDetails.billNo}}</strong> for <strong class=\"text-dark\">KES {{billDetails.detailAmount}}</strong> has been sent to <strong class=\"text-dark\">{{property.ownerNames}}</strong> via mobile number <strong class=\"text-dark\">{{property.ownerPhoneNo}}</strong>. You may also print a physical copy to share with the client.</p>\n                      <p class=\"text-muted mb-4\">Click the button below to print the document.</p>\n\n                      <div class=\"d-flex w-100 pb-2\">\n\n                        <!-- data-bs-dismiss=\"modal\" -->\n                        <a @click=\"printBillDemandNotice\" href=\"javascript: void(0);\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1 text-uppercase\">\n                          <i class=\"bx bx-printer font-size-16 align-middle me-2 \"></i>\n                          Print Notice\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n              </div>\n\n            </div>\n            <div class=\"modal-footer\">\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- single demand notice end -->\n\n\n      <!-- receipting modal -->\n      <div class=\"modal fade receipting-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered modal-full modal-fullscreen\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Business Details</h5>\n              <span\n                  class=\"badge rounded-pill bg-success text-uppercase font-12px text-uppercase mx-3\">Active\n                                Certificate</span>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"hori-timeline mt-4\">\n                    <div class=\"owl-carousel owl-theme  navs-carousel events timeline-carousel\"\n                         id=\"timeline-carousel\">\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep 2023 10:09 AM</div>\n                            <h5 class=\"mb-4\">Application</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">Kelvin Omondi</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">15 Sep 2023 12:59 AM</div>\n                            <h5 class=\"mb-4\">Details Verification</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By Kelvin Ouma</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">20 Sep 2023 08:23 AM</div>\n                            <h5 class=\"mb-4\">Premices Inspection</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By Alex Kinoti</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">23 sep 2023 08:23 AM</div>\n                            <h5 class=\"mb-4\">Approval Of Application</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By John King</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">23 sep 2023 08:25 AM</div>\n                            <h5 class=\"mb-4\">issueance Of Certifcate</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By John King</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list active\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">By 31 Dec 2023 12:00 AM</div>\n                            <h5 class=\"mb-4\">Renewal</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bx-down-arrow-circle h1 text-info down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">-</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-success border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-certification font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Certificate details</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Serial\n                                No.</p>\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Last Paid for</p>\n                            </td>\n                            <td class=\"\">12 Jan 2023</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Expiry\n                                Date</p>\n\n                            </td>\n                            <td class=\"\">31 Dec 2023</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Days\n                                to expiry</p>\n\n                            </td>\n                            <td class=\"\">204 Days</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Printing status</p>\n\n                            </td>\n                            <td class=\"\">Printed</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Amount\n                                Paid</p>\n\n                            </td>\n                            <td class=\"text-uppercase text-black fw-semibold\">KES 25,000\n                            </td>\n\n                          </tr>\n\n\n\n\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-info border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-briefcase-alt-2 font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Business Details</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business\n                                Name</p>\n                            </td>\n                            <td class=\"\">Wireless Electronics</td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Certificate of Incoporation No. </p>\n                            </td>\n                            <td class=\"\">1234557768</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">KRA\n                                Pin\n                                No.</p>\n\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">VAT\n                                No.\n                              </p>\n\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business\n                                Activity</p>\n\n                            </td>\n                            <td class=\"\">Accomodation and Catering</td>\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business\n                                Sub category</p>\n\n                            </td>\n                            <td class=\"\">Small Lodging House</td>\n                          </tr>\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-warning border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bxs-user-pin font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Owner Details</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Owner's Full Names</p>\n                            </td>\n                            <td class=\"\">Mr Alex Wanjala Akinyi</td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                ID/PPT No.</p>\n                            </td>\n                            <td class=\"\">1234557768</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Owner's Fax</p>\n\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Owner's Mobile No.</p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Alternative Mobile No.</p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Postal\n                                Address</p>\n\n                            </td>\n                            <td class=\"\">12-1004 Nairobi</td>\n                          </tr>\n\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-danger border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-phone-call pin font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Location and Contact information</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business Mobile No.</p>\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Alternative Phone No</p>\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business Email address</p>\n                            </td>\n                            <td class=\"\"><a\n                                href=\"mailto:email@email.com\">email@email.com</a>\n                            </td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\"> Sub\n                                county</p>\n\n                            </td>\n                            <td class=\"\">Homabay Town Sub county</td>\n\n                          </tr>\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Ward\n                              </p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">Rodi Township Ward</a>\n                            </td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Physical address/Street</p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">Along Moi Avenue\n                              opposite cooperative Bank</a></td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Building Name</p>\n\n                            </td>\n                            <td class=\"\">ALexis complex</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Stall/Room No.</p>\n\n                            </td>\n                            <td class=\"\">122</td>\n\n                          </tr>\n\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n\n                <div class=\"col-sm-12 col-md-8\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-dark border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-map font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Map View</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div>\n                        <iframe\n                            src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d46449.71551863634!2d36.67523836781685!3d-1.3353441122372378!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f0cb9ff59a4a3%3A0x4073419e11826405!2sOrbital%20Africa%20%7C%20Land%20%26%20Topo%20Survey%2C%20GPS%2C%20GPR%2C%20GIS%2C%20Mapping%2C%20Drones%2C%20Training%20%26%20Geospatial%20Solutions!5e0!3m2!1sen!2ske!4v1691859398886!5m2!1sen!2ske\"\n                            width=\"100%\" height=\"450\" style=\"border:0;\" allowfullscreen=\"\"\n                            loading=\"lazy\" referrerpolicy=\"no-referrer-when-downgrade\"></iframe>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n              </div>\n\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"PrintDocs/Trade-Permit/permit.html\" target=\"_blank\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"mdi mdi-printer font-size-16 align-middle me-2\"></i> Print Certificate\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of receipting modal -->\n\n      <!-- add plot modal -->\n      <div class=\"modal fade add-plot-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">{{title}}</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n\n                <div class=\"col-12\">\n                  <p class=\"fw-bold text-black text-uppercase\">Land Details:</p>\n                </div>\n\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">LR Number</label>\n                    <input v-if=\"title !== 'EDIT PLOT'\" v-model=\"property.LRNumber\" type=\"text\" class=\"form-control\" placeholder=\"Enter the LR Number\">\n                    <input v-if=\"title === 'EDIT PLOT'\" v-model=\"property.LRNumber\" type=\"text\" class=\"form-control\" placeholder=\"Enter the LR Number\" readonly>\n                  </div>\n                </div>\n\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Block No.</label>\n                    <select class=\"form-select  font-13px  form-control\" v-model=\"block\">\n                      <option v-for=\"(item, index) in blocks\" :key=\"`${index}`\" :value=\"item.block\"><a class=\"dropdown-item\" href=\"#\">{{item.block}}</a></option>\n                    </select>\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">User</label>\n                    <select class=\"form-select  font-13px  form-control\"  v-model=\"useName\">\n                      <option v-for=\"(item, index) in uses\" :key=\"`${index}`\" :value=\"item.name\"><a class=\"dropdown-item\" href=\"#\">{{item.name}}</a></option>\n                    </select>\n                  </div>\n                </div>\n\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Select Sub County</label>\n                    <select class=\"form-select  font-13px  form-control\" @change=\"getWards(subCounty.subCountyID)\"  v-model=\"subCounty\">\n\n                      <option v-for=\"(item, index) in subCounties\" :key=\"`${index}`\" :value=\"item\"><a class=\"dropdown-item\" href=\"#\">{{item.subCountyName}}</a></option>\n                    </select>\n\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Select Ward</label>\n                    <select class=\"form-select  font-13px  form-control\" v-model=\"ward\">\n                      <option :key=\"`${index}`\" :value=\"item\" v-for=\"(item, index) in wards\"><a\n                          class=\"dropdown-item\" href=\"#\">{{item.wardName}}</a></option>\n                    </select>\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Plot Size (Ha)</label>\n                    <input v-model=\"property.percelSize\" type=\"text\" class=\"form-control\" placeholder=\"In Ha\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Longitude</label>\n                    <input v-model=\"property.lat\" type=\"text\" class=\"form-control\" placeholder=\"Selected Longitude\" readonly>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Latitude</label>\n                    <input v-model=\"property.lng\" type=\"text\" class=\"form-control\" placeholder=\"Selected Latitude\" readonly>\n                  </div>\n                </div>\n\n                <div class=\"col-12 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Property Physical Address</label>\n                    <input v-model=\"property.percelAddress\" type=\"text\" class=\"form-control\" placeholder=\"Enter Plot's Physical Address\">\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <p class=\"fw-bold text-black text-uppercase\">Owner Details:</p>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Owner's Full Names</label>\n                    <input v-model=\"property.ownerNames\" type=\"text\" class=\"form-control\" placeholder=\"eg John Doe\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Owner's Email</label>\n                    <input v-model=\"property.ownerEmail\" type=\"email\" class=\"form-control\" placeholder=\"Email Address\">\n                  </div>\n                </div>\n\n                <div class=\"col-6 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Owner's Phone No.</label>\n                    <input v-model=\"property.ownerPhoneNo\" type=\"number\" class=\"form-control\" placeholder=\"eg 0712345678\">\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <p class=\"fw-bold text-black text-uppercase\">Plot Fees Details:</p>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Outstanding Arrears</label>\n                    <input  v-model=\"property.outstandingArrears\" type=\"number\" class=\"form-control\" placeholder=\"Enter the arrears\">\n                  </div>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Annual Charges</label>\n                    <input v-model=\"property.annualCharges\" type=\"number\" class=\"form-control\" placeholder=\"Enter the annual Charges\">\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n            <div class=\"modal-footer\">\n\n              <a data-bs-dismiss=\"modal\" @click=\"addLandRates()\" type=\"button\" href=\"javascript: void(0);\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of add plot modal -->\n\n      <!-- uploading an excel -->\n      <div class=\"modal fade upload-plot-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Upload Plots</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"  aria-label=\"Close\"></button>\n            </div>\n\n            <div class=\"row\" style=\"margin-left: 10px;margin-top: 10px\">\n              <a :href=\"templateURL\">Download Template</a>\n            </div>\n\n\n            <div class=\"modal-body\">\n              <div class=\"row\">\n\n                <div class=\"row\">\n                  <div class=\"col-4\">\n                    <div class=\"form-group mb-3\">\n                      <label for=\"\">Select Sub County</label>\n                      <select class=\"form-select  font-13px  form-control\" @change=\"getZones(subCounty.subCountyID)\"  v-model=\"subCounty\">\n\n                        <option v-for=\"(item, index) in subCounties\" :key=\"`${index}`\" :value=\"item\"><a class=\"dropdown-item\" href=\"#\">{{item.subCountyName}}</a></option>\n                      </select>\n\n\n\n                    </div>\n                  </div>\n\n                  <div class=\"col-4\">\n                    <div class=\"form-group mb-3\">\n                      <label for=\"\">Select Market/Zone</label>\n\n                      <select class=\"form-select font-13px  form-control\" v-model=\"zone\">\n                        <option :key=\"`${index}`\" :value=\"item.zone\" v-for=\"(item, index) in zones\"><a\n                            class=\"dropdown-item\" href=\"#\">{{item.zone}}</a></option>\n                      </select>\n\n\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"\" class=\"text-uppercase mb-3\">Upload Excel Sheet</label>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div>\n\n                    <div class=\"fallback\">\n                      <input  @change=\"handleFileChange($event)\" name=\"file\" type=\"file\">\n                    </div>\n                    <div class=\"dz-message needsclick\">\n                      <div class=\"mb-3\">\n                        <i class=\"display-4 text-muted bx bxs-cloud-upload\"></i>\n                      </div>\n\n                      <h4>Drop files here or click to upload.</h4>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n\n\n              <a  data-bs-dismiss=\"modal\"  @click=\"uploadLandRateToQue()\"  type=\"button\"\n                  class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of uploading excel -->\n\n      <!-- invoice details -->\n      <div class=\"modal fade add-car-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-xl modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Usiku Sacco</h5>\n              <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" onclick=\"closeModal()\"></button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div >\n                <div class=\"col-12\">\n                  <address>\n                    <strong>About Sacco:</strong><br>\n                    Conatct Person: Kelvin Njuguna<br>\n                    email@mail.com, 0704 549 859<br>\n                    Hse No. 410, 90 Degrees By Tsavo\n                    <br><br>\n                    Ward, Sub County\n                  </address>\n                </div>\n                <div class=\"new-vehicles-container-modal\">\n                  <div class=\"col-12\">\n                    <div class=\"py-2 mt-3\">\n                      <h3 class=\"font-size-15 fw-bold\">Vehicles to Be newly registered</h3>\n                    </div>\n                  </div>\n                  <div class=\"col-12\">\n                    <div class=\"\">\n                      <table class=\"table table-editable-1 align-middle table-edits\">\n                        <thead class=\"table-light\">\n                        <tr class=\"text-uppercase table-dark\">\n                          <th>#</th>\n                          <th>Vehicle</th>\n                          <th class=\"\">Category</th>\n                          <th class=\"\">Owner</th>\n                          <th>Phone No.</th>\n                          <th></th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr data-id=\"1\">\n                          <td style=\"width: 80px\">1.</td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Enter Plate No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td>\n                            <select class=\"form-control selectpicker form-select\" data-live-search=\"true\" title=\"Select Vehicle Category\" data-style=\"form-select btn border\">\n                              <option value=\"Sedan\">Sedan</option>\n                              <option value=\"SUV\">SUV</option>\n                              <option value=\"Truck\">Truck</option>\n                              <option value=\"Motorcycle\">Motorcycle</option>\n                              <option value=\"Van\">Van</option>\n                              <!-- Add more vehicle categories here as needed -->\n                            </select>\n\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Name\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Phone No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n\n                          <td></td>\n\n                        </tr>\n\n                        <tr class=\"cloneCharges d-none\">\n                          <td style=\"width: 80px \" class=\"categoryIndex \">#</td>\n\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Enter Plate No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td>\n                            <select class=\"form-control\" data-live-search=\"true\" title=\"Select Vehicle Category\" data-style=\"form-select btn border\">\n                              <option value=\"Sedan\">Sedan</option>\n                              <option value=\"SUV\">SUV</option>\n                              <option value=\"Truck\">Truck</option>\n                              <option value=\"Motorcycle\">Motorcycle</option>\n                              <option value=\"Van\">Van</option>\n                              <!-- Add more vehicle categories here as needed -->\n                            </select>\n\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Name\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Phone No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n\n\n                          <td class=\"text-right cell-change d-flex align-items-center justify-content-end\">\n                            <a class=\"btn btn-light btn-rounded waves-effect btn-circle btn-transparent cancel-new-category-2 \" title=\"Cancel \"><i class=\"bx bx-x \"></i></a>\n                          </td>\n                        </tr>\n\n\n                        </tbody>\n                        <tfoot>\n                        <tr>\n                          <td colspan=\"7\" class=\"bg-light add-field-1 cursor-pointer\">\n                            <span @click=\"changeTitle('ADD NEW PLOT')\" class=\"d-flex align-items-center \"><i class=\"dripicons-plus mr-5 d-flex justify-content-center align-items-center font-21 \"></i><span class=\"pl-5 \">Add A Vehicle</span></span>\n                          </td>\n                        </tr>\n                        </tfoot>\n                      </table>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div class=\"d-none  loader-panel\">\n                  <div class=\"p-5 py-0 pt-3 d-flex justify-content-center align-items-center text-center flex-column\">\n                    <div class=\"p-5\">\n                      <div class=\"spinner-border text-info m-1\" role=\"status\">\n                        <span class=\"sr-only text-uppercase\">Loading...</span>\n                      </div>\n                    </div>\n                    <h4 class=\"text-black fw-bold\">Payment Being Processed</h4>\n                    <div class=\"mb-5\">Ask Client to be checking their Phone for a payment request thats currently being Processed</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"col-12 d-non\">\n                <div class=\"table-resposive p-4 px-2 pt-2 overflow-visible\">\n                  <table class=\"w-100\">\n                    <tbody>\n                    <tr data-id=\"1\">\n\n                      <td class=\"px-3 \">\n                        <div class=\"phone-num d-non\">\n                          <label>Paying Phone No.</label>\n                          <input type=\"text \" class=\"form-control w-100 d-flex \"\n                                 placeholder=\"Paying Phone Number\" spellcheck=\"false\"\n                                 data-ms-editor=\"true\">\n                        </div>\n\n                      </td>\n                      <td class=\"px-3 \">\n                        <div class=\"phone-num d-non\">\n                          <label>Vehicles</label>\n                          <input type=\"text \" class=\"form-control w-100 d-flex \"\n                                 placeholder=\"Paying Phone Number\" spellcheck=\"false\"\n                                 data-ms-editor=\"true\" disabled value=\"4 Vehicles\">\n                        </div>\n\n                      </td>\n                      <td class=\"px-3\">\n                        <label>Computed Registration Amount</label>\n                        <input type=\"text \" class=\"form-control w-100 d-flex\"\n                               placeholder=\"KES\" spellcheck=\"false\" data-ms-editor=\"true\" disabled value=\"8000\">\n\n                      </td>\n\n\n\n                    </tr>\n                    </tbody>\n                  </table>\n\n                </div>\n              </div>\n              <div class=\"float-end\">\n\n                <a href=\"javascript: void(0);\"\n                   class=\"btn btn-primary w-md waves-effect waves-light reg-payment\">Send Payment Request</a>\n              </div>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- invoice details -->\n\n\n      <footer class=\"footer \">\n        <div class=\"container-fluid \">\n          <div class=\"row \">\n            <div class=\"col-sm-6 \">\n\n            </div>\n\n          </div>\n        </div>\n      </footer>\n\n      <!-- PLOT details -->\n\n      <div class=\"modal fade details-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg  modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Plot Details</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n\n                  <div class=\"mt-3\">\n                    <table class=\"table align-middle table-nowrap table-hover dt-responsive contacts-table dataTable no-footer table-sm\" id=\"datatable-buttons\">\n\n                      <tbody>\n                      <tr>\n\n                        <td>\n                          Plot No\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{property.LRNumber}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Owner\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{property.ownerNames}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Phone Number\n                        </td>\n                        <td class=\"\">\n                          {{maskPhoneNumber(property.ownerPhoneNo)}}\n\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Email Address\n                        </td>\n                        <td class=\"text-capitalize\">\n                          {{property.ownerEmail}}\n\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Sub County\n                        </td>\n                        <td class=\"text-capitalize\">\n                          {{property.subCounty}}\n                        </td>\n                      </tr>\n\n\n                      <tr>\n\n                        <td>\n                          Ward\n                        </td>\n                        <td class=\"text-capitalize\">\n                          {{property.wardName}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Physical Address\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{property.percelAddress}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Added By\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{property.createdBy}} on {{formatDate(property.dateCreated)}}\n                        </td>\n                      </tr>\n\n                      <!--                      <tr>\n\n                                              <td>\n                                                Last Edited By\n                                              </td>\n                                              <td class=\"text-uppercase\">\n                                                Alex Wanjala on 22 Jan 2024 at 5:35 PM (Fields edited Name, Plot No.)\n                                              </td>\n                                            </tr>-->\n\n                      <!--                      <tr>\n\n                                              <td>\n                                                Most Recent Payment\n                                              </td>\n                                              <td class=\"text-uppercase\">\n                                                KES 4,000 On 22 Jan 2024 AT 2:45 PM By Kelvin Using Mpesa(SWERTGHH)\n                                              </td>\n                                            </tr>-->\n\n                      <tr>\n\n                        <td>\n                          Compliance Status\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{property.status}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Annual Payable Fees\n                        </td>\n                        <td class=\"text-uppercase fw-bold text-black\">\n                          KES {{numberFormat(property.annualCharges)}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Outstanding Balances\n                        </td>\n                        <td class=\"text-uppercase fw-bold text-danger\">\n                          KES {{numberFormat(property.outstandingArrears)}}\n                        </td>\n                      </tr>\n                      </tbody>\n\n                    </table>\n\n\n                  </div>\n\n\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"javascript: void(0);\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"btn btn-primary w-md waves-effect waves-light w-100 text-uppercase\">Close Details</a>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n\n\n      <!-- end of land details -->\n\n      <!-- billing on the spot -->\n      <div class=\"modal fade\" id=\"bill-client\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header d-none\">\n              <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                            <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                                <i class=\"bx bx-x\"></i>\n                            </span>\n              </button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n                <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                                <i class=\"bx bx-x\"></i>\n                            </span>\n                </button>\n              </div>\n\n              <div class=\"payment-panel-parent\">\n\n                <div class=\"payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success d-non payment-panel\">\n                  <div class=\"success-image mb-4 pb-4 pt-4\">\n                    <img src=\"assets/images/bills.svg\" height=\"100\" alt=\"\">\n                  </div>\n\n\n                  <h4 class=\"text-black fw-bold\">Create Bill</h4>\n\n\n                  <div class=\"border-1 invoice-form p-4\">\n\n                    <div class=\"form-group mb-4\">\n\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Plot Number:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">{{ property.LRNumber }}</p>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Onwer:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">{{ property.ownerNames }}</p>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Annual Rate:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">KES {{ property.annualCharges }}</p>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Arreas:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">KES {{ property.outstandingArrears }}</p>\n                        </div>\n                      </div>\n                    </div>\n\n                    <p class=\"text-muted mb-4\">Please input the desired payment amount based on the outstanding arreas or what the client wishes to pay</p>\n\n                    <div class=\"col-12\">\n\n                      <div class=\"mb-3\">\n                        <label for=\"formrow-firstname-input\" class=\"form-label\">Income Type</label>\n\n                        <select @change=\"selectedIncomeType($event)\"  class=\"form-control show-tick\" data-live-search=\"true\" >\n                          <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                            {{ item.incomeTypeDescription }}\n                          </option>\n                        </select>\n\n                      </div>\n\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"mb-3\">\n                        <label for=\"formrow-firstname-input\" class=\"form-label\">Fee type</label>\n                        <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                          <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                            {{ item.feeDescription }}\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"col-12\">\n                      <div class=\"row\">\n                        <div class=\"col-12\">\n                          <label for=\"formrow-quantity-input\" class=\"form-label\">Amount to Invoice</label>\n                          <input v-model=\"quantity\" type=\"text\" class=\"form-control\" id=\"formrow-quantity-input\" placeholder=\"Amount\">\n                        </div>\n                        <!--                        <div class=\"col-6\" d-done >\n                                                  <label for=\"formrow-amount-input\" class=\"form-label\">Amount</label>\n                                                  <input v-model=\"amount\" type=\"text\" class=\"form-control\" id=\"formrow-amount-input\" placeholder=\"Bill Item amount\" readonly>\n                                                </div>-->\n                      </div>\n                    </div>\n                  </div>\n\n\n                  <div class=\"d-flex w-100 pb-2\" style=\"margin-top: 20px\">\n\n                    <button @click=\"generateBill()\" data-toggle=\"modal\" data-target=\"#payment-modal\" data-dismiss=\"modal\"  type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1 print-bill-btn\">\n                      <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                      Create Invoice\n                    </button>\n\n                  </div>\n                </div>\n\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- billing on the spot -->\n\n      <!-- payment modal -->\n      <div class=\"modal fade\" id=\"payment-modal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header d-none\">\n              <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n              </button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n                <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n                </button>\n              </div>\n\n              <div>\n\n                <div v-if=\"paymentPanel\" class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4 pb-4 pt-4\">\n                    <img src=\"assets/images/bills.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-black fw-bold\">{{message}}</h4>\n                  <p class=\"text-muted mb-4\">The bill has been created Successfully, you can print the bill or opt to receive payment for this bill.</p>\n                  <div class=\"d-flex w-100 pb-2\">\n                    <button @click=\"showPaymentMethod()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                      <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                      Receive Payment\n                    </button>\n                    <a @click=\"printBill()\" target=\"_blank\" data-dismiss=\"\" type=\"button\" class=\"btn btn-outline-secondary waves-effect dismin-modal\">Print Bill</a>\n                  </div>\n                </div>\n\n                <div v-if=\"paymentMethod\" class=\"send-method payment-panel \">\n                  <label for=\"\" class=\"mb-0 pb-0\">Payment Method</label>\n                  <p><small class=\"text-muted\">How would you like to send this money?</small></p>\n\n                  <div>\n                    <div class=\"accordion\" id=\"accordionExample\">\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingOne\">\n                          <button class=\"accordion-button fw-medium\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/mpesa.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">MPESA</p>\n                              <p class=\"mb-0 p-0\"> <small>A payment request will be sent directly to the customer</small></p>\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseOne\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div>\n                              <p>\n                                A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to the MPESA number you enter below.\n                              </p>\n                            </div>\n                            <div class=\"form-group\">\n                              <label for=\"\">MPESA Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"phoneNumber\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Phone No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('MPESA')\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                                <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                                Send Payment Request\n                              </button>\n\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingThree\">\n                          <button class=\"accordion-button fw-medium collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/money.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">bank Receipting</p>\n                              <p class=\"mb-0 p-0\"> <small>Enter the receipt number here to confirm payment for this transaction.</small></p>\n\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div class=\"form-group\">\n                              <label for=\"\">Enter The Bank's Receipt Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"paymentData.bankReceiptNo\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Bank Ref No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('BANK')\" class=\"btn w-100 btn-warning mt-3 btn-bank\">\n                                Continue\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n\n                  </div>\n                </div>\n\n                <div v-if=\"transactionSummary\" class=\"transaction-summary payment-panel\">\n                  <label for=\"\">Transaction Breakdown</label>\n                  <div class=\"border p-4 rounded \">\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted \">\n                          BillO NO.\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetails.billNo}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Bill For\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetails.incomeTypeDescription}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Payment Method\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{paymentData.paymentMode}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Transaction Amount\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          KES {{billDetails.billBalance}}\n                        </div>\n                      </div>\n\n\n                      <div class=\"col-12 text-black\"><hr class=\"mb-0 pb-0\"></div>\n\n                      <div class=\"col-lg-6 text-uppercase\">\n                        <div class=\"text-muted mt-2 font-21\">\n                          Total\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end text-uppercase\">\n                        <div class=\" text-right text-black font-21 fw-bold\">\n                          KES {{billDetails.billBalance}}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"mpesa-confirmation\">\n                      <div v-if=\"paymentData.paymentMode === 'MPESA'\">\n                        <p class=\"text-muted mt-2\">A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to <strong class=\"text-black\"> phone number ({{ phoneNumber }})</strong> soon after you click the <strong class=\"text-black text-capitalize\">Send Request</strong> button bellow.\n                          <br>\n                          <br>\n                          Remember to <strong class=\"text-black\">Check your phone</strong> to confirm payment by entering your Mpesa pin.</p>\n                      </div>\n\n                      <div>{{message}}  </div>\n                      <br>\n                      <button @click=\"makePayment()\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect btn-send waves-light text-center w-100\">\n                        <div class=\"d-flex justify-content-center align-items-center\">\n                          <div class=\"stk-timer-container d-none justify-content-center align-items-center\">\n                            <span class=\"mdi mdi-timer-outline font-16px\"></span>\n                            <span class=\"stk-timer px-2\"></span>\n                          </div>\n                          <div class=\"justify-content-center align-items-center d-flex\">\n                            <span class=\"px-2\">Send Request</span>\n                            <div class=\"flip-x\"><i class=\"mdi mdi-reply ms-3 font-16px\"></i></div>\n                          </div>\n                        </div>\n                      </button>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div v-if=\"transactionCompleted\" class=\"text-center d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4\">\n                    <img src=\"assets/images/payment-confirmation-images/sent.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-blink-primary fw-bold\">Transaction Complete</h4>\n                  <p class=\"text-muted mb-4\"><strong class=\"text-black\">KES {{receiptDetails.receiptAmount}}</strong> has been received for <strong class=\"text-black\">Bill No. {{receiptDetails.billNo}}</strong></p>\n                  <button @click=\"printReceipt()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                    <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                    Print Receipt\n                  </button>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- end of payment modal -->\n\n      <!-- land use modal -->\n      <div class=\"modal fade land-use-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Possible Land Use Types</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n\n                <p class=\"fw-bold\">Possible Land Use Types In Kenya</p>\n\n                <div class=\"col-12 mb-3\">\n                  <p>In the context of Kenyan lands, our system identifies various prevalent land use types, tailored to meet the diverse needs of the population and the economy. This information serves as a valuable tool for users, aiding in the systematic classification of land based on its intended use.</p>\n                </div>\n\n                <!-- First Column -->\n                <div class=\"col-6\">\n                  <ul>\n                    <li><strong>Residential:</strong>\n                      <ul>\n                        <li>Single-family homes</li>\n                        <li>Multi-family dwellings</li>\n                        <li>Gated communities</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Commercial:</strong>\n                      <ul>\n                        <li>Retail spaces</li>\n                        <li>Office buildings</li>\n                        <li>Shopping centers</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Industrial:</strong>\n                      <ul>\n                        <li>Manufacturing plants</li>\n                        <li>Warehouses</li>\n                        <li>Industrial parks</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Agricultural:</strong>\n                      <ul>\n                        <li>Crop cultivation</li>\n                        <li>Livestock farming</li>\n                        <li>Agro-processing facilities</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Institutional:</strong>\n                      <ul>\n                        <li>Schools and educational institutions</li>\n                        <li>Hospitals and healthcare facilities</li>\n                        <li>Government offices and facilities</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Recreational:</strong>\n                      <ul>\n                        <li>Parks and green spaces</li>\n                        <li>Sports complexes</li>\n                        <li>Entertainment venues</li>\n                      </ul>\n                    </li>\n                  </ul>\n                </div>\n\n                <!-- Second Column -->\n                <div class=\"col-6\">\n                  <ul>\n                    <li><strong>Transportation:</strong>\n                      <ul>\n                        <li>Roads and highways</li>\n                        <li>Airports</li>\n                        <li>Railways</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Conservation and Natural Reserves:</strong>\n                      <ul>\n                        <li>National parks</li>\n                        <li>Wildlife reserves</li>\n                        <li>Forest reserves</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Tourism and Hospitality:</strong>\n                      <ul>\n                        <li>Hotels and resorts</li>\n                        <li>Tourist attractions</li>\n                        <li>Hospitality zones</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Mining and Extractive Industries:</strong>\n                      <ul>\n                        <li>Quarrying</li>\n                        <li>Mining sites</li>\n                        <li>Extractive industry zones</li>\n                      </ul>\n                    </li>\n\n                    <li><strong>Mixed-Use Developments:</strong>\n                      <ul>\n                        <li>Areas combining residential, commercial, and recreational elements</li>\n                      </ul>\n                    </li>\n                  </ul>\n                </div>\n\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"#\" target=\"_blank\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\" class=\"btn btn-secondary waves-effect waves-light\">\n                Close\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of land use modal -->\n\n      <!-- adding block -->\n      <div class=\"modal fade add-block-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Add A Block</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <p class=\"text-capitalize\">\n                    Please input the new block details below. If a block with a similar name is already registered, a table will be displayed. It is recommended to use unique block names to ensure accurate data presentation.                                </p>\n                  <div>\n                    <label class=\"form-label text-uppercase\">Enter Block Name/Number Below</label>\n                    <input v-model=\"block\" class=\"form-control\" type=\"text\" placeholder=\"Enter Block Number\" >\n                  </div>\n\n                  <div class=\"mt-3\">\n                    <table class=\"table align-middle table-nowrap table-hover dt-responsive contacts-table dataTable no-footer table-sm\" id=\"datatable-buttons\">\n                      <thead class=\"table-light\">\n                      <tr>\n\n                        <th>#</th>\n                        <th scope=\"col\">Block Name</th>\n                        <th scope=\"col\">Subcounty</th>\n                        <th scope=\"col\">Ward</th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      <tr :key=\"index\" :value=\"item\" v-for=\"(item, index) in blocks\">\n\n                        <td>\n                          {{index+1}}.\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{item.block}}\n                        </td>\n                        <td>\n                          {{item.subCountyName}}\n                        </td>\n                        <td>\n                          {{item.wardName}}\n                        </td>\n\n                      </tr>\n\n                      </tbody>\n                    </table>\n                  </div>\n\n                  <div class=\"row\">\n                    <div class=\"col-6\">\n                      <div class=\"form-group\">\n                        <label for=\"\">Sub County</label>\n                        <select class=\"form-select  font-13px\" @change=\"getWards(subCounty.subCountyID)\"  v-model=\"subCounty\">\n\n                          <option v-for=\"(item, index) in subCounties\" :key=\"`${index}`\" :value=\"item\"><a class=\"dropdown-item\" href=\"#\">{{item.subCountyName}}</a></option>\n                        </select>\n\n                      </div>\n                    </div>\n\n                    <div class=\"col-6\">\n                      <div class=\"form-group\">\n                        <label for=\"\">Ward</label>\n                        <select class=\"form-select  font-13px\" v-model=\"ward\">\n                          <option :key=\"`${index}`\" :value=\"item\" v-for=\"(item, index) in wards\"><a\n                              class=\"dropdown-item\" href=\"#\">{{item.wardName}}</a></option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a @click=\"addBlock()\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of adding block -->\n\n\n\n    </div>\n    <!-- end main content-->\n\n  </div>\n  <!-- END layout-wrapper -->\n\n  <!-- Right bar overlay-->\n  <div class=\"rightbar-overlay \"></div>\n\n\n\n  </body>\n\n\n\n</template>\n\n<script>\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport moment from \"moment/moment\";\nimport {base,authUrl, biller, execute, execute2, executeDownload, executeJson, getRight, landRate} from \"@/api\";\nimport router from \"@/router\";\nimport ToolBar from \"@/components/parking/ToolBar.vue\";\nimport ToolBarPlot from \"@/components/plotrent/ToolBar.vue\";\n\nexport default {\n  name: \"LandRate\",\n  components: {ToolBarPlot, ToolBar, NavigationBar},\n  data() {\n    return {\n      demandNotice: false,\n      generateBillLoading: false,\n      templateURL: base+\"/templates/LANDRATE_DATA_TEMPLATE.xlsx\",\n      useName:'',\n      uses:[\n        {\n          id:null,\n          name:null\n        }\n\n      ],\n      blocks:[\n        {\n          id: null,\n          block:  null,\n          subCountyName:  null,\n          subCountyID:  null,\n          wardName: null,\n          wardID:  null,\n        }\n      ],\n      block:'',\n      title:'',\n      feeID:'',\n      amount:0,\n      unitFeeAmount:0,\n      quantity: 1,\n      subCountyName:'',\n      wardName:'',\n      dateFrom:'',\n      dateTo:'',\n      searchValue:\"\",\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      download:'Download Report',\n      loading: false,\n      keyword:'',\n      color:'alert-success',\n      subCountyID:'',\n      wardID:'',\n      subCounties:[{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards:[{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty: {\n        id:\"\",\n        countyID:\"\",\n        countyName:\"\",\n        subCountyID:\"\",\n        subCountyName:\"\",\n        wardID:\"\",\n        wardName:\"\",\n        status:\"\"\n      },\n      ward:{\n        id:\"\",\n        countyID:\"\",\n        countyName:\"\",\n        subCountyID:\"\",\n        subCountyName:\"\",\n        wardID:\"\",\n        wardName:\"\",\n        status:\"\"\n      },\n      billingModule:{\n        incomeType:{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes:[{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null}]\n      },\n\n      properties: [{\n        id: null,\n        LRNumber: null,\n        subCountyName:  null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        plotSize: null,\n        lat:  null,\n        lng: null,\n        percelAddress:  null,\n        ownerNames:  null,\n        ownerEmail:  null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null,\n        zone:null\n      }],\n      property: {\n        id: null,\n        upn: \"\",\n        LRNumber: null,\n        subCountyName:  null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        percelSize: null,\n        lat:  null,\n        lng: null,\n        percelAddress:  null,\n        ownerNames:  null,\n        ownerEmail:  null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null,\n        zone:null,\n        block: null,\n        useName:null,\n\n      },\n      totalUncomplint:0,\n      totalCompliant:0,\n      totalArrears:0,\n      totalAnnual:0,\n      totalBalance:0,\n      feesAndCharges:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      selectedProperties:[\n        {\n          id: null,\n          LRNumber: null,\n          subCounty:  null,\n          subCountyID: null,\n          wardName: null,\n          wardID: null,\n          percelSize: null,\n          lat:  null,\n          lng: null,\n          percelAddress:  null,\n          ownerNames:  null,\n          ownerEmail:  null,\n          ownerPhoneNo: null,\n          outstandingArrears: null,\n          annualCharges: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          status: null,\n          block: null,\n          useName:null,\n        }\n      ],\n\n      totalAmount:0,\n      message:null,\n      feesAndChargeItems:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity:null,\n      }],\n      billItem:[],\n      billDetails:{\n        id:'',\n        billNo:'',\n        incomeTypeID:'',\n        incomeTypeDescription:'',\n        costCenterNo:'',\n        accountNo:'',\n        feeID:'',\n        detailAmount:'',\n        receiptAmount:'',\n        billBalance:'',\n        wardID:'',\n        subCountyID:'',\n        status:'',\n        dateCreated:''\n      },\n      billInfo:[],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode:null,\n        sessionNames:null,\n        sessionIdNo:null,\n        sessionPhoneNumber:null\n      },\n      alert:{\n        success: false,\n        info: false,\n        failed:false\n      },\n\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      zone:'',\n      zones: [],\n      summary:{\n        count:0\n      }\n    }\n  },\n  watch:{\n    pageSize(newPageSize) {\n      this.getLandRates()\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.summary.count;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n\n    },\n    subCounty: function () {\n      this.subCountyID =  this.subCounty.subCountyID\n      this.subCountyName =  this.subCounty.subCountyName\n      this.getWards()\n      this.getLandRates()\n\n    } ,\n    ward: function () {\n      this.wardID = this.ward.wardID\n      this.wardName = this.ward.wardName\n      this.getLandRates()\n    },\n    quantity: function () {\n      this.amount = this.quantity *  this.unitFeeAmount;\n    }\n  },\n  mounted() {\n\n\n    this.getLandRates()\n    this.getSubCounties()\n\n    this.$watch('keyword', function(newValue) {\n      this.keyword = newValue;\n      this.getLandRates()\n    })\n    this.$watch('dateFrom', function() {\n      if(this.dateFrom==='' || this.dateTo===''){\n\n      }else{\n        this.getLandRates()\n      }\n\n    })\n    this.$watch('dateTo', function() {\n      if(this.dateFrom==='' || this.dateTo===''){\n\n      }else{\n        this.getBusinessData()\n      }\n    })\n\n\n    this.subCountyID =  sessionStorage.getItem(\"sessionSubCountyID\")\n    this.wardID =  sessionStorage.getItem(\"sessionWardID\")\n    this.getLandRates()\n    this.getIncomeTypes()\n    this.getBlocks()\n    this.getUses()\n    this.menuAccess()\n  },\n  computed:{\n    // calculate the start index of the items for the current page\n    startIndex() {\n      return (this.currentPage - 1) * this.pageSize;\n    },\n    // calculate the end index of the items for the current page\n    endIndex() {\n      return this.currentPage * this.pageSize;\n    },\n\n  },\n  methods: {\n\n    menuAccess(){\n\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"Land Rate\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\",  sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data,biller)\n          .then((res) => {\n            // alert(res.data.message);\n          })\n          .catch((e) => {\n            // alert(e.message);\n          });\n\n    },\n    //pagination code\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n// return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getLandRates()\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getLandRates()\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getLandRates()\n      }\n    },\n\n    formatDate(date) {\n      let d = new Date(date);\n      let day = d.getDate();\n      let month = d.toLocaleString('en-US', { month: 'short' });\n      let year = d.getFullYear();\n\n      let suffix = '';\n      if (day % 10 === 1 && day !== 11) {\n        suffix = 'st';\n      } else if (day % 10 === 2 && day !== 12) {\n        suffix = 'nd';\n      } else if (day % 10 === 3 && day !== 13) {\n        suffix = 'rd';\n      } else {\n        suffix = 'th';\n      }\n      return `${day}${suffix} ${month} ${year}`;\n    },\n    formattedTime(time) {\n      return moment(time).format('hh:mm A')\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num)\n    },\n    getSubCounties(){\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.subCounties =res.data.data.subCounties\n\n              //preselection\n              this.subCounties.forEach((value, index) => {\n                if (this.selectedUser.subCountyID === value.subCountyID) {\n                  this.subCounty = this.subCounties[index];\n                }\n              });\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    changeTitle(){\n      this.title =\"ADD NEW PLOT\"\n    },\n    maskPhoneNumber(input) {\n      if (!input || typeof input !== 'string') {\n        return input; // Return as is if input is null, undefined, or not a string\n      }\n\n      const digits = input.replace(/\\D/g, '');\n\n      if (digits.length > 4) {\n        return input.slice(0, 2) + input.slice(2, -2).replace(/\\d/g, '*') + input.slice(-2);\n      }\n\n      return input; // Return as is if not a phone number or too short\n    },\n    getWards(){\n      this.wards =[]\n      this.ward = ''\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.wards =res.data.data.wards\n\n              //preselection\n              this.wards.forEach((value, index) => {\n                if (this.selectedUser.wardID === value.wardID) {\n                  this.ward = this.wards[index];\n                }\n              });\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    selectedIncomeType(event){\n      const value = event.target.value\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId)\n    },\n    getIncomeTypes(){\n      this.message =null\n      this.billingModule.incomeTypes.splice(0)\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", \"LANDRATE\");\n      data.append(\"keyword\", \"Land Rate\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.billingModule.incomeTypes =res.data.data.incomeTypes\n              this.getFeesAndChargesBilling(this.billingModule.incomeTypes[0].incomeTypeId)\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndChargesBilling(incomeTypeId){\n      this.message =null\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\",incomeTypeId);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.feesAndCharges = res.data.data.feesAndCharges\n              this.selectedFeeAndChargeFirstOne()\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectedFeeAndCharge(event){\n      const data = JSON.parse(event.target.value)\n      this.amount = data.unitFeeAmount\n      this.feeID = data.feeId\n      this.unitFeeAmount = data.unitFeeAmount\n      this.feesAndChargeItems = []\n      this.feesAndChargeItems.splice(0)\n      this.feesAndChargeItems.push(data)\n\n    },\n    selectedFeeAndChargeFirstOne(){\n      const data = this.feesAndCharges[0]\n      this.amount = data.unitFeeAmount\n      this.feeID = data.feeId\n      this.unitFeeAmount = data.unitFeeAmount\n      this.feesAndChargeItems = []\n      this.feesAndChargeItems.splice(0)\n      this.feesAndChargeItems.push(data)\n\n    },\n\n    selectPlot(property,title){\n      this.title =title\n      this.property = property\n      this.selectedProperties.splice(0)\n      this.totalAmount =0\n      this.feesAndChargeItems.splice(0)\n      this.selectedProperties.push(property)\n      this.billItem.splice(0)\n\n    },\n    deleteLandRate(plot) {\n      this.property = plot;\n\n      // Display a confirmation dialog\n      if (window.confirm(\"Are you sure you want to delete  '\" + this.property.LRNumber + \"'?\")) {\n        const data = new FormData();\n        data.append(\"function\", \"deleteLandRate\");\n        data.append(\"id\", this.property.id);\n        data.append(\"property\", JSON.stringify(this.property));\n        data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n        data.append(\"sessionIdNo\", sessionStorage.getItem(\"sessionIdNo\"));\n        data.append(\"sessionPhoneNumber\", sessionStorage.getItem(\"sessionPhoneNumber\"));\n        execute(data,landRate)\n            .then((res) =>{\n              if (res.data.success) {\n                this.getLandRates()\n              }else{\n                this.message =res.data.message\n              }\n            })\n            .catch((e) => {\n              //alert(e.message);\n              this.message =e.message\n            });\n      } else {\n        // If the user cancels, do nothing or perform any other desired action\n      }\n    },\n\n    addBlock() {\n\n      // Display a confirmation dialog\n      if (window.confirm(\"Are you sure you want to add?\")) {\n        const data = new FormData();\n        data.append(\"function\", \"addBlock\");\n        data.append(\"block\", this.block);\n        data.append(\"subCountyID\", this.subCounty.subCountyID);\n        data.append(\"subCountyName\", this.subCounty.subCountyName);\n        data.append(\"wardID\", this.ward.wardID);\n        data.append(\"wardName\", this.ward.wardName);\n        execute(data,landRate)\n            .then((res) =>{\n              if (res.data.success) {\n                this.getBlocks()\n              }else{\n                this.message =res.data.message\n              }\n            })\n            .catch((e) => {\n              //alert(e.message);\n              this.message =e.message\n            });\n      } else {\n        // If the user cancels, do nothing or perform any other desired action\n      }\n    },\n    getBlocks() {\n      this.blocks.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getBlocks\");\n      execute(data, landRate)\n          .then((res) => {\n            this.loading = false\n            if (res.data.success) {\n              this.blocks = res.data.data.blocks\n\n            } else {\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message = e.message\n          });\n    },\n    getUses() {\n      this.uses.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getUses\");\n      execute(data, landRate)\n          .then((res) => {\n            this.loading = false\n            if (res.data.success) {\n              this.uses = res.data.data.uses\n\n            } else {\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message = e.message\n          });\n    },\n    getLandRates() {\n      this.loading = true\n      this.properties.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getLandRates\");\n      data.append(\"search\", this.keyword !== undefined ? this.keyword : \"\");\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      data.append(\"dateFrom\", this.dateFrom);\n      data.append(\"dateTo\", this.dateTo);\n      data.append(\"subCountyID\", this.subCountyID !== null && this.subCountyID !== undefined ? this.subCountyID : \"\");\n      data.append(\"wardID\", this.wardID !== null && this.wardID !== undefined ? this.wardID : \"\");\n      execute(data, landRate)\n          .then((res) => {\n            this.loading = false\n            if (res.data.success) {\n\n              this.properties = res.data.data.properties\n              this.summary = res.data.data.count.count\n              this.totalItems = res.data.data.count.count\n              this.totalPages =  Math.ceil(this.totalItems / this.pageSize);\n\n\n              this.totalAnnual = this.properties.reduce((acc, cur) => {\n                let totalAmount = Number(cur.annualCharges);\n                return acc + totalAmount;\n              }, 0);\n\n              this.totalBalance = this.properties.reduce((acc, cur) => {\n                let totalAmount = Number(cur.outstandingArrears);\n                return acc + totalAmount;\n              }, 0);\n\n              this.totalArrears = this.properties.reduce((acc, cur) => {\n                let totalAmount = Number(cur.outstandingArrears);\n                return acc + totalAmount;\n              }, 0);\n\n\n\n            } else {\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message = e.message\n          });\n    },\n    addLandRates() {\n\n      this.property.subCountyName = this.subCounty.subCountyName\n      this.property.subCountyID = this.subCounty.subCountyID\n      this.property.wardName = this.ward.wardName\n      this.property.wardID = this.ward.wardID\n      this.property.block = this.block\n      this.property.useName = this.useName\n      this.property.createdBy = sessionStorage.getItem(\"sessionNames\")\n      this.property.createdByIDNo = sessionStorage.getItem(\"sessionIdNo\")\n      const data = {\n        ...this.property,\n        function: \"addLandRates\"\n      };\n\n      executeJson(data, landRate)\n          .then((res) => {\n            if (res.data.success) {\n              alert(res.data.message)\n              this.getLandRates()\n              this.title =\"Add New Property\"\n\n            } else {\n              this.message = res.data.message\n              alert(res.data.message)\n\n            }\n          })\n          .catch((e) => {\n            this.message = e.message\n          });\n    },\n    getRight(type){\n      return getRight(type)\n    },\n    generateFeeAndChargesItem() {\n      // Loop through the selectedVehicles array\n      for (let item of this.selectedProperties) {\n        // Create a new object with the mapped values\n        let newItem = {\n          feeId: this.feeID, // Map feeID to feeId\n          unitFeeAmount: this.amount, // Map amount to unitFeeAmount\n          customer: item.LRNumber,\n          customerPhoneNumber: this.property.ownerPhoneNo\n        };\n        // Push the new object to the feesAndChargeItems array\n        this.feesAndChargeItems.splice(0)\n        this.feesAndChargeItems.push(newItem);\n      }\n      this.addToBill()\n    },\n    addToBill(){\n      for (const { typeDescription,feeId, feeDescription, unitFeeAmount, accountNo, costCenterNo, incomeTypeId,customer} of this.feesAndChargeItems) {\n        this.totalAmount += parseFloat(unitFeeAmount);\n        this.billItem.push({\n          typeDescription,\n          feeDescription,\n          unitFeeAmount: unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: this.property.LRNumber,\n          feeId,\n          amount:  unitFeeAmount,\n          customer: customer,\n          zone: this.property.zone,\n          subCountyID: this.property.subCountyID,\n          subCountyName:this.property.subCountyName,\n          wardID: this.property.wardID,\n          wardName: this.property.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.property.phoneNumber,\n          description: `UPN NO.: ${this.property.upn} | Block No. : ${this.property.block} | Plot No.: ${this.property.LRNumber} | Address.: ${this.property.percelAddress} | Name.: ${this.property.ownerNames}`,\n        });\n      }\n    },\n    generateDemandBill(){\n      this.demandNotice = false\n      this.generateBillLoading = true\n      this.amount = this.property.outstandingArrears\n\n      this.generateFeeAndChargesItem()\n\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      data.append(\"customerPhoneNumber\", this.property.ownerPhoneNo);\n      data.append(\"messageCode\",\"DEMAND-NOTICE\");\n      data.append(\"names\",this.property.ownerNames);\n      data.append(\"email\",this.property.ownerEmail);\n      execute(data,biller)\n          .then((res) =>{\n            this.demandNotice = true\n            this.message =res.data.message\n            if (res.data.success) {\n              this.billDetails = res.data.data.bill.billDetails\n              this.billInfo = res.data.data.bill.billInfo\n              this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n\n              this.paymentData.sessionNames =sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo =sessionStorage.getItem(\"sessionIdNo\")\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n\n\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    generateBill(){\n      this.generateFeeAndChargesItem()\n\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data,biller)\n          .then((res) =>{\n            this.message =res.data.message\n            if (res.data.success) {\n              this.billDetails = res.data.data.bill.billDetails\n              this.billInfo = res.data.data.bill.billInfo\n              this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n\n              this.paymentData.sessionNames =sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo =sessionStorage.getItem(\"sessionIdNo\")\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n\n\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    printBillDemandNotice() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      })\n      const routeData = this.$router.resolve({name: 'demand-notice'});\n      window.open(routeData.href, '_blank');\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      })\n      const routeData = this.$router.resolve({name: 'bill'});\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        })\n        const routeData = this.$router.resolve({name: 'receipt'});\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod(){\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false\n    },\n    showTransactionSummary(paymentMode){\n\n      this.paymentData.paymentMode = paymentMode\n\n      if(paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false\n    },\n    makePayment() {\n      if(this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber\n\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.paymentMethod = false;\n              this.paymentPanel = false;\n              //start checking payment\n              this.timer = setInterval(() => {\n\n                this.checkPayment();\n              }, 3000);\n            } else {\n              this.rate = null;\n              alert(res.data.message);\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1\n      if(this.randomNumber === 1){\n        this.message = \"Waiting for payment.\";\n      }\n      if(this.randomNumber === 2){\n        this.message = \"Waiting for payment..\";\n      }\n      if(this.randomNumber ===3){\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.message = null;\n              clearInterval(this.timer);\n              this.receipt = true;\n              this.paymentData.success = false;\n              this.transaction = res.data.data.transaction;\n              this.receiptDetails = res.data.data.receipt.receiptDetails\n              //Close the modal\n              this.transactionSummary = false\n              this.transactionCompleted = true\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    formatPrice(value) {\n      var formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'KES',\n        minimumFractionDigits: 2\n      });\n      return formatter.format(value);\n    },\n    gotTo(route,LRNumber,zone){\n      sessionStorage.setItem(\"LRNumber\",LRNumber)\n      sessionStorage.setItem(\"zone\",zone)\n      router.push(route)\n    },\n    getZones(subCountyID){\n      this.message = null\n      this.zones.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getZones\");\n      data.append(\"subCountyID\", subCountyID);\n      execute(data,authUrl)\n          .then((res) =>{\n            if (res.data.success) {\n              this.zones = res.data.data.zones\n              this.zones.forEach((value, index) => {\n                if (this.selectedUser.zone.includes(value.zone)) {\n                  this.zone.push(this.zones[index].zone)\n\n                }\n              });\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    handleFileChange: function (event) {\n      console.log(\"File selected:\", event.target.files[0]);\n      this.selectedFile = event.target.files[0];\n    },\n    uploadLandRateToQue() {\n\n      if (!this.subCounty || !this.subCounty.subCountyName) {\n        // Handle the case where subCounty or subCountyName is null or empty\n        alert(\"Select Sub County\")\n        return\n      }\n\n\n      if (!this.zone || this.zone.trim() === '' || !this.selectedFile) {\n        // Handle the case when this.zone is empty or null, or when this.selectedFile is not set\n        alert(\"Either zone is empty or null, or selectedFile is not set.\")\n      } else {\n\n        this.closeModal()\n        console.log(\"Upload button clicked\");\n        console.log(\"Selected File in uploadExcelToQue:\", this.selectedFile);\n        this.loading = true\n        // Make sure 'file' is a valid File object\n        const data = new FormData();\n        data.append(\"function\", \"uploadLandRateToQue\");\n        data.append(\"fileToUpload\", this.selectedFile);\n        data.append(\"zone\", this.zone);\n        data.append(\"createdBy\", sessionStorage.getItem(\"sessionNames\"));\n        data.append(\"createdByIDNo\", sessionStorage.getItem(\"sessionIdNo\"));\n\n        // Assuming 'pay' is defined\n        execute2(data,landRate)\n            .then((res) => {\n              this.loading = false\n              alert(res.data. message)\n              if (res.data.success) {\n                this.alert.success = true\n                this.getLandRates();\n\n              } else {\n                // Handle failure case\n                this.alert.failed = true\n                this.message =res.data. message\n              }\n            })\n            .catch((e) => {\n              // Handle network or other errors\n              // alert(e.message);\n              // this.alert.failed = true\n            });\n      }\n\n\n\n    },\n\n    closeModal() {\n      var modal = document.querySelector('.modal');\n      var modalBackdrop = document.querySelector('.modal-backdrop');\n\n      if (modal && modalBackdrop) {\n        modal.style.display = 'none';\n        modalBackdrop.style.display = 'none';\n      }\n    }\n\n\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}