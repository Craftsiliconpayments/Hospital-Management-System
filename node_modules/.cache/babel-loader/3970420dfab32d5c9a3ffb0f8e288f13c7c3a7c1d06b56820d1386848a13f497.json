{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport moment from \"moment/moment\";\nimport { biller, execute, executeDownload, executeJson, getRight, plotRent } from \"@/api\";\nimport router from \"@/router\";\nimport ToolBar from \"@/components/parking/ToolBar.vue\";\nimport ToolBarPlot from \"@/components/plotrent/ToolBar.vue\";\nexport default {\n  name: \"PlotRent\",\n  components: {\n    ToolBarPlot,\n    ToolBar,\n    NavigationBar\n  },\n  data() {\n    return {\n      feeID: '',\n      amount: 0,\n      unitFeeAmount: 0,\n      quantity: 1,\n      subCountyName: '',\n      wardName: '',\n      dateFrom: '',\n      dateTo: '',\n      searchValue: \"\",\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      download: 'Download Report',\n      loading: false,\n      keyword: '',\n      color: 'alert-success',\n      subCountyID: '',\n      wardID: '',\n      subCounties: [{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards: [{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty: {\n        id: \"\",\n        countyID: \"\",\n        countyName: \"\",\n        subCountyID: \"\",\n        subCountyName: \"\",\n        wardID: \"\",\n        wardName: \"\",\n        status: \"\"\n      },\n      ward: {\n        id: \"\",\n        countyID: \"\",\n        countyName: \"\",\n        subCountyID: \"\",\n        subCountyName: \"\",\n        wardID: \"\",\n        wardName: \"\",\n        status: \"\"\n      },\n      billingModule: {\n        incomeType: {\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes: [{\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        }]\n      },\n      plots: [{\n        id: null,\n        plotNumber: null,\n        subCounty: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        plotSize: null,\n        lat: null,\n        lng: null,\n        plotAddress: null,\n        ownerNames: null,\n        ownerEmail: null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null\n      }],\n      plot: {\n        id: null,\n        plotNumber: null,\n        subCountyName: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        plotSize: null,\n        lat: null,\n        lng: null,\n        plotAddress: null,\n        ownerNames: null,\n        ownerEmail: null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null\n      },\n      totalUncomplint: 0,\n      totalCompliant: 0,\n      totalArrears: 0,\n      totalAnnual: 0,\n      totalBalance: 0,\n      feesAndCharges: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      selectedPlots: [{\n        id: null,\n        plotNumber: null,\n        subCounty: null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        plotSize: null,\n        lat: null,\n        lng: null,\n        plotAddress: null,\n        ownerNames: null,\n        ownerEmail: null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null\n      }],\n      totalAmount: 0,\n      message: null,\n      feesAndChargeItems: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null,\n        customer: null\n      }],\n      billItem: [],\n      billDetails: {\n        id: '',\n        billNo: '',\n        incomeTypeID: '',\n        incomeTypeDescription: '',\n        costCenterNo: '',\n        accountNo: '',\n        feeID: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        wardID: '',\n        subCountyID: '',\n        status: '',\n        dateCreated: ''\n      },\n      billInfo: [],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode: null,\n        sessionNames: null,\n        sessionIdNo: null,\n        sessionPhoneNumber: null\n      },\n      alert: {\n        success: false,\n        info: false,\n        failed: false\n      },\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false\n    };\n  },\n  watch: {\n    pageSize(newPageSize) {\n      this.getPlots(\"\");\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.summary.count;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n    },\n    subCounty: function () {\n      this.subCountyID = this.subCounty.subCountyID;\n      this.subCountyName = this.subCounty.subCountyName;\n      this.getWards();\n      this.getPlots();\n    },\n    ward: function () {\n      this.wardID = this.ward.wardID;\n      this.wardName = this.ward.wardName;\n      this.getPlots();\n    },\n    quantity: function () {\n      this.amount = this.quantity * this.unitFeeAmount;\n    }\n  },\n  mounted() {\n    this.getPlots();\n    this.getSubCounties();\n    this.$watch('keyword', function (newValue) {\n      this.keyword = newValue;\n      this.getPlots();\n    });\n    this.$watch('dateFrom', function () {\n      if (this.dateFrom === '' || this.dateTo === '') {} else {\n        this.getPlots();\n      }\n    });\n    this.$watch('dateTo', function () {\n      if (this.dateFrom === '' || this.dateTo === '') {} else {\n        this.getBusinessData();\n      }\n    });\n    this.subCountyID = sessionStorage.getItem(\"sessionSubCountyID\");\n    this.wardID = sessionStorage.getItem(\"sessionWardID\");\n    this.getPlots();\n    this.getIncomeTypes();\n  },\n  computed: {\n    // calculate the start index of the items for the current page\n    startIndex() {\n      return (this.currentPage - 1) * this.pageSize;\n    },\n    // calculate the end index of the items for the current page\n    endIndex() {\n      return this.currentPage * this.pageSize;\n    }\n  },\n  methods: {\n    //pagination code\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n      // return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getBusinessData();\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getBusinessData();\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getBusinessData();\n      }\n    },\n    formatDate(date) {\n      let d = new Date(date);\n      let day = d.getDate();\n      let month = d.toLocaleString('en-US', {\n        month: 'short'\n      });\n      let year = d.getFullYear();\n      let suffix = '';\n      if (day % 10 === 1 && day !== 11) {\n        suffix = 'st';\n      } else if (day % 10 === 2 && day !== 12) {\n        suffix = 'nd';\n      } else if (day % 10 === 3 && day !== 13) {\n        suffix = 'rd';\n      } else {\n        suffix = 'th';\n      }\n      return `${day}${suffix} ${month} ${year}`;\n    },\n    formattedTime(time) {\n      return moment(time).format('hh:mm A');\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num);\n    },\n    getSubCounties() {\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.subCounties = res.data.data.subCounties;\n\n          //preselection\n          this.subCounties.forEach((value, index) => {\n            if (this.selectedUser.subCountyID === value.subCountyID) {\n              this.subCounty = this.subCounties[index];\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getWards() {\n      this.wards = [];\n      this.ward = '';\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.wards = res.data.data.wards;\n\n          //preselection\n          this.wards.forEach((value, index) => {\n            if (this.selectedUser.wardID === value.wardID) {\n              this.ward = this.wards[index];\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedIncomeType(event) {\n      const value = event.target.value;\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId);\n    },\n    getIncomeTypes() {\n      this.message = null;\n      this.billingModule.incomeTypes.splice(0);\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", \"PLTRENT\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.billingModule.incomeTypes = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndChargesBilling(incomeTypeId) {\n      this.message = null;\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.feesAndCharges = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedFeeAndCharge(event) {\n      const data = JSON.parse(event.target.value);\n      this.amount = data.unitFeeAmount;\n      this.feeID = data.feeId;\n      this.unitFeeAmount = data.unitFeeAmount;\n      this.feesAndChargeItems = [];\n      this.feesAndChargeItems.splice(0);\n      this.feesAndChargeItems.push(data);\n    },\n    selectPlot(plot) {\n      this.plot = plot;\n      this.selectedPlots.splice(0);\n      this.totalAmount = 0;\n      this.feesAndChargeItems.splice(0);\n      this.selectedPlots.push(plot);\n    },\n    getPlots() {\n      this.loading = true;\n      this.plots.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getPlots\");\n      data.append(\"search\", this.keyword !== undefined ? this.keyword : \"\");\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      data.append(\"dateFrom\", this.dateFrom);\n      data.append(\"dateTo\", this.dateTo);\n      data.append(\"subCountyID\", this.subCountyID !== null && this.subCountyID !== undefined ? this.subCountyID : \"\");\n      data.append(\"wardID\", this.wardID !== null && this.wardID !== undefined ? this.wardID : \"\");\n      execute(data, plotRent).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.plots = res.data.data.plots;\n          this.totalItems = res.data.data.count.count;\n          this.totalPages = Math.ceil(this.totalItems / this.pageSize);\n          this.totalAnnual = this.plots.reduce((acc, cur) => {\n            let totalAmount = Number(cur.annualCharges);\n            return acc + totalAmount;\n          }, 0);\n          this.totalBalance = this.plots.reduce((acc, cur) => {\n            let totalAmount = Number(cur.outstandingArrears);\n            return acc + totalAmount;\n          }, 0);\n          this.totalArrears = this.plots.reduce((acc, cur) => {\n            let totalAmount = Number(cur.outstandingArrears);\n            return acc + totalAmount;\n          }, 0);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addPlotRent() {\n      this.plot.subCountyName = this.subCounty.subCountyName;\n      this.plot.subCountyID = this.subCounty.subCountyID;\n      this.plot.wardName = this.ward.wardName;\n      this.plot.wardID = this.ward.wardID;\n      const data = {\n        ...this.plot,\n        function: \"addPlotRent\"\n      };\n      executeJson(data, plotRent).then(res => {\n        if (res.data.success) {\n          alert(res.data.message);\n          this.getPlots();\n        } else {\n          this.message = res.data.message;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getRight(type) {\n      return getRight(type);\n    },\n    generateFeeAndChargesItem() {\n      // Loop through the selectedVehicles array\n      for (let item of this.selectedPlots) {\n        // Create a new object with the mapped values\n        let newItem = {\n          feeId: this.feeID,\n          // Map feeID to feeId\n          unitFeeAmount: this.amount,\n          // Map amount to unitFeeAmount\n          customer: item.plotNumber // Map numberPlate to customer\n        };\n        // Push the new object to the feesAndChargeItems array\n        this.feesAndChargeItems.splice(0);\n        this.feesAndChargeItems.push(newItem);\n      }\n      this.addToBill();\n    },\n    addToBill() {\n      for (const {\n        typeDescription,\n        feeId,\n        feeDescription,\n        unitFeeAmount,\n        accountNo,\n        costCenterNo,\n        incomeTypeId,\n        customer\n      } of this.feesAndChargeItems) {\n        this.totalAmount += parseFloat(unitFeeAmount);\n        this.billItem.push({\n          typeDescription,\n          feeDescription,\n          unitFeeAmount: unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: this.plot.plotNumber,\n          feeId,\n          amount: unitFeeAmount,\n          customer: customer,\n          zone: sessionStorage.getItem(\"zone\"),\n          subCountyID: this.plot.subCountyID,\n          subCountyName: this.plot.subCountyName,\n          wardID: this.plot.wardID,\n          wardName: this.plot.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.plot.phoneNumber,\n          description: this.plot.plotNumber\n        });\n      }\n    },\n    generateBill() {\n      this.generateFeeAndChargesItem();\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data, biller).then(res => {\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'bill'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        });\n        const routeData = this.$router.resolve({\n          name: 'receipt'\n        });\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod() {\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n    },\n    showTransactionSummary(paymentMode) {\n      this.paymentData.paymentMode = paymentMode;\n      if (paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false;\n    },\n    makePayment() {\n      if (this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.paymentMethod = false;\n          this.paymentPanel = false;\n          //start checking payment\n          this.timer = setInterval(() => {\n            this.checkPayment();\n          }, 3000);\n        } else {\n          this.rate = null;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1;\n      if (this.randomNumber === 1) {\n        this.message = \"Waiting for payment.\";\n      }\n      if (this.randomNumber === 2) {\n        this.message = \"Waiting for payment..\";\n      }\n      if (this.randomNumber === 3) {\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = null;\n          clearInterval(this.timer);\n          this.receipt = true;\n          this.paymentData.success = false;\n          this.transaction = res.data.data.transaction;\n          this.receiptDetails = res.data.data.receipt.receiptDetails;\n          //Close the modal\n          this.transactionSummary = false;\n          this.transactionCompleted = true;\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    formatPrice(value) {\n      var formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'KES',\n        minimumFractionDigits: 2\n      });\n      return formatter.format(value);\n    },\n    gotTo(route) {\n      router.push(route);\n    }\n  }\n};","map":{"version":3,"names":["NavigationBar","moment","biller","execute","executeDownload","executeJson","getRight","plotRent","router","ToolBar","ToolBarPlot","name","components","data","feeID","amount","unitFeeAmount","quantity","subCountyName","wardName","dateFrom","dateTo","searchValue","currentPage","totalPages","pageSize","download","loading","keyword","color","subCountyID","wardID","subCounties","wards","subCounty","id","countyID","countyName","status","ward","billingModule","incomeType","incomeTypeId","incomeTypeDescription","incomeTypePrefix","fundDescription","incomeTypes","plots","plotNumber","plotSize","lat","lng","plotAddress","ownerNames","ownerEmail","ownerPhoneNo","outstandingArrears","annualCharges","createdBy","createdByIDNo","dateCreated","plot","totalUncomplint","totalCompliant","totalArrears","totalAnnual","totalBalance","feesAndCharges","feeId","feeDescription","unitOfMeasure","accountNo","feeType","accountDesc","costCenterNo","zone","typeDescription","selectedPlots","totalAmount","message","feesAndChargeItems","customer","billItem","billDetails","billNo","incomeTypeID","detailAmount","receiptAmount","billBalance","billInfo","paymentData","bankReceiptNo","accNo","payBillNo","phoneNumber","success","paymentMode","sessionNames","sessionIdNo","sessionPhoneNumber","alert","info","failed","transactionCompleted","transactionSummary","paymentPanel","paymentMethod","watch","newPageSize","getPlots","totalItems","summary","count","newTotalPages","Math","ceil","getWards","mounted","getSubCounties","$watch","newValue","getBusinessData","sessionStorage","getItem","getIncomeTypes","computed","startIndex","endIndex","methods","pagination","maxVisibleButtons","pages","start","floor","end","i","push","unshift","prevPage","nextPage","goToPage","page","formatDate","date","d","Date","day","getDate","month","toLocaleString","year","getFullYear","suffix","formattedTime","time","format","numberFormat","num","britishNumberFormatter","Intl","NumberFormat","FormData","append","then","res","forEach","value","index","selectedUser","catch","e","selectedIncomeType","event","target","result","JSON","parse","getFeesAndChargesBilling","splice","selectedFeeAndCharge","selectPlot","undefined","reduce","acc","cur","Number","addPlotRent","function","type","generateFeeAndChargesItem","item","newItem","addToBill","parseFloat","revenueStreamItem","idNo","names","customerPhoneNumber","description","generateBill","stringify","bill","billGenerated","printBill","localStorage","routeData","$router","resolve","window","open","href","printReceipt","receiptDetails","receiptNo","showPaymentMethod","showTransactionSummary","makePayment","timer","setInterval","checkPayment","rate","randomNumber","random","clearInterval","receipt","transaction","formatPrice","formatter","style","currency","minimumFractionDigits","gotTo","route"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/biller/meru-biller/src/components/plotrent/PlotRent.vue"],"sourcesContent":["<template>\n\n\n  <!-- index.html   13:53:02 GMT -->\n\n  <head>\n\n    <meta charset=\"utf-8\" />\n    <title>Desk Birdy | Parking Quick Stats</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Rental management system by Nouveta LTD\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n    <!-- droping file -->\n    <link href=\"assets/libs/dropzone/min/dropzone.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- DataTables -->\n    <link href=\"assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css\" rel=\"stylesheet\"\n          type=\"text/css\" />\n\n    <!-- // Add the new slick-theme.css if you want the default styling -->\n    <link rel=\"stylesheet\" href=\"assets/libs/slick/slick.css\"/>\n    <link rel=\"stylesheet\" href=\"assets/libs/slick/slick-theme.css\"/>\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\"\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- App Css-->\n\n    <!-- owl.carousel css -->\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.carousel.min.css\">\n\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.theme.default.min.css\">\n\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n  </head>\n\n  <body data-sidebar=\"dark\">\n\n\n\n  <!-- Begin page -->\n  <div id=\"layout-wrapper\">\n\n\n    <NavigationBar/>\n\n\n    <!-- ============================================================== -->\n    <!-- Start right Content here -->\n    <!-- ============================================================== -->\n    <div  id=\"content\" class=\"content-minimize\">\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row \">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18\">Plot Rent Register</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Dashboards</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Land & Plots</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Plot Rent Register</a></li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n\n          <!-- tool bar -->\n\n          <ToolBarPlot/>\n\n          <!-- end of toolbar -->\n          <div class=\"row\">\n\n            <div class=\"col-12 px-sm-30px\">\n              <div class=\"card\">\n                <div class=\"card-header bg-white  w-100 border-bottom d-flex justify-content-between align-items-center\">\n                  <h4 class=\"card-title text-capitalize\">\n                    Plot Rent Register\n                  </h4>\n                  <div class=\"d-flex\">\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".add-plot-modal\" type=\"button\" class=\"btn btn-success text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"bx bx-plus font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add A Plot</span>\n                    </button>\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".upload-plot-modal\" type=\"button\" class=\"btn btn-info text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"mdi mdi-file-document-outline font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Upload Plots</span>\n                    </button>\n\n                  </div>\n\n                </div>\n                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom\">\n\n                  <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n                    <div class=\"flex-grow-1\">\n                      <div class=\"search-box mb-0 me-3\">\n                        <div class=\"position-relative\">\n                          <input v-model=\"keyword\" type=\"text\" class=\"form-control bg-light border-light rounded\" placeholder=\"Search...\" fdprocessedid=\"husj3l\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          <i class=\"bx bx-search-alt search-icon\"></i>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n\n                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom\">\n\n                  <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n\n\n                    <div class=\"d-flex\">\n                      <select class=\"form-select w-auto font-13px mx-3\" v-model=\"subCounty\">\n                        <option value=\"10\">All Sub Counties</option>\n                        <option :key=\"index\" :value=\"item\" v-for=\"(item, index) in subCounties\">\n                          {{ item.subCountyName }}\n                        </option>\n                      </select>\n\n\n                      <select class=\"form-select w-auto font-13px mx-3\" v-model=\"ward\">\n                        <option value=\"10\">All Wards</option>\n                        <option :key=\"index\" :value=\"item\"\n                                v-for=\"(item, index) in wards\">\n                          {{ item.wardName }}\n                        </option>\n                      </select>\n\n                      <select class=\"form-select w-auto font-13px mx-3\">\n                        <option value=\"10\">All Attendants</option>\n                        <option value=\"25\">Kelvin Kinoti</option>\n                        <option value=\"50\">Bahati Bukuku</option>\n                        <option value=\"100\">John Opio</option>\n                        <option value=\"150\">Maua Town</option>\n                        <option value=\"200\">Nkubu Town</option>\n                      </select>\n\n                      <select class=\"form-select w-auto font-13px mx-3\">\n                        <option value=\"10\">All Plots</option>\n                        <option value=\"25\">Compliant</option>\n                        <option value=\"50\">Non Compliant</option>\n\n                      </select>\n\n                      <div class=\"d-flex align-items-center me-3 pe-3\">\n                        <span class=\"pr-3 fw-semibold text-nowrap\">From (Registration Date):</span>\n                        <input v-model=\"dateFrom\" class=\"form-control\" placeholder=\"Start date\" type=\"date\">\n                        <span class=\"px-3 fw-semibold\">TO:</span>\n                        <input v-model=\"dateTo\" class=\"form-control\" placeholder=\"Start date\" type=\"date\">\n                      </div>\n                      <button data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector me-3 text-capitalize\">\n                        <i class=\"bx bxs-download  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Download Report</span>\n                      </button>\n\n                    </div>\n\n\n                  </div>\n                  <div class=\"btn-toolbar p-3 align-items-center d-none animated delete-tool-bar\" role=\"toolbar\">\n                    <button type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" class=\"btn btn-primary waves-effect btn-label waves-light me-3\"><i class=\"mdi mdi-printer label-icon\"></i> Print Selected Invoices</button>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table align-middle table-striped table-nowrap table-hover dt-responsive contacts-table\" id=\"\">\n                      <thead class=\"table-dark\">\n                      <tr>\n                        <th scope=\"col\">Plot NO.</th>\n                        <th>Plot Size</th>\n                        <th>Added By</th>\n                        <th>Added On</th>\n                        <th scope=\"col\">Owner</th>\n                        <th>Phone</th>\n                        <th>Email</th>\n                        <th>Sub County</th>\n                        <th>Ward</th>\n                        <th>Address</th>\n                        <th>Status</th>\n                        <th scope=\"col\" class=\"text-right\">Arrears</th>\n                        <th scope=\"col\" class=\"text-right\">Annual Rate</th>\n                        <th class=\"text-right\">Balance</th>\n\n\n                        <th></th>\n                      </tr>\n                      </thead>\n                      <tbody class=\"text-capitalize\">\n                      <tr :key=\"index\" :value=\"item\" v-for=\"(item, index) in plots\">\n                        <td>{{item.plotNumber}}</td>\n                        <td>\n                          {{item.plotSize}}\n                        </td>\n\n                        <td>{{item.createdBy}}</td>\n                        <td>{{formatDate(item.dateCreated)}}</td>\n                        <td>{{item.ownerNames}}</td>\n                        <td>{{item.ownerPhoneNo}}</td>\n                        <td>{{item.ownerEmail}}</td>\n\n                        <td>{{item.subCounty}}</td>\n                        <td>{{item.wardName}}</td>\n                        <td>{{item.plotAddress}}</td>\n                        <td>\n                          <span v-if=\"item.status=='Compliant'\" class=\"badge rounded-pill bg-success text-uppercase\" key=\"t-new\">{{item.status}}</span>\n                          <span  v-if=\"item.status=='Non Compliant'\" class=\"badge rounded-pill bg-success text-uppercase\" key=\"t-new\">{{item.status}}</span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"fw-bold\">KES {{numberFormat(item.outstandingArrears)}}</span>\n                        </td>\n                        <td class=\"text-right\">\n                          <span class=\"fw-bold\">KES {{numberFormat(item.annualCharges)}}</span>\n                        </td>\n                        <td class=\"text-right fw-bold\">\n                          KES {{numberFormat(item.outstandingArrears)}}\n                        </td>\n\n\n                        <td>\n                          <div class=\"dropdown\">\n\n\n                            <button  role=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" class=\"btn btn-sm btn-warning text-black waves-effect btn-label waves-light text-uppercase\"><i class=\"mdi mdi-arrow-down-drop-circle label-icon\"></i> More Options</button>\n\n                            <div class=\"dropdown-menu dropdown-menu-end\">\n                              <a @click=\"selectPlot(item)\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\".details-modal\"><i class=\"font-size-15 mdi mdi-eye-plus-outline me-3\"></i>Plot Details</a>\n                              <a  @click=\"selectPlot(item)\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\"#bill-client\" ><i class=\"font-size-15 mdi mdi mdi-receipt me-3\"></i>Bill Client</a>\n<!--                              <a  @click=\"selectPlot(item)\"  class=\"dropdown-item\" href=\"plot-rent-statements.html\"><i class=\"font-size-15 mdi mdi-microsoft-excel me-3\"></i>Statements</a>\n                              <a  @click=\"selectPlot(item)\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\".add-plot-modal\"><i class=\"font-size-15 mdi mdi-file-document-edit me-3\"></i>Edit</a>\n                              <a  @click=\"selectPlot(item)\" class=\"dropdown-item\" href=\"#\" data-toggle=\"modal\" data-target=\".send-sms-modal\"><i class=\"font-size-15 mdi mdi-chat-processing me-3\"></i>Send Reminder</a>-->\n\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n\n                      </tbody>\n                      <tfoot class=\"table-dark\">\n                      <tr>\n                        <th colspan=\"\">{{plots.length}} Plots</th>\n                        <th colspan=\"9\">22 Ha</th>\n                        <th class=\"text-right\">\n                          <span class=\"badge rounded-pill bg-danger text-uppercase\" key=\"t-new\">Compliant</span> {{totalCompliant}}\n\n                          <span class=\"badge rounded-pill bg-success text-uppercase\" key=\"t-new\">Uncompliant</span> {{totalUncomplint}}\n                        </th>\n\n\n                        <th class=\"text-right\">KES {{numberFormat(totalArrears)}}</th>\n                        <th class=\"text-right\">KES {{numberFormat(totalAnnual)}}</th>\n                        <th class=\"text-right\">KES {{numberFormat(totalBalance)}}</th>\n\n                        <th>\n\n                        </th>\n\n                      </tr>\n                      </tfoot>\n\n\n                    </table>\n\n                    <div class=\"card-body px-5 d-flex flex-column justify-items-center align-items-center text-center d-flex justify-content-center\"\n                         v-if=\"loading\">\n                      <div class=\"p-5 py-0 pt-3\">\n                        <div class=\"p-5\">\n                          <div class=\"spinner-border text-info m-1\" role=\"status\">\n                            <span class=\"sr-only text-uppercase\">Loading...</span>\n                          </div>\n                        </div>\n                      </div>\n                      <h4 class=\"text-uppercase\">Loading Data</h4>\n                      <div class=\"col-sm-12 col-md-8 col-lg-5\">\n                        <p>We are fetching the data for you. It will be ready soon. Please wait\n                          and have fun. Thank you for your interest.</p>\n\n                      </div>\n                    </div>\n                    <div class=\"card-body d-sm-none d-md-block px-5 d-flex flex-column justify-items-center align-items-center text-center\"\n                         v-if=\"plot.length<1 & loading === false\">\n                      <div class=\"p-5 py-0 pt-3\">\n                        <img :src=\"'./assets/images/no-results.png'\" alt=\"No search results\"\n                             class=\"img mb-4\"/>\n                      </div>\n                      <h4>No Results To Show</h4>\n                      <p>Sorry, we could not find any results that match your search or filter\n                        criteria. Please try using different keywords or filters.</p>\n                    </div>\n\n                  </div>\n                </div>\n\n                <div class=\"card-footer bg-white\">\n                  <nav aria-label=\"Page navigation example \"\n                       class=\"d-flex align-items-center justify-content-between\">\n\n                    <div class=\"d-flex align-items-center\">\n                                            <span class=\"pr-3 pb-0 mb-0 font-13px\">\n                                                <span>Rows Per Page</span>\n                                            </span>\n                      <select class=\"form-select w-auto font-13px \" v-model=\"pageSize\">\n                        <option value=\"10\">10 Rows</option>\n                        <option value=\"25\">25 Rows</option>\n                        <option value=\"50\">50 Rows</option>\n                        <option value=\"100\">100 Rows</option>\n                        <option value=\"150\">150 Rows</option>\n                        <option value=\"200\">200 Rows</option>\n                        <option value=\"10000\">10,000 Rows</option>\n                        <option value=\"50000\">50,000 Rows</option>\n                      </select>\n                    </div>\n\n                    <ul class=\"pagination\">\n                      <!-- add a class of disabled and an attribute of disabled when the current page is the first page -->\n                      <li :class=\"{ disabled: currentPage === 1 }\" class=\"page-item\">\n                        <a :disabled=\"currentPage === 1\" @click=\"prevPage\" class=\"page-link\"\n                           tabindex=\"-1\">Previous</a>\n                      </li>\n                      <!-- replace the v-for directive with the pagination function call -->\n                      <li :class=\"{ active: currentPage === page }\" :key=\"page\" class=\"page-item\"\n                          v-for=\"page in pagination(currentPage, totalPages, 3)\">\n                        <!-- check if the page is an ellipsis and display it as plain text -->\n                        <span class=\"page-link\" v-if=\"page === '...'\">{{ page }}</span>\n                        <!-- otherwise, display it as a clickable link -->\n                        <a @click=\"goToPage(page)\" class=\"page-link\" v-else>{{ page }}</a>\n                      </li>\n                      <!-- add a class of disabled and an attribute of disabled when the current page is the last page -->\n                      <li :class=\"{ disabled: currentPage === totalPages }\" class=\"page-item\">\n                        <a :disabled=\"currentPage === totalPages\" @click=\"nextPage\"\n                           class=\"page-link\">Next</a>\n                      </li>\n                    </ul>\n\n\n                  </nav>\n                </div>\n\n              </div>\n            </div>\n          </div>\n\n          <!-- end row -->\n        </div>\n        <!-- container-fluid -->\n      </div>\n      <!-- End Page-content -->\n\n      <!-- receipting modal -->\n      <div class=\"modal fade receipting-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered modal-full modal-fullscreen\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Business Details</h5>\n              <span\n                  class=\"badge rounded-pill bg-success text-uppercase font-12px text-uppercase mx-3\">Active\n                                Certificate</span>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"hori-timeline mt-4\">\n                    <div class=\"owl-carousel owl-theme  navs-carousel events timeline-carousel\"\n                         id=\"timeline-carousel\">\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep 2023 10:09 AM</div>\n                            <h5 class=\"mb-4\">Application</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">Kelvin Omondi</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">15 Sep 2023 12:59 AM</div>\n                            <h5 class=\"mb-4\">Details Verification</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By Kelvin Ouma</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">20 Sep 2023 08:23 AM</div>\n                            <h5 class=\"mb-4\">Premices Inspection</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By Alex Kinoti</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">23 sep 2023 08:23 AM</div>\n                            <h5 class=\"mb-4\">Approval Of Application</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By John King</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">23 sep 2023 08:25 AM</div>\n                            <h5 class=\"mb-4\">issueance Of Certifcate</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bxs-check-circle h1 text-success down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">By John King</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list active\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">By 31 Dec 2023 12:00 AM</div>\n                            <h5 class=\"mb-4\">Renewal</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i\n                                class=\"bx bx-down-arrow-circle h1 text-info down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\"><a\n                                href=\"user-details.html\">-</a></p>\n                          </div>\n                        </div>\n                      </div>\n\n\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-success border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-certification font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Certificate details</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Serial\n                                No.</p>\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Last Paid for</p>\n                            </td>\n                            <td class=\"\">12 Jan 2023</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Expiry\n                                Date</p>\n\n                            </td>\n                            <td class=\"\">31 Dec 2023</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Days\n                                to expiry</p>\n\n                            </td>\n                            <td class=\"\">204 Days</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Printing status</p>\n\n                            </td>\n                            <td class=\"\">Printed</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Amount\n                                Paid</p>\n\n                            </td>\n                            <td class=\"text-uppercase text-black fw-semibold\">KES 25,000\n                            </td>\n\n                          </tr>\n\n\n\n\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-info border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-briefcase-alt-2 font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Business Details</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business\n                                Name</p>\n                            </td>\n                            <td class=\"\">Wireless Electronics</td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Certificate of Incoporation No. </p>\n                            </td>\n                            <td class=\"\">1234557768</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">KRA\n                                Pin\n                                No.</p>\n\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">VAT\n                                No.\n                              </p>\n\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business\n                                Activity</p>\n\n                            </td>\n                            <td class=\"\">Accomodation and Catering</td>\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business\n                                Sub category</p>\n\n                            </td>\n                            <td class=\"\">Small Lodging House</td>\n                          </tr>\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-warning border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bxs-user-pin font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Owner Details</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Owner's Full Names</p>\n                            </td>\n                            <td class=\"\">Mr Alex Wanjala Akinyi</td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                ID/PPT No.</p>\n                            </td>\n                            <td class=\"\">1234557768</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Owner's Fax</p>\n\n                            </td>\n                            <td class=\"\">12345</td>\n\n                          </tr>\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Owner's Mobile No.</p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Alternative Mobile No.</p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Postal\n                                Address</p>\n\n                            </td>\n                            <td class=\"\">12-1004 Nairobi</td>\n                          </tr>\n\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n\n                <div class=\"col-sm-12 col-md-4\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-danger border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-phone-call pin font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Location and Contact information</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"table-responsive\">\n                        <table\n                            class=\"table table-nowrap vertical-align-middle table-striped table-sm\">\n                          <tbody>\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business Mobile No.</p>\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Alternative Phone No</p>\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">0704549859</a></td>\n\n                          </tr>\n\n\n\n                          <tr\n                              title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Business Email address</p>\n                            </td>\n                            <td class=\"\"><a\n                                href=\"mailto:email@email.com\">email@email.com</a>\n                            </td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\"> Sub\n                                county</p>\n\n                            </td>\n                            <td class=\"\">Homabay Town Sub county</td>\n\n                          </tr>\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Ward\n                              </p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">Rodi Township Ward</a>\n                            </td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Physical address/Street</p>\n\n                            </td>\n                            <td class=\"\"><a href=\"tel:0704549859\">Along Moi Avenue\n                              opposite cooperative Bank</a></td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Building Name</p>\n\n                            </td>\n                            <td class=\"\">ALexis complex</td>\n\n                          </tr>\n\n                          <tr>\n                            <td>\n                              <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">\n                                Stall/Room No.</p>\n\n                            </td>\n                            <td class=\"\">122</td>\n\n                          </tr>\n\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n\n                <div class=\"col-sm-12 col-md-8\">\n                  <div class=\"row\">\n                    <div class=\"col-12 mt-4\">\n                      <div class=\"bg-dark border-2 bg-soft p-2 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-map font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0\">Map View</p>\n\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div>\n                        <iframe\n                            src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d46449.71551863634!2d36.67523836781685!3d-1.3353441122372378!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f0cb9ff59a4a3%3A0x4073419e11826405!2sOrbital%20Africa%20%7C%20Land%20%26%20Topo%20Survey%2C%20GPS%2C%20GPR%2C%20GIS%2C%20Mapping%2C%20Drones%2C%20Training%20%26%20Geospatial%20Solutions!5e0!3m2!1sen!2ske!4v1691859398886!5m2!1sen!2ske\"\n                            width=\"100%\" height=\"450\" style=\"border:0;\" allowfullscreen=\"\"\n                            loading=\"lazy\" referrerpolicy=\"no-referrer-when-downgrade\"></iframe>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n              </div>\n\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"PrintDocs/Trade-Permit/permit.html\" target=\"_blank\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"mdi mdi-printer font-size-16 align-middle me-2\"></i> Print Certificate\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of receipting modal -->\n\n      <!-- add plot modal -->\n      <div class=\"modal fade add-plot-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Add New Plot</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n\n                <div class=\"col-12\">\n                  <p class=\"fw-bold text-black text-uppercase\">Plot Details:</p>\n                </div>\n\n\n                <div class=\"col-12\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Plot Number</label>\n                    <input v-model=\"plot.plotNumber\" type=\"text\" class=\"form-control\" placeholder=\"Enter the Plot Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Select Sub County</label>\n                    <select class=\"form-select  font-13px  form-control\" @change=\"getWards(subCounty.subCountyID)\"  v-model=\"subCounty\">\n\n                      <option v-for=\"(item, index) in subCounties\" :key=\"`${index}`\" :value=\"item\"><a class=\"dropdown-item\" href=\"#\">{{item.subCountyName}}</a></option>\n                    </select>\n\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Select Ward</label>\n                    <select class=\"form-select  font-13px  form-control\" v-model=\"ward\">\n                      <option :key=\"`${index}`\" :value=\"item\" v-for=\"(item, index) in wards\"><a\n                          class=\"dropdown-item\" href=\"#\">{{item.wardName}}</a></option>\n                    </select>\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Plot Size (Ha)</label>\n                    <input v-model=\"plot.plotSize\" type=\"text\" class=\"form-control\" placeholder=\"In Ha\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Longitude</label>\n                    <input v-model=\"plot.lat\" type=\"text\" class=\"form-control\" placeholder=\"Selected Longitude\" readonly>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Latitude</label>\n                    <input v-model=\"plot.lng\" type=\"text\" class=\"form-control\" placeholder=\"Selected Latitude\" readonly>\n                  </div>\n                </div>\n\n                <div class=\"col-12 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Plot Address</label>\n                    <input v-model=\"plot.plotAddress\" type=\"text\" class=\"form-control\" placeholder=\"Enter Plot's Physical Address\">\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <p class=\"fw-bold text-black text-uppercase\">Owner Details:</p>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Owner's Full Names</label>\n                    <input v-model=\"plot.ownerNames\" type=\"text\" class=\"form-control\" placeholder=\"eg John Doe\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Owner's Email</label>\n                    <input v-model=\"plot.ownerEmail\" type=\"email\" class=\"form-control\" placeholder=\"Email Address\">\n                  </div>\n                </div>\n\n                <div class=\"col-6 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Owner's Phone No.</label>\n                    <input v-model=\"plot.ownerPhoneNo\" type=\"text\" class=\"form-control\" placeholder=\"eg 0712345678\">\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <p class=\"fw-bold text-black text-uppercase\">Plot Fees Details:</p>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Outstanding Arrears</label>\n                    <input v-model=\"plot.outstandingArrears\" type=\"text\" class=\"form-control\" placeholder=\"Enter the arrears\">\n                  </div>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <div class=\"form-group mb-3\">\n                    <label for=\"\">Annual Charges</label>\n                    <input v-model=\"plot.annualCharges\" type=\"text\" class=\"form-control\" placeholder=\"Enter the annual Charges\">\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n            <div class=\"modal-footer\">\n\n              <a data-bs-dismiss=\"modal\" @click=\"addPlotRent()\" type=\"button\" href=\"javascript: void(0);\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of add plot modal -->\n\n      <!-- uploading an excel -->\n      <div class=\"modal fade upload-plot-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Upload Plots</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"\" class=\"text-uppercase mb-3\">Upload Excel Sheet</label>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div>\n                    <form action=\"#\" class=\"dropzone\">\n                      <div class=\"fallback\">\n                        <input name=\"file\" type=\"file\" multiple=\"multiple\">\n                      </div>\n                      <div class=\"dz-message needsclick\">\n                        <div class=\"mb-3\">\n                          <i class=\"display-4 text-muted bx bxs-cloud-upload\"></i>\n                        </div>\n\n                        <h4>Drop files here or click to upload.</h4>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"PrintDocs/Trade-Permit/permit.html\" target=\"_blank\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of uploading excel -->\n\n      <!-- invoice details -->\n      <div class=\"modal fade add-car-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-xl modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Usiku Sacco</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div >\n                <div class=\"col-12\">\n                  <address>\n                    <strong>About Sacco:</strong><br>\n                    Conatct Person: Kelvin Njuguna<br>\n                    email@mail.com, 0704 549 859<br>\n                    Hse No. 410, 90 Degrees By Tsavo\n                    <br><br>\n                    Ward, Sub County\n                  </address>\n                </div>\n                <div class=\"new-vehicles-container-modal\">\n                  <div class=\"col-12\">\n                    <div class=\"py-2 mt-3\">\n                      <h3 class=\"font-size-15 fw-bold\">Vehicles to Be newly registered</h3>\n                    </div>\n                  </div>\n                  <div class=\"col-12\">\n                    <div class=\"\">\n                      <table class=\"table table-editable-1 align-middle table-edits\">\n                        <thead class=\"table-light\">\n                        <tr class=\"text-uppercase table-dark\">\n                          <th>#</th>\n                          <th>Vehicle</th>\n                          <th class=\"\">Category</th>\n                          <th class=\"\">Owner</th>\n                          <th>Phone No.</th>\n                          <th></th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr data-id=\"1\">\n                          <td style=\"width: 80px\">1.</td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Enter Plate No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td>\n                            <select class=\"form-control selectpicker form-select\" data-live-search=\"true\" title=\"Select Vehicle Category\" data-style=\"form-select btn border\">\n                              <option value=\"Sedan\">Sedan</option>\n                              <option value=\"SUV\">SUV</option>\n                              <option value=\"Truck\">Truck</option>\n                              <option value=\"Motorcycle\">Motorcycle</option>\n                              <option value=\"Van\">Van</option>\n                              <!-- Add more vehicle categories here as needed -->\n                            </select>\n\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Name\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Phone No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n\n                          <td></td>\n\n                        </tr>\n\n                        <tr class=\"cloneCharges d-none\">\n                          <td style=\"width: 80px \" class=\"categoryIndex \">#</td>\n\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Enter Plate No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td>\n                            <select class=\"form-control\" data-live-search=\"true\" title=\"Select Vehicle Category\" data-style=\"form-select btn border\">\n                              <option value=\"Sedan\">Sedan</option>\n                              <option value=\"SUV\">SUV</option>\n                              <option value=\"Truck\">Truck</option>\n                              <option value=\"Motorcycle\">Motorcycle</option>\n                              <option value=\"Van\">Van</option>\n                              <!-- Add more vehicle categories here as needed -->\n                            </select>\n\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Name\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n                          <td class=\"\">\n                            <input type=\"text \" class=\"form-control \" placeholder=\"Owner's Phone No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                          </td>\n\n\n                          <td class=\"text-right cell-change d-flex align-items-center justify-content-end\">\n                            <a class=\"btn btn-light btn-rounded waves-effect btn-circle btn-transparent cancel-new-category-2 \" title=\"Cancel \"><i class=\"bx bx-x \"></i></a>\n                          </td>\n                        </tr>\n\n\n                        </tbody>\n                        <tfoot>\n                        <tr>\n                          <td colspan=\"7\" class=\"bg-light add-field-1 cursor-pointer\">\n                            <span class=\"d-flex align-items-center \"><i class=\"dripicons-plus mr-5 d-flex justify-content-center align-items-center font-21 \"></i><span class=\"pl-5 \">Add A Vehicle</span></span>\n                          </td>\n                        </tr>\n                        </tfoot>\n                      </table>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div class=\"d-none  loader-panel\">\n                  <div class=\"p-5 py-0 pt-3 d-flex justify-content-center align-items-center text-center flex-column\">\n                    <div class=\"p-5\">\n                      <div class=\"spinner-border text-info m-1\" role=\"status\">\n                        <span class=\"sr-only text-uppercase\">Loading...</span>\n                      </div>\n                    </div>\n                    <h4 class=\"text-black fw-bold\">Payment Being Processed</h4>\n                    <div class=\"mb-5\">Ask Client to be checking their Phone for a payment request thats currently being Processed</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"col-12 d-non\">\n                <div class=\"table-resposive p-4 px-2 pt-2 overflow-visible\">\n                  <table class=\"w-100\">\n                    <tbody>\n                    <tr data-id=\"1\">\n\n                      <td class=\"px-3 \">\n                        <div class=\"phone-num d-non\">\n                          <label>Paying Phone No.</label>\n                          <input type=\"text \" class=\"form-control w-100 d-flex \"\n                                 placeholder=\"Paying Phone Number\" spellcheck=\"false\"\n                                 data-ms-editor=\"true\">\n                        </div>\n\n                      </td>\n                      <td class=\"px-3 \">\n                        <div class=\"phone-num d-non\">\n                          <label>Vehicles</label>\n                          <input type=\"text \" class=\"form-control w-100 d-flex \"\n                                 placeholder=\"Paying Phone Number\" spellcheck=\"false\"\n                                 data-ms-editor=\"true\" disabled value=\"4 Vehicles\">\n                        </div>\n\n                      </td>\n                      <td class=\"px-3\">\n                        <label>Computed Registration Amount</label>\n                        <input type=\"text \" class=\"form-control w-100 d-flex\"\n                               placeholder=\"KES\" spellcheck=\"false\" data-ms-editor=\"true\" disabled value=\"8000\">\n\n                      </td>\n\n\n\n                    </tr>\n                    </tbody>\n                  </table>\n\n                </div>\n              </div>\n              <div class=\"float-end\">\n\n                <a href=\"javascript: void(0);\"\n                   class=\"btn btn-primary w-md waves-effect waves-light reg-payment\">Send Payment Request</a>\n              </div>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- invoice details -->\n\n\n      <footer class=\"footer \">\n        <div class=\"container-fluid \">\n          <div class=\"row \">\n            <div class=\"col-sm-6 \">\n\n            </div>\n            <div class=\"col-sm-6 \">\n              <div class=\"text-sm-end d-sm-block \">\n                Homa Bay County Government\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n\n      <!-- PLOT details -->\n\n      <div class=\"modal fade details-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg  modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Plot Details</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n\n                  <div class=\"mt-3\">\n                    <table class=\"table align-middle table-nowrap table-hover dt-responsive contacts-table dataTable no-footer table-sm\" id=\"datatable-buttons\">\n\n                      <tbody>\n                      <tr>\n\n                        <td>\n                          Plot No\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{plot.plotNumber}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Owner\n                        </td>\n                        <td class=\"text-uppercase\">\n                         {{plot.ownerNames}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Phone Number\n                        </td>\n                        <td class=\"\">\n                          {{plot.ownerPhoneNo}}\n\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Email Address\n                        </td>\n                        <td class=\"text-capitalize\">\n                          {{plot.ownerEmail}}\n\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Sub County\n                        </td>\n                        <td class=\"text-capitalize\">\n                          {{plot.subCounty}}\n                        </td>\n                      </tr>\n\n\n                      <tr>\n\n                        <td>\n                          Ward\n                        </td>\n                        <td class=\"text-capitalize\">\n                         {{plot.wardName}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Physical Address\n                        </td>\n                        <td class=\"text-uppercase\">\n                         {{plot.plotAddress}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Added By\n                        </td>\n                        <td class=\"text-uppercase\">\n                         {{plot.createdBy}} on {{formatDate(plot.dateCreated)}}\n                        </td>\n                      </tr>\n\n<!--                      <tr>\n\n                        <td>\n                          Last Edited By\n                        </td>\n                        <td class=\"text-uppercase\">\n                          Alex Wanjala on 22 Jan 2024 at 5:35 PM (Fields edited Name, Plot No.)\n                        </td>\n                      </tr>-->\n\n<!--                      <tr>\n\n                        <td>\n                          Most Recent Payment\n                        </td>\n                        <td class=\"text-uppercase\">\n                          KES 4,000 On 22 Jan 2024 AT 2:45 PM By Kelvin Using Mpesa(SWERTGHH)\n                        </td>\n                      </tr>-->\n\n                      <tr>\n\n                        <td>\n                          Compliance Status\n                        </td>\n                        <td class=\"text-uppercase\">\n                          {{plot.status}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Annual Payable Fees\n                        </td>\n                        <td class=\"text-uppercase fw-bold text-black\">\n                          KES {{numberFormat(plot.annualCharges)}}\n                        </td>\n                      </tr>\n\n                      <tr>\n\n                        <td>\n                          Outstanding Balances\n                        </td>\n                        <td class=\"text-uppercase fw-bold text-danger\">\n                          KES {{numberFormat(plot.outstandingArrears)}}\n                        </td>\n                      </tr>\n                      </tbody>\n\n                    </table>\n\n\n                  </div>\n\n\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"javascript: void(0);\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"btn btn-primary w-md waves-effect waves-light w-100 text-uppercase\">Close Details</a>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n\n\n      <!-- end of land details -->\n\n      <!-- billing on the spot -->\n      <div class=\"modal fade\" id=\"bill-client\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header d-none\">\n              <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                            <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                                <i class=\"bx bx-x\"></i>\n                            </span>\n              </button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n                <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                                <i class=\"bx bx-x\"></i>\n                            </span>\n                </button>\n              </div>\n\n              <div class=\"payment-panel-parent\">\n\n                <div class=\"payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success d-non payment-panel\">\n                  <div class=\"success-image mb-4 pb-4 pt-4\">\n                    <img src=\"assets/images/bills.svg\" height=\"100\" alt=\"\">\n                  </div>\n\n\n                  <h4 class=\"text-black fw-bold\">Create Bill</h4>\n\n\n                  <div class=\"border-1 invoice-form p-4\">\n\n                    <div class=\"form-group mb-4\">\n\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Plot Number:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">KES {{ plot.plotNumber }}</p>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Onwer:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">KES {{ plot.ownerNames }}</p>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Annual Rate:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">KES {{ plot.annualCharges }}</p>\n                        </div>\n                      </div>\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"\" class=\"text-uppercase\">Arreas:</label>\n                        </div>\n                        <div class=\"col-6\">\n                          <p class=\"text-black fw-bold\">KES {{ plot.outstandingArrears }}</p>\n                        </div>\n                      </div>\n                    </div>\n\n                    <p class=\"text-muted mb-4\">Please input the desired payment amount based on the outstanding arreas or what the client wishes to pay</p>\n\n                    <div class=\"col-12\">\n\n                    <div class=\"mb-3\">\n                      <label for=\"formrow-firstname-input\" class=\"form-label\">Income Type</label>\n\n                      <select @change=\"selectedIncomeType($event)\"  title=\"-- Income Type --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"billingModule.incomeType\">\n                        <option value=\"\">Please Select</option>\n                        <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                          {{ item.incomeTypeDescription }}\n                        </option>\n                      </select>\n\n                    </div>\n\n                  </div>\n                  <div class=\"col-12\">\n                    <div class=\"mb-3\">\n                      <label for=\"formrow-firstname-input\" class=\"form-label\">Account Name</label>\n                      <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                        <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                          {{ item.feeDescription }} KES {{item.unitFeeAmount}}\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n\n                    <div class=\"col-12\">\n                      <div class=\"row\">\n                        <div class=\"col-6\">\n                          <label for=\"formrow-quantity-input\" class=\"form-label\">Quantity</label>\n                          <input v-model=\"quantity\" type=\"text\" class=\"form-control\" id=\"formrow-quantity-input\" placeholder=\"Quantity\">\n                        </div>\n                        <div class=\"col-6\">\n                          <label for=\"formrow-amount-input\" class=\"form-label\">Amount</label>\n                          <input v-model=\"amount\" type=\"text\" class=\"form-control\" id=\"formrow-amount-input\" placeholder=\"Bill Item amount\" readonly>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n\n                  <div class=\"d-flex w-100 pb-2\" style=\"margin-top: 20px\">\n\n                    <button @click=\"generateBill()\" data-toggle=\"modal\" data-target=\"#payment-modal\" data-dismiss=\"modal\"  type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1 print-bill-btn\">\n                      <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                      Create Invoice\n                    </button>\n\n\n                  </div>\n                </div>\n\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- billing on the spot -->\n\n      <!-- payment modal -->\n      <div class=\"modal fade\" id=\"payment-modal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header d-none\">\n              <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n              </button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n                <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n                </button>\n              </div>\n\n              <div>\n\n                <div v-if=\"paymentPanel\" class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4 pb-4 pt-4\">\n                    <img src=\"assets/images/bills.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-black fw-bold\">{{message}}</h4>\n                  <p class=\"text-muted mb-4\">The bill has been created Successfully, you can print the bill or opt to receive payment for this bill.</p>\n                  <div class=\"d-flex w-100 pb-2\">\n                    <button @click=\"showPaymentMethod()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                      <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                      Receive Payment\n                    </button>\n                    <a @click=\"printBill()\" target=\"_blank\" data-dismiss=\"\" type=\"button\" class=\"btn btn-outline-secondary waves-effect dismin-modal\">Print Bill</a>\n                  </div>\n                </div>\n\n                <div v-if=\"paymentMethod\" class=\"send-method payment-panel \">\n                  <label for=\"\" class=\"mb-0 pb-0\">Payment Method</label>\n                  <p><small class=\"text-muted\">How would you like to send this money?</small></p>\n\n                  <div>\n                    <div class=\"accordion\" id=\"accordionExample\">\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingOne\">\n                          <button class=\"accordion-button fw-medium\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/mpesa.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">MPESA</p>\n                              <p class=\"mb-0 p-0\"> <small>A payment request will be sent directly to the customer</small></p>\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseOne\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div>\n                              <p>\n                                A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to the MPESA number you enter below.\n                              </p>\n                            </div>\n                            <div class=\"form-group\">\n                              <label for=\"\">MPESA Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"phoneNumber\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Phone No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('MPESA')\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                                <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                                Send Payment Request\n                              </button>\n\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingThree\">\n                          <button class=\"accordion-button fw-medium collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/money.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">bank Receipting</p>\n                              <p class=\"mb-0 p-0\"> <small>Enter the receipt number here to confirm payment for this transaction.</small></p>\n\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div class=\"form-group\">\n                              <label for=\"\">Enter The Bank's Receipt Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"paymentData.bankReceiptNo\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Bank Ref No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('BANK')\" class=\"btn w-100 btn-warning mt-3 btn-bank\">\n                                Continue\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n\n                  </div>\n                </div>\n\n                <div v-if=\"transactionSummary\" class=\"transaction-summary payment-panel\">\n                  <label for=\"\">Transaction Breakdown</label>\n                  <div class=\"border p-4 rounded \">\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted \">\n                          BillO NO.\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetails.billNo}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Bill For\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetails.incomeTypeDescription}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Payment Method\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{paymentData.paymentMode}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Transaction Amount\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          KES {{billDetails.billBalance}}\n                        </div>\n                      </div>\n\n\n                      <div class=\"col-12 text-black\"><hr class=\"mb-0 pb-0\"></div>\n\n                      <div class=\"col-lg-6 text-uppercase\">\n                        <div class=\"text-muted mt-2 font-21\">\n                          Total\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end text-uppercase\">\n                        <div class=\" text-right text-black font-21 fw-bold\">\n                          KES {{billDetails.billBalance}}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"mpesa-confirmation\">\n                      <div v-if=\"paymentData.paymentMode === 'MPESA'\">\n                        <p class=\"text-muted mt-2\">A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to <strong class=\"text-black\"> phone number ({{ phoneNumber }})</strong> soon after you click the <strong class=\"text-black text-capitalize\">Send Request</strong> button bellow.\n                          <br>\n                          <br>\n                          Remember to <strong class=\"text-black\">Check your phone</strong> to confirm payment by entering your Mpesa pin.</p>\n                      </div>\n\n                      <div>{{message}}  </div>\n                      <br>\n                      <button @click=\"makePayment()\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect btn-send waves-light text-center w-100\">\n                        <div class=\"d-flex justify-content-center align-items-center\">\n                          <div class=\"stk-timer-container d-none justify-content-center align-items-center\">\n                            <span class=\"mdi mdi-timer-outline font-16px\"></span>\n                            <span class=\"stk-timer px-2\"></span>\n                          </div>\n                          <div class=\"justify-content-center align-items-center d-flex\">\n                            <span class=\"px-2\">Send Request</span>\n                            <div class=\"flip-x\"><i class=\"mdi mdi-reply ms-3 font-16px\"></i></div>\n                          </div>\n                        </div>\n                      </button>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div v-if=\"transactionCompleted\" class=\"text-center d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4\">\n                    <img src=\"assets/images/payment-confirmation-images/sent.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-blink-primary fw-bold\">Transaction Complete</h4>\n                  <p class=\"text-muted mb-4\"><strong class=\"text-black\">KES {{receiptDetails.receiptAmount}}</strong> has been received for <strong class=\"text-black\">Bill No. {{receiptDetails.billNo}}</strong></p>\n                  <button @click=\"printReceipt()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                    <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                    Print Receipt\n                  </button>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- end of payment modal -->\n\n\n    </div>\n    <!-- end main content-->\n\n  </div>\n  <!-- END layout-wrapper -->\n\n  <!-- Right bar overlay-->\n  <div class=\"rightbar-overlay \"></div>\n\n\n\n  </body>\n\n\n\n</template>\n\n<script>\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport moment from \"moment/moment\";\nimport {biller, execute, executeDownload, executeJson, getRight, plotRent} from \"@/api\";\nimport router from \"@/router\";\nimport ToolBar from \"@/components/parking/ToolBar.vue\";\nimport ToolBarPlot from \"@/components/plotrent/ToolBar.vue\";\n\nexport default {\n  name: \"PlotRent\",\n  components: {ToolBarPlot, ToolBar, NavigationBar},\n  data() {\n    return {\n      feeID:'',\n      amount:0,\n      unitFeeAmount:0,\n      quantity: 1,\n      subCountyName:'',\n      wardName:'',\n      dateFrom:'',\n      dateTo:'',\n      searchValue:\"\",\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      download:'Download Report',\n      loading: false,\n      keyword:'',\n      color:'alert-success',\n      subCountyID:'',\n      wardID:'',\n      subCounties:[{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards:[{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty: {\n        id:\"\",\n        countyID:\"\",\n        countyName:\"\",\n        subCountyID:\"\",\n        subCountyName:\"\",\n        wardID:\"\",\n        wardName:\"\",\n        status:\"\"\n      },\n      ward:{\n        id:\"\",\n        countyID:\"\",\n        countyName:\"\",\n        subCountyID:\"\",\n        subCountyName:\"\",\n        wardID:\"\",\n        wardName:\"\",\n        status:\"\"\n      },\n      billingModule:{\n        incomeType:{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes:[{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null}]\n      },\n\n      plots: [{\n          id: null,\n          plotNumber: null,\n          subCounty:  null,\n          subCountyID: null,\n          wardName: null,\n          wardID: null,\n          plotSize: null,\n          lat:  null,\n          lng: null,\n          plotAddress:  null,\n          ownerNames:  null,\n          ownerEmail:  null,\n          ownerPhoneNo: null,\n          outstandingArrears: null,\n          annualCharges: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          status: null,\n        }],\n      plot: {\n      id: null,\n          plotNumber: null,\n        subCountyName:  null,\n        subCountyID: null,\n        wardName: null,\n        wardID: null,\n        plotSize: null,\n        lat:  null,\n        lng: null,\n        plotAddress:  null,\n        ownerNames:  null,\n        ownerEmail:  null,\n        ownerPhoneNo: null,\n        outstandingArrears: null,\n        annualCharges: null,\n        createdBy: null,\n        createdByIDNo: null,\n        dateCreated: null,\n        status: null,\n\n    },\n      totalUncomplint:0,\n      totalCompliant:0,\n      totalArrears:0,\n      totalAnnual:0,\n      totalBalance:0,\n      feesAndCharges:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      selectedPlots:[\n        {\n          id: null,\n          plotNumber: null,\n          subCounty:  null,\n          subCountyID: null,\n          wardName: null,\n          wardID: null,\n          plotSize: null,\n          lat:  null,\n          lng: null,\n          plotAddress:  null,\n          ownerNames:  null,\n          ownerEmail:  null,\n          ownerPhoneNo: null,\n          outstandingArrears: null,\n          annualCharges: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          status: null,\n        }\n      ],\n\n      totalAmount:0,\n      message:null,\n      feesAndChargeItems:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null,\n        customer: null\n      }],\n      billItem:[],\n      billDetails:{\n        id:'',\n        billNo:'',\n        incomeTypeID:'',\n        incomeTypeDescription:'',\n        costCenterNo:'',\n        accountNo:'',\n        feeID:'',\n        detailAmount:'',\n        receiptAmount:'',\n        billBalance:'',\n        wardID:'',\n        subCountyID:'',\n        status:'',\n        dateCreated:''\n      },\n      billInfo:[],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode:null,\n        sessionNames:null,\n        sessionIdNo:null,\n        sessionPhoneNumber:null\n      },\n      alert:{\n        success: false,\n        info: false,\n        failed:false\n      },\n\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n    }\n\n  },\n  watch:{\n    pageSize(newPageSize) {\n      this.getPlots(\"\")\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.summary.count;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n\n    },\n\n    subCounty: function () {\n      this.subCountyID =  this.subCounty.subCountyID\n      this.subCountyName =  this.subCounty.subCountyName\n      this.getWards()\n      this.getPlots()\n\n    } ,\n    ward: function () {\n      this.wardID = this.ward.wardID\n      this.wardName = this.ward.wardName\n      this.getPlots()\n    },\n    quantity: function () {\n      this.amount = this.quantity *  this.unitFeeAmount;\n    }\n  },\n  mounted() {\n\n\n    this.getPlots()\n    this.getSubCounties()\n\n    this.$watch('keyword', function(newValue) {\n      this.keyword = newValue;\n      this.getPlots()\n    })\n    this.$watch('dateFrom', function() {\n      if(this.dateFrom==='' || this.dateTo===''){\n\n      }else{\n        this.getPlots()\n      }\n\n    })\n    this.$watch('dateTo', function() {\n      if(this.dateFrom==='' || this.dateTo===''){\n\n      }else{\n        this.getBusinessData()\n      }\n    })\n\n\n    this.subCountyID =  sessionStorage.getItem(\"sessionSubCountyID\")\n    this.wardID =  sessionStorage.getItem(\"sessionWardID\")\n    this.getPlots()\n    this.getIncomeTypes()\n  },\n  computed:{\n    // calculate the start index of the items for the current page\n    startIndex() {\n      return (this.currentPage - 1) * this.pageSize;\n    },\n    // calculate the end index of the items for the current page\n    endIndex() {\n      return this.currentPage * this.pageSize;\n    },\n\n  },\n  methods: {\n\n    //pagination code\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n// return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getBusinessData()\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getBusinessData()\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getBusinessData()\n      }\n    },\n\n    formatDate(date) {\n      let d = new Date(date);\n      let day = d.getDate();\n      let month = d.toLocaleString('en-US', { month: 'short' });\n      let year = d.getFullYear();\n\n      let suffix = '';\n      if (day % 10 === 1 && day !== 11) {\n        suffix = 'st';\n      } else if (day % 10 === 2 && day !== 12) {\n        suffix = 'nd';\n      } else if (day % 10 === 3 && day !== 13) {\n        suffix = 'rd';\n      } else {\n        suffix = 'th';\n      }\n      return `${day}${suffix} ${month} ${year}`;\n    },\n    formattedTime(time) {\n      return moment(time).format('hh:mm A')\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num)\n    },\n    getSubCounties(){\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.subCounties =res.data.data.subCounties\n\n              //preselection\n              this.subCounties.forEach((value, index) => {\n                if (this.selectedUser.subCountyID === value.subCountyID) {\n                  this.subCounty = this.subCounties[index];\n                }\n              });\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getWards(){\n      this.wards =[]\n      this.ward = ''\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.wards =res.data.data.wards\n\n              //preselection\n              this.wards.forEach((value, index) => {\n                if (this.selectedUser.wardID === value.wardID) {\n                  this.ward = this.wards[index];\n                }\n              });\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    selectedIncomeType(event){\n      const value = event.target.value\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId)\n    },\n    getIncomeTypes(){\n      this.message =null\n      this.billingModule.incomeTypes.splice(0)\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", \"PLTRENT\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.billingModule.incomeTypes =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndChargesBilling(incomeTypeId){\n      this.message =null\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\",incomeTypeId);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.feesAndCharges = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectedFeeAndCharge(event){\n      const data = JSON.parse(event.target.value)\n      this.amount = data.unitFeeAmount\n      this.feeID = data.feeId\n      this.unitFeeAmount = data.unitFeeAmount\n      this.feesAndChargeItems = []\n      this.feesAndChargeItems.splice(0)\n      this.feesAndChargeItems.push(data)\n\n    },\n\n    selectPlot(plot){\n      this.plot = plot\n      this.selectedPlots.splice(0)\n      this.totalAmount =0\n      this.feesAndChargeItems.splice(0)\n      this.selectedPlots.push(plot)\n\n    },\n    getPlots() {\n      this.loading = true\n      this.plots.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getPlots\");\n      data.append(\"search\", this.keyword !== undefined ? this.keyword : \"\");\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      data.append(\"dateFrom\", this.dateFrom);\n      data.append(\"dateTo\", this.dateTo);\n      data.append(\"subCountyID\", this.subCountyID !== null && this.subCountyID !== undefined ? this.subCountyID : \"\");\n      data.append(\"wardID\", this.wardID !== null && this.wardID !== undefined ? this.wardID : \"\");\n      execute(data, plotRent)\n          .then((res) => {\n            this.loading = false\n            if (res.data.success) {\n              this.plots = res.data.data.plots\n              this.totalItems = res.data.data.count.count\n              this.totalPages =  Math.ceil(this.totalItems / this.pageSize);\n\n\n              this.totalAnnual = this.plots.reduce((acc, cur) => {\n                let totalAmount = Number(cur.annualCharges);\n                return acc + totalAmount;\n              }, 0);\n\n              this.totalBalance = this.plots.reduce((acc, cur) => {\n                let totalAmount = Number(cur.outstandingArrears);\n                return acc + totalAmount;\n              }, 0);\n\n              this.totalArrears = this.plots.reduce((acc, cur) => {\n                let totalAmount = Number(cur.outstandingArrears);\n                return acc + totalAmount;\n              }, 0);\n\n\n\n            } else {\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message = e.message\n          });\n    },\n    addPlotRent() {\n      this.plot.subCountyName = this.subCounty.subCountyName\n      this.plot.subCountyID = this.subCounty.subCountyID\n      this.plot.wardName = this.ward.wardName\n      this.plot.wardID = this.ward.wardID\n      const data = {\n        ...this.plot,\n        function: \"addPlotRent\"\n      };\n\n      executeJson(data, plotRent)\n          .then((res) => {\n            if (res.data.success) {\n              alert(res.data.message)\n              this.getPlots()\n\n            } else {\n              this.message = res.data.message\n              alert(res.data.message)\n\n            }\n          })\n          .catch((e) => {\n            this.message = e.message\n          });\n    },\n    getRight(type){\n      return getRight(type)\n    },\n    generateFeeAndChargesItem() {\n      // Loop through the selectedVehicles array\n      for (let item of this.selectedPlots) {\n        // Create a new object with the mapped values\n        let newItem = {\n          feeId: this.feeID, // Map feeID to feeId\n          unitFeeAmount: this.amount, // Map amount to unitFeeAmount\n          customer: item.plotNumber, // Map numberPlate to customer\n        };\n        // Push the new object to the feesAndChargeItems array\n        this.feesAndChargeItems.splice(0)\n        this.feesAndChargeItems.push(newItem);\n      }\n      this.addToBill()\n    },\n    addToBill(){\n      for (const { typeDescription,feeId, feeDescription, unitFeeAmount, accountNo, costCenterNo, incomeTypeId,customer} of this.feesAndChargeItems) {\n        this.totalAmount += parseFloat(unitFeeAmount);\n        this.billItem.push({\n          typeDescription,\n          feeDescription,\n          unitFeeAmount: unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: this.plot.plotNumber,\n          feeId,\n          amount:  unitFeeAmount,\n          customer: customer,\n          zone: sessionStorage.getItem(\"zone\"),\n          subCountyID: this.plot.subCountyID,\n          subCountyName:this.plot.subCountyName,\n          wardID: this.plot.wardID,\n          wardName: this.plot.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.plot.phoneNumber,\n          description:  this.plot.plotNumber,\n        });\n      }\n    },\n    generateBill(){\n      this.generateFeeAndChargesItem()\n\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data,biller)\n          .then((res) =>{\n            this.message =res.data.message\n            if (res.data.success) {\n              this.billDetails = res.data.data.bill.billDetails\n              this.billInfo = res.data.data.bill.billInfo\n              this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n\n              this.paymentData.sessionNames =sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo =sessionStorage.getItem(\"sessionIdNo\")\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n\n\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      })\n      const routeData = this.$router.resolve({name: 'bill'});\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        })\n        const routeData = this.$router.resolve({name: 'receipt'});\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod(){\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false\n    },\n    showTransactionSummary(paymentMode){\n\n      this.paymentData.paymentMode = paymentMode\n\n      if(paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false\n    },\n    makePayment() {\n      if(this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber\n\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.paymentMethod = false;\n              this.paymentPanel = false;\n              //start checking payment\n              this.timer = setInterval(() => {\n\n                this.checkPayment();\n              }, 3000);\n            } else {\n              this.rate = null;\n              alert(res.data.message);\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1\n      if(this.randomNumber === 1){\n        this.message = \"Waiting for payment.\";\n      }\n      if(this.randomNumber === 2){\n        this.message = \"Waiting for payment..\";\n      }\n      if(this.randomNumber ===3){\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.message = null;\n              clearInterval(this.timer);\n              this.receipt = true;\n              this.paymentData.success = false;\n              this.transaction = res.data.data.transaction;\n              this.receiptDetails = res.data.data.receipt.receiptDetails\n              //Close the modal\n              this.transactionSummary = false\n              this.transactionCompleted = true\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    formatPrice(value) {\n      var formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'KES',\n        minimumFractionDigits: 2\n      });\n      return formatter.format(value);\n    },\n    gotTo(route){\n      router.push(route)\n    },\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}