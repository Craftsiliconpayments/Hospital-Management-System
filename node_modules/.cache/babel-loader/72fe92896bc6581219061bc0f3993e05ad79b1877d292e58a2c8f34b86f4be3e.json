{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport { authUrl, biller, execute, getRight, patient } from \"@/api\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport router from \"@/router\";\nexport default {\n  name: 'OutPatientCheckin',\n  components: {\n    NavigationBar\n  },\n  data() {\n    return {\n      patientRecord: false,\n      message: null,\n      keyword: '',\n      loading: false,\n      selectedPatient: null,\n      // To store the selected patient\n      patientDetails: {\n        patient: {\n          patientID: null,\n          title: null,\n          names: null,\n          gender: null,\n          idNo: null,\n          phoneNumber: null,\n          email: null,\n          physicalAddress: null,\n          dateOfBirth: null,\n          maritalStatus: null,\n          levelOfEducation: null,\n          occupation: null,\n          religion: null,\n          languages: null,\n          countyID: null,\n          countyName: null,\n          bloodGroup: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID: null,\n          wardName: null,\n          town: null\n        },\n        guarantor: {\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          email: null,\n          physicalAddress: null,\n          town: null,\n          relationship: null\n        },\n        kins: [{\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          address: null,\n          relationShip: null\n        }],\n        nhif: {\n          visitCode: null,\n          number: null,\n          policyholder: null\n        },\n        insurance: {\n          visitCode: null,\n          provider: null,\n          policyNumber: null,\n          authorizationCode: null,\n          policyholder: null\n        },\n        employer: {\n          visitCode: null,\n          companyName: null,\n          companyID: null,\n          authorizationCode: null\n        }\n      },\n      visitEntries: {\n        visitCode: null,\n        idNo: null,\n        names: null,\n        phoneNumber: null,\n        email: null,\n        reasonForVisit: null,\n        description: null,\n        departmentVisiting: null,\n        doctorNurse: null,\n        triage: null,\n        meansOfArrival: null,\n        payment: null\n      },\n      patients: [{\n        id: null,\n        patientID: null,\n        title: null,\n        names: null,\n        phoneNumber: null,\n        physicalAddress: null,\n        gender: null,\n        idNo: null,\n        dateOfBirth: null,\n        maritalStatus: null,\n        levelOfEducation: null,\n        occupation: null,\n        religion: null,\n        languages: null,\n        countyID: null,\n        countyName: null,\n        bloodGroup: null\n      }],\n      subCounties: [{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards: [{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty: {\n        subCountyID: \"\",\n        subCountyName: \"\"\n      },\n      ward: {\n        wardID: \"\",\n        wardName: \"\"\n      },\n      invoiceItem: [{\n        quantity: 1,\n        incomeType: null,\n        feesAndCharge: {\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc: null,\n          costCenterNo: null,\n          zone: null,\n          typeDescription: null\n        },\n        feesAndCharges: [{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc: null,\n          costCenterNo: null,\n          zone: null,\n          typeDescription: null\n        }]\n      }],\n      incomeTypes: [{\n        incomeTypeId: null,\n        incomeTypeDescription: null,\n        incomeTypePrefix: null,\n        fundDescription: null,\n        status: null\n      }],\n      billItem: [],\n      feesAndChargeItems: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: 1\n      }],\n      feesAndCharges: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      amount: 0,\n      feeID: null,\n      unitFeeAmount: 0\n    };\n  },\n  methods: {\n    getRight(type) {\n      return getRight(type);\n    },\n    gotTo(route) {\n      sessionStorage.setItem(\"selectedSub\", route);\n      sessionStorage.setItem(\"currentPage\", route);\n      this.$router.push(route);\n    },\n    addKin() {\n      this.patientDetails.kins.push({});\n    },\n    removeKin(position) {\n      this.patientDetails.kins.splice(position, 1);\n    },\n    addPatient() {\n      this.message = null;\n      this.patientDetails.patient.subCountyID = this.subCounty.subCountyID;\n      this.patientDetails.patient.subCountyName = this.subCounty.subCountyName;\n      this.patientDetails.patient.wardName = this.ward.wardName;\n      this.patientDetails.patient.wardID = this.ward.wardID;\n      this.loading = true;\n      const data = new FormData();\n      data.append(\"function\", \"addPatient\");\n      data.append(\"patientDetails\", JSON.stringify(this.patientDetails));\n      execute(data, patient).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.visitEntries.idNo = this.patientDetails.patient.idNo;\n          this.visitEntries.names = this.patientDetails.patient.firstName + '' + this.patientDetails.patient.lastName;\n          this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber;\n          this.visitEntries.idNo = this.patientDetails.patient.idNo;\n          this.generateVisitEntries();\n        } else {}\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    generateVisitEntries() {\n      this.message = null;\n      this.loading = true;\n      this.visitEntries.idNo = this.patientDetails.patient.idNo;\n      this.visitEntries.names = this.patientDetails.patient.names;\n      this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"generateVisitEntries\");\n      data.append(\"visitEntries\", JSON.stringify(this.visitEntries));\n      data.append(\"guarantor\", JSON.stringify(this.patientDetails.guarantor));\n      data.append(\"nhif\", JSON.stringify(this.patientDetails.nhif));\n      data.append(\"insurance\", JSON.stringify(this.patientDetails.insurance));\n      data.append(\"employer\", JSON.stringify(this.patientDetails.employer));\n      execute(data, patient).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.visitEntries = res.data.data.visitEntries;\n        } else {}\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    getPatient() {\n      this.message = null;\n      this.loading = true;\n      this.patients.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getPatient\");\n      data.append(\"keyword\", this.keyword);\n      execute(data, patient).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.patients = res.data.data.patients;\n          $('.modal').modal('hide');\n          $('#searchResultList').modal('show');\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    getSubCounties() {\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.subCounties = res.data.data.subCounties;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getWards() {\n      this.wards.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.wards = res.data.data.wards;\n          this.ward.wardName = this.patientDetails.patient.wardName;\n          this.ward.wardID = this.patientDetails.patient.wardID;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getPatientDetails() {\n      this.patientRecord = false;\n      const data = new FormData();\n      data.append(\"function\", \"getPatientDetails\");\n      data.append(\"keyword\", this.selectedPatient.patientID);\n      execute(data, patient).then(res => {\n        if (res.data.success) {\n          this.patientRecord = true;\n          this.patientDetails.patient = res.data.data.patient;\n          this.patientDetails.patient.languages = JSON.parse(this.patientDetails.patient.languages);\n          this.subCounty.subCountyID = this.patientDetails.patient.subCountyID;\n          this.subCounty.subCountyName = this.patientDetails.patient.subCountyName;\n          if (res.data.data.kins !== null) {\n            this.patientDetails.kins = res.data.data.kins;\n          }\n          if (res.data.data.visitEntries !== null) {\n            this.visitEntries = res.data.data.visitEntries;\n          }\n          if (res.data.data.guarantor !== null) {\n            this.patientDetails.guarantor = res.data.data.guarantor;\n          }\n          if (res.data.data.nhif !== null) {\n            this.patientDetails.nhif = res.data.data.nhif;\n          }\n          if (res.data.data.insurance !== null) {\n            this.patientDetails.insurance = res.data.data.insurance;\n          }\n          if (res.data.data.employer !== null) {\n            this.patientDetails.employer = res.data.data.employer;\n          }\n          this.getWards();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addInvoiceItem() {\n      // Add a new invoice item with its own feesAndCharges\n      this.invoiceItem.push({\n        incomeType: null,\n        feesAndCharge: null,\n        feeAmount: 0,\n        quantity: 1,\n        totalAmount: 0,\n        feesAndCharges: [] // Initialize an empty array for feesAndCharges specific to this row\n      });\n    },\n\n    removeInvoiceItem(position) {\n      this.invoiceItem.splice(position, 1);\n    },\n    selectedIncomeType(event, index) {\n      const selectedIncomeTypeId = event.target.value;\n      const selectedIncomeType = this.incomeTypes.find(income => income.incomeTypeId === selectedIncomeTypeId);\n\n      // Set the incomeType for the current invoiceItem\n      this.invoiceItem[index].incomeType = selectedIncomeType;\n\n      // Fetch and set feesAndCharges specific to this incomeType for this row\n      this.getFeesAndCharges(selectedIncomeType.incomeTypeId, index);\n    },\n    selectedFeeAndCharge(event, index) {\n      const selectedFeeId = event.target.value;\n      const selectedFee = this.invoiceItem[index].feesAndCharges.find(fee => fee.feeId === selectedFeeId);\n\n      // Set the feesAndCharge for the current invoiceItem\n      this.invoiceItem[index].feesAndCharge = selectedFee;\n\n      // Set the fee amount and calculate the total\n      this.invoiceItem[index].feeAmount = selectedFee.unitFeeAmount;\n      this.invoiceItem[index].totalAmount = selectedFee.unitFeeAmount * this.invoiceItem[index].quantity;\n    },\n    getIncomeTypes() {\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.incomeTypes = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndCharges(incomeTypeId, index) {\n      // Fetch fees and charges based on the selected incomeTypeId\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          // Assign the fetched feesAndCharges to the specific invoice item\n          this.invoiceItem[index].feesAndCharges = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    updateTotalAmount(index) {\n      const item = this.invoiceItem[index];\n      // Recalculate totalAmount based on the feeAmount and quantity\n      item.totalAmount = item.feeAmount * item.quantity;\n    },\n    addToBill(revenueStreamItem) {\n      for (const item of this.invoiceItem) {\n        const {\n          feesAndCharge,\n          quantity,\n          customer,\n          incomeTypeId\n        } = item;\n        this.billItem.push({\n          fiscalYear: this.fiscalYear,\n          typeDescription: feesAndCharge.typeDescription,\n          feeDescription: feesAndCharge.feeDescription,\n          quantity: quantity,\n          unitFeeAmount: feesAndCharge.unitFeeAmount,\n          accountNo: feesAndCharge.accountNo,\n          costCenterNo: feesAndCharge.costCenterNo,\n          incomeTypeId: incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId: feesAndCharge.feeId,\n          amount: feesAndCharge.unitFeeAmount * quantity,\n          customer: customer,\n          zone: this.zone,\n          subCountyID: this.subCounty.subCountyID,\n          subCountyName: this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.description\n        });\n      }\n      this.totalAmount = this.billItem.reduce((total, item) => total + Number(item.unitFeeAmount) * Number(item.quantity), 0);\n    },\n    generateBill() {\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data, biller).then(res => {\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    }\n  },\n  mounted() {\n    this.getSubCounties();\n    this.getIncomeTypes();\n  }\n};","map":{"version":3,"names":["authUrl","biller","execute","getRight","patient","NavigationBar","router","name","components","data","patientRecord","message","keyword","loading","selectedPatient","patientDetails","patientID","title","names","gender","idNo","phoneNumber","email","physicalAddress","dateOfBirth","maritalStatus","levelOfEducation","occupation","religion","languages","countyID","countyName","bloodGroup","subCountyID","subCountyName","wardID","wardName","town","guarantor","patientIDNo","relationship","kins","address","relationShip","nhif","visitCode","number","policyholder","insurance","provider","policyNumber","authorizationCode","employer","companyName","companyID","visitEntries","reasonForVisit","description","departmentVisiting","doctorNurse","triage","meansOfArrival","payment","patients","id","subCounties","wards","subCounty","ward","invoiceItem","quantity","incomeType","feesAndCharge","feeId","feeDescription","unitOfMeasure","unitFeeAmount","accountNo","incomeTypeId","feeType","accountDesc","costCenterNo","zone","typeDescription","feesAndCharges","incomeTypes","incomeTypeDescription","incomeTypePrefix","fundDescription","status","billItem","feesAndChargeItems","customer","amount","feeID","methods","type","gotTo","route","sessionStorage","setItem","$router","push","addKin","removeKin","position","splice","addPatient","FormData","append","JSON","stringify","then","res","success","firstName","lastName","generateVisitEntries","catch","e","getPatient","$","modal","getSubCounties","getWards","getPatientDetails","parse","addInvoiceItem","feeAmount","totalAmount","removeInvoiceItem","selectedIncomeType","event","index","selectedIncomeTypeId","target","value","find","income","getFeesAndCharges","selectedFeeAndCharge","selectedFeeId","selectedFee","fee","getIncomeTypes","updateTotalAmount","item","addToBill","revenueStreamItem","fiscalYear","getItem","customerPhoneNumber","reduce","total","Number","generateBill","paymentMethod","paymentPanel","transactionSummary","transactionCompleted","billDetails","bill","billInfo","paymentData","billBalance","accNo","billNo","payBillNo","billGenerated","sessionPhoneNumber","sessionNames","sessionIdNo","mounted"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/HMIS/hospital-management/src/components/patient-checking/OutpatientCheckin.vue"],"sourcesContent":["<template>\n  <head>\n\n    <meta charset=\"utf-8\" />\n    <title>HOSPITAL MANAGEMENT INFORMATION SYSTEM</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Rental management system by Nouveta LTD\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n\n    <link href=\"assets/libs/select2/css/select2.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <link href=\"assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/spectrum-colorpicker2/spectrum.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/bootstrap-timepicker/css/bootstrap-timepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link rel=\"stylesheet\" href=\"assets/libs/%40chenfengyuan/datepicker/datepicker.min.css\">\n\n\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- App Css-->\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n\n  </head>\n\n  <body data-sidebar=\"dark\">\n\n\n  <div id=\"layout-wrapper\">\n\n\n    <!-- ========== Left Sidebar Start ========== -->\n   <NavigationBar/>\n\n    <!-- ========== Left Sidebar Start ========== -->\n\n    <!-- Offender email address -->\n    <div class=\"modal fade \" id=\"subscribeModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n      <div class=\"modal-dialog modal-dialog-centered \">\n        <div class=\"modal-content \">\n          <div class=\"modal-header border-bottom-0 \">\n            <button type=\"button \" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body p-5\">\n            <div class=\"text-center mb-4 \">\n              <div class=\"avatar-md mx-auto mb-4 \">\n                <div class=\"avatar-title bg-light rounded-circle text-dark h1 \">\n                  <i class=\"mdi mdi mdi-account-search-outline \"></i>\n                </div>\n              </div>\n\n              <div class=\"row justify-content-center \">\n                <div class=\"col-xl-10 \">\n                  <h4 class=\"text-dark text-uppercase \">Patient's Identifier</h4>\n                  <p class=\"text-muted font-size-14 mb-4 \">\n                    Select how you would like to search for the patient.\n                  </p>\n\n\n\n                  <form>\n\n                    <div>\n\n                    </div>\n                    <div class=\"row \">\n\n                      <div class=\"col-4\">\n                        <div class=\"form-check mb-3\">\n                          <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios1\" checked=\"\">\n                          <label class=\"form-check-label\" for=\"formRadios1\">\n                            MPI NO.\n                          </label>\n                        </div>\n                      </div>\n\n                      <div class=\"col-4\">\n                        <div class=\"form-check mb-3\">\n                          <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios2\">\n                          <label class=\"form-check-label\" for=\"formRadios2\">\n                            ID/PPT NO.\n                          </label>\n                        </div>\n                      </div>\n\n                      <div class=\"col-4\">\n                        <div class=\"form-check mb-3\">\n                          <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios3\">\n                          <label class=\"form-check-label\" for=\"formRadios3\">\n                            Phone No.\n                          </label>\n                        </div>\n                      </div>\n                      <div class=\"col-12 \">\n                        <div class=\"mb-3 \">\n                          <label for=\"digit1-input \" class=\"visually-hidden \">ID Number</label>\n                          <input v-model=\"keyword\" type=\"text \" class=\"form-control form-control-lg text-center two-step text-uppercase\" placeholder=\"Enter to Search\">\n                        </div>\n                      </div>\n                    </div>\n\n                    <div v-if=\"message !==null\" class=\"alert alert-danger\" role=\"alert\">\n                      {{message}}\n                    </div>\n\n\n                    <div class=\"col-12 mt-3\">\n                      <button data-bs-dismiss=\"modal\" @click=\"getPatient()\" type=\"button\" class=\"btn btn-primary w-100 patient-search text-uppercase\">\n                        <div v-if=\"loading\" class=\"spinner-border text-white m-0\" height=\"20px\" width=\"20px\" role=\"status\">\n                          <span class=\"sr-only\">Loading...</span>\n                        </div>\n\n                        <div><i class=\"bx bx-search\"></i> Search</div>\n                      </button>\n                    </div>\n\n                  </form>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Offender's email address -->\n\n\n\n    <!-- patient search results from MPI -->\n    <div class=\"modal fade\" id=\"searchResultList\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Search results based on your search input</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"bg-warning border-2 bg-soft p-3 mb-4 d-flex align-items-center\">\n              <i class=\"mdi mdi-text-box-search-outline  font-28 mr-15px\"></i>\n              <p class=\"fw-semibold mb-0 pb-0 text-uppercase\">Search results for Phone Number: <span class=\"text-underline text-uppercase text-primary\">980980</span></p>\n            </div>\n            <table class=\"table table-striped table-s font-12 sources-table\">\n              <thead>\n              <tr class=\"font-weight-bold table-dark\">\n                <th scope=\"col\" colspan=\"8\">\n                  <i class=\"mdi mdi-account-group fs-5 text\"> </i> Patient Search Results\n                </th>\n              </tr>\n              <tr class=\"table-primary\">\n                <th>Select</th>\n                <th>Patient ID</th>\n                <th>Full Names</th>\n                <th>ID No.</th>\n                <th>Phone No.</th>\n                <th>Physical Address</th>\n                <th>Last Seen Date</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr v-for=\"(item) in patients\" :key=\"item.id\">\n                <td>\n                  <!-- Bind the radio input to the selectedPatient property -->\n                  <input\n                      type=\"radio\"\n                      name=\"patient-selection\"\n                      :value=\"item\"\n                      v-model=\"selectedPatient\"\n                  />\n                </td>\n                <td>{{ item.patientID }}</td>\n                <td>{{ item.names }}</td>\n                <td>{{ item.idNo }}</td>\n                <td>{{ item.phoneNumber }}</td>\n                <td>{{ item.physicalAddress }}</td>\n                <td>{{ item.lastSeen }}</td>\n              </tr>\n              </tbody>\n            </table>\n\n          </div>\n          <div class=\"modal-footer\">\n            <button data-bs-dismiss=\"modal\"  @click=\"getPatientDetails()\" type=\"button\" class=\"btn btn-primary w-100 text-uppercase\">Select patient</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end of search results -->\n\n\n\n    <!-- creating a visit slip -->\n    <div class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" data-backdrop=\"static\" data-keyboard=\"false\" id=\"generateVisit\">\n      <div class=\"modal-dialog modal-dialog-centered \" role=\"document\">\n        <div class=\"modal-content\">\n\n          <div class=\"modal-body\">\n            <div class=\"row transfer-successful\">\n              <div class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success d-non payment-panel\">\n\n\n                <div class=\"flex-shrink-0 align-self-center  mb-4 pb-4 pt-4\">\n                  <h8 class=\"mb-3 fw-semibold display-6 mb-0\">{{visitEntries.visitCode}}</h8>\n                </div>\n\n\n                <h4 class=\"text-black fw-bold text-uppercase\">Outpatient Visit Request Confirmation</h4>\n                <p class=\"text-muted mb-4\">\n                  The outpatient visit request for <strong class=\"fw-bold\">{{visitEntries.names}}</strong> has been received and successfully created. The next step is for you to proceed with invoicing the patient.\n                </p>\n                <p class=\"text-muted mb-4\">Click below to print the Invoice</p>\n\n                <div class=\"d-flex w-100 pb-4\">\n\n                  <!-- data-bs-dismiss=\"modal\" -->\n                  <a href=\"javascript: void(0);\"  class=\"btn btn-primary btn-block  me-3 flex-grow-1 text-uppercase view-inv-btn\">\n                    <i class=\"bx bx-printer font-size-16 align-middle me-2 \"></i>\n                    View Invoice\n                  </a>\n                </div>\n              </div>\n            </div>\n\n\n          </div>\n\n        </div>\n      </div>\n    </div>\n    <!-- end of visit slip generation -->\n\n\n\n    <div class=\"content-minimize\">\n\n      <div class=\"page-content\">\n\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18 text-uppercase\">Outpatient Checkin</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"index.html\">Home</a></li>\n                    <li class=\"breadcrumb-item active\">Outpatient Checkin</li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n\n          <div class=\"row\">\n\n            <div class=\"col-12\">\n              <div class=\"card\">\n                <div class=\"card-header bg-white border-bottom py-3\">\n                  <div class=\"btn-toolbar d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n                    <h4 class=\"card-title text-uppercase mb-0 \">\n                      Registration Number: {{patientDetails.patient.patientID}}\n                    </h4>\n                    <div class=\"d-flex\">\n                      <button title=\"The form will be cleared for new patient registration and check-in.\" type=\"button\" class=\"btn btn-success mx-3 text-uppercase waves-effect btn-label waves-light\"><i class=\"mdi mdi-account-plus label-icon\"></i> New Patient Registration</button>\n\n                      <button data-toggle=\"modal\" data-target=\"#subscribeModal\" title=\"Search for another patient\"  type=\"button\" class=\"btn btn-primary text-uppercase waves-effect btn-label waves-light\"><i class=\"mdi mdi-account-search-outline label-icon\"></i> Patient Search</button>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div class=\"card-body\">\n                  <div class=\"row mb-4\">\n                    <div class=\"col-12\">\n                      <div class=\"alert alert-primary alert-dismissible fade show \" role=\"alert\">\n                        <i class=\"mdi mdi-bullseye-arrow me-2\"></i>\n                        <p>\n                          Use the form below to check in the patient. You can update any relevant information before proceeding. <strong>Remember to scroll to the bottom of the page</strong> to initiate the outpatient visit. If you need to change the patient, use the toolbar at the top of this section to search or <strong>register a new patient</strong> before continuing.\n                        </p>\n\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n                      </div>\n\n                    </div>\n                  </div>\n\n                  <div v-if=\"message !==null\" class=\"alert alert-danger\" role=\"alert\">\n                    {{message}}\n                  </div>\n\n                  <!-- basic information about the patient -->\n                  <div class=\"row mb-5\">\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"bg-warning border-2 bg-soft p-3 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-user  font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0 text-uppercase\">Basic Information</p>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-2 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"basicpill-firstname-input\">Title <strong class=\"text-danger\">*</strong></label>\n                        <select v-model=\"patientDetails.patient.title\" class=\"form-control  bg-white select-revenue\" title=\"Select Title\" data-live-search=\"true\">\n                          <option value=\"\" disabled>-- Select Title --</option>\n                          <option value=\"mr\">Mr.</option>\n                          <option value=\"mrs\">Mrs.</option>\n                          <option value=\"miss\">Miss</option>\n                          <option value=\"ms\">Ms.</option>\n                          <option value=\"dr\">Dr.</option>\n                          <option value=\"prof\">Prof.</option>\n                          <option value=\"eng\">Eng.</option>\n                          <option value=\"hon\">Hon.</option>\n                          <option value=\"rev\">Rev.</option>\n                          <option value=\"sir\">Sir</option>\n                          <option value=\"lady\">Lady</option>\n                          <option value=\"capt\">Capt.</option>\n                          <option value=\"sgt\">Sgt.</option>\n                          <option value=\"col\">Col.</option>\n                          <option value=\"gen\">Gen.</option>\n                          <option value=\"arch\">Arch.</option>\n                          <option value=\"judge\">Judge</option>\n                          <option value=\"chief\">Chief</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-4 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"basicpill-firstname-input\">Full names <strong class=\"text-danger\">*</strong></label>\n                        <input v-model=\"patientDetails.patient.names\" type=\"text\" class=\"form-control\" id=\"basicpill-firstname-input\" placeholder=\"Enter Full Names\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n\n\n                    <div class=\"col-lg-2 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"basicpill-firstname-input\">Gender <strong class=\"text-danger\">*</strong></label>\n                        <select v-model=\"patientDetails.patient.gender\" class=\"form-control  bg-white select-revenue\" title=\"Select Title\" data-live-search=\"true\">\n                          <option value=\"\" disabled>-- Select Gender --</option>\n                          <option value=\"male\">Male</option>\n                          <option value=\"female\">Female</option>\n\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-4 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">ID/PPT Number</label>\n                        <input v-model=\"patientDetails.patient.idNo\" type=\"text\" title=\"Enter Number\" class=\"form-control\" id=\"\" placeholder=\"Enter Number\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n\n\n                    <div class=\"col-md-6 col-lg-3 col-sm-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\" class=\"\">Date of Birth<strong class=\"text-danger\">*</strong></label>\n                        <div class=\"input-group\" id=\"datepicker1\">\n                          <input v-model=\"patientDetails.patient.dateOfBirth\" type=\"date\" class=\"form-control mouse-pointer\" placeholder=\"Select Date\"  data-date-format=\"dd M, yyyy\" data-date-container=\"#datepicker1\" data-provide=\"datepicker\" data-date-autoclose=\"true\">\n\n                          <span class=\"input-group-text\"><i class=\"mdi mdi-calendar\"></i></span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"col-md-6 col-lg-3 col-sm-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\" class=\"\">Marital Status<strong class=\"text-danger\">*</strong></label>\n                        <select v-model=\"patientDetails.patient.maritalStatus\" class=\"form-control bg-white select-revenue\" title=\"Select Marital Status\" data-live-search=\"true\">\n                          <option value=\"Single\">Single</option>\n                          <option value=\"Married\">Married</option>\n                          <option value=\"Widowed\">Widowed</option>\n                          <option value=\"Separated\">Separated</option>\n                          <option value=\"Divorced\">Divorced</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Level of Education <strong class=\"text-danger\">*</strong></label>\n                        <select v-model=\"patientDetails.patient.levelOfEducation\" class=\"form-control  bg-white select-revenue\" title=\"Select Level of Education\" data-live-search=\"true\">\n                          <option value=\"ece\">Early Childhood Education (ECE)</option>\n                          <option value=\"primary\">Primary School (Standard 1-8)</option>\n                          <option value=\"kcpe\">Kenya Certificate of Primary Education (KCPE)</option>\n                          <option value=\"lower_secondary\">Lower Secondary (Grade 7-9)</option>\n                          <option value=\"junior_secondary\">Junior Secondary School (Grade 7-9)</option>\n                          <option value=\"upper_secondary\">Upper Secondary (Grade 10-12)</option>\n                          <option value=\"kcse\">Kenya Certificate of Secondary Education (KCSE)</option>\n                          <option value=\"igcse\">International General Certificate of Secondary Education (IGCSE)</option>\n                          <option value=\"alevels\">A-Levels</option>\n                          <option value=\"ib\">International Baccalaureate (IB)</option>\n                          <option value=\"diploma\">Diploma</option>\n                          <option value=\"certificate\">Certificate</option>\n                          <option value=\"undergraduate\">Undergraduate Degree</option>\n                          <option value=\"bachelors\">Bachelor’s Degree</option>\n                          <option value=\"postgraduate_diploma\">Postgraduate Diploma</option>\n                          <option value=\"masters\">Master’s Degree</option>\n                          <option value=\"doctoral\">Doctoral Degree (PhD)</option>\n                          <option value=\"other_international\">Other International Qualifications</option>\n                          <option value=\"vocational_training\">Vocational Training</option>\n                          <option value=\"technical_institute\">Technical Institute</option>\n                          <option value=\"professional_qualification\">Professional Qualification</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Occupation <strong class=\"text-danger\">*</strong></label>\n                        <input v-model=\"patientDetails.patient.occupation\" type=\"text\" title=\"Enter Occupation\" class=\"form-control\" id=\"\" placeholder=\"eg Farmer\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Religion <strong class=\"text-danger\">*</strong></label>\n                        <select v-model=\"patientDetails.patient.religion\" class=\"form-control  bg-white select-revenue\" title=\"Select Religion\" data-live-search=\"true\">\n                          <option value=\"christianity\">Christianity</option>\n                          <option value=\"islam\">Islam</option>\n                          <option value=\"hinduism\">Hinduism</option>\n                          <option value=\"buddhism\">Buddhism</option>\n                          <option value=\"judaism\">Judaism</option>\n                          <option value=\"sikhism\">Sikhism</option>\n                          <option value=\"traditional_african_religions\">Traditional African Religions</option>\n                          <option value=\"bahai\">Bahá'í</option>\n                          <option value=\"jainism\">Jainism</option>\n                          <option value=\"zoroastrianism\">Zoroastrianism</option>\n                          <option value=\"taoism\">Taoism</option>\n                          <option value=\"shinto\">Shinto</option>\n                          <option value=\"confucianism\">Confucianism</option>\n                          <option value=\"spiritual_but_not_religious\">Spiritual but not religious</option>\n                          <option value=\"atheism\">Atheism</option>\n                          <option value=\"agnosticism\">Agnosticism</option>\n                          <option value=\"other\">Other</option>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"\">\n                        <label for=\"digit1-input\" class=\"\">Language(s)</label>\n                        <select v-model=\"patientDetails.patient.languages\" class=\"form-control  bg-white select-revenue\" title=\"Select Language(s)\" data-live-search=\"true\" multiple>\n                          <!-- Kenyan Languages -->\n                          <option value=\"English\">English</option>\n                          <option value=\"swahili\">Swahili</option>\n                          <option value=\"kikuyu\">Kikuyu</option>\n                          <option value=\"luo\">Luo</option>\n                          <option value=\"kalenjin\">Kalenjin</option>\n                          <option value=\"luhya\">Luhya</option>\n                          <option value=\"meru\">Meru</option>\n                          <option value=\"kisii\">Kisii</option>\n                          <option value=\"kamba\">Kamba</option>\n                          <option value=\"masai\">Maasai</option>\n                          <option value=\"taita\">Taita</option>\n                          <option value=\"embu\">Embu</option>\n                          <option value=\"tharaka\">Tharaka</option>\n                          <option value=\"mijikenda\">Mijikenda</option>\n                          <option value=\"samburu\">Samburu</option>\n                          <option value=\"rendille\">Rendille</option>\n                          <option value=\"turkana\">Turkana</option>\n                          <option value=\"gabra\">Gabra</option>\n                          <option value=\"borana\">Borana</option>\n                          <option value=\"arabs\">Arabs</option>\n                          <option value=\"swati\">Swati</option>\n                          <option value=\"elgeyo\">Elgeyo</option>\n                          <option value=\"bajuni\">Bajuni</option>\n                          <option value=\"konso\">Konso</option>\n                          <option value=\"burji\">Burji</option>\n                          <option value=\"kuyia\">Kuyia</option>\n                          <option value=\"daasanach\">Daasanach</option>\n\n                          <!-- Other African Languages -->\n                          <option value=\"amharic\">Amharic</option>\n                          <option value=\"zulu\">Zulu</option>\n                          <option value=\"xhosa\">Xhosa</option>\n                          <option value=\"sesotho\">Sesotho</option>\n                          <option value=\"setswana\">Setswana</option>\n                          <option value=\"afrikaans\">Afrikaans</option>\n                          <option value=\"yoruba\">Yoruba</option>\n                          <option value=\"igbo\">Igbo</option>\n                          <option value=\"somali\">Somali</option>\n                          <option value=\"hausa\">Hausa</option>\n                          <option value=\"swati\">Swati</option>\n\n                          <!-- Global Languages -->\n                          <option value=\"english\">English</option>\n                          <option value=\"french\">French</option>\n                          <option value=\"spanish\">Spanish</option>\n                          <option value=\"chinese\">Chinese (Mandarin)</option>\n                          <option value=\"arabic\">Arabic</option>\n                          <option value=\"german\">German</option>\n                          <option value=\"italian\">Italian</option>\n                          <option value=\"portuguese\">Portuguese</option>\n                          <option value=\"russian\">Russian</option>\n                          <option value=\"japanese\">Japanese</option>\n                          <option value=\"korean\">Korean</option>\n                          <option value=\"vietnamese\">Vietnamese</option>\n                          <option value=\"turkish\">Turkish</option>\n                          <option value=\"dutch\">Dutch</option>\n                          <option value=\"swedish\">Swedish</option>\n                          <option value=\"norwegian\">Norwegian</option>\n                          <option value=\"finnish\">Finnish</option>\n                          <option value=\"polish\">Polish</option>\n                        </select>\n                      </div>\n\n\n\n                    </div>\n\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"\">\n                        <label for=\"digit1-input \" class=\"\">Patient's Blood group</label>\n                        <select v-model=\"patientDetails.patient.bloodGroup\" class=\"form-control  bg-white select-revenue\" title=\"Select Blood Group\" data-live-search=\"true\">\n                          <option value=\"A+\">A+</option><option value=\"A-\">A-</option>\n                          <option value=\"B+\">B+</option><option value=\"B-\">B-</option>\n                          <option value=\"O+\">O+</option><option value=\"O-\">O-</option>\n                          <option value=\"AB+\">AB+</option><option value=\"AB-\">AB-</option>\n                        </select>\n                      </div>\n                    </div>\n\n                  </div>\n                  <!-- end of patients basic information -->\n\n\n                  <!-- Location & Contact Information -->\n                  <div class=\"row mb-5\">\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"bg-warning border-2 bg-soft p-3 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-map  font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0 text-uppercase\">Location & Contact Information</p>\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Phone NO.<strong class=\"text-danger\">*</strong></label>\n                        <input v-model=\"patientDetails.patient.phoneNumber\" type=\"text\" title=\"Enter Phone Number\" class=\"form-control\" id=\"\" placeholder=\"ie 0712345678\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Email Address<strong class=\"text-danger\"></strong></label>\n                        <input  v-model=\"patientDetails.patient.email\"  type=\"text\" title=\"enter the Patients email addres\" class=\"form-control\" id=\"\" placeholder=\"eg email@email.com\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-2\">\n                        <label for=\"digit1-input\" class=\"\">Sub County</label>\n                        <select class=\"form-select\" v-model=\"subCounty\" @change=\"getWards(subCounty.subCountyID)\">\n\n                          <option  selected=\"\" value=\"\">All Sub Counties</option>\n                          <option :key=\"index\" :value=\"item\" v-for=\"(item, index) in subCounties\">\n                            {{ item.subCountyName }}\n                          </option>\n\n                        </select>\n\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-2\">\n                        <label for=\"digit1-input\" class=\"\">Ward</label>\n\n                        <select class=\"form-select\" v-model=\"ward\">\n                          <option  selected=\"\" value=\"\">All Wards</option>\n                          <option :key=\"index\" :value=\"item\"\n                                  v-for=\"(item, index) in wards\">\n                            {{ item.wardName }}\n                          </option>\n\n                        </select>\n\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Physical Address<strong class=\"text-danger\">*</strong></label>\n                        <input v-model=\"patientDetails.patient.physicalAddress\" type=\"text\" title=\"Enter the physical address\" class=\"form-control\" id=\"\" placeholder=\"Enter the address\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-3 col-md-6\">\n                      <div class=\"mb-4\">\n                        <label for=\"\">Town/Village/Estate<strong class=\"text-danger\">*</strong></label>\n                        <input v-model=\"patientDetails.patient.town\" type=\"text\" title=\"Enter Occupation\" class=\"form-control\" id=\"\" placeholder=\"eg Farmer\" spellcheck=\"false\" data-ms-editor=\"true\">\n                      </div>\n                    </div>\n                  </div>\n                  <!-- end Location & Contact Information -->\n\n                  <!-- next of kin and dependants -->\n                  <div class=\"row mb-5\">\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"bg-warning border-2 bg-soft p-3 mb-4 d-flex align-items-center\">\n                        <i class=\"mdi mdi-account-group  font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0 text-uppercase\">Next of Kin & Dependants</p>\n                      </div>\n                    </div>\n\n\n                    <div class=\"col-12\">\n                      <div class=\"\">\n                        <table class=\"table table-editable-1 align-middle table-edits\">\n                          <thead class=\"table-light\">\n                          <tr class=\"text-uppercase table-dark\">\n                            <th>#</th>\n                            <th class=\"\">ID/PPT NO.</th>\n                            <th>Full Names</th>\n                            <th class=\"\">Phone</th>\n                            <th>Residential address</th>\n                            <th>Relationship</th>\n                            <th></th>\n                          </tr>\n                          </thead>\n                          <tbody>\n\n                          <tr v-for=\"(item,index) in patientDetails.kins\" :key=\"index\" >\n                            <td style=\"width: 80px \" class=\"categoryIndex \">{{index+1}}</td>\n\n                            <td>\n                              <input v-model=\"item.idNo\" type=\"text \" class=\"form-control\" title=\"enter Number\" placeholder=\"Enter ID NO.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                            </td>\n\n                            <td>\n                              <input v-model=\"item.names\" type=\"text \" class=\"form-control\" title=\"Enter Full Names\" placeholder=\"eg Wanjiku Ann\" spellcheck=\"false\" data-ms-editor=\"true\">\n                            </td>\n                            <td class=\"\">\n                              <input v-model=\"item.phoneNumber\" type=\"text \" class=\"form-control \" placeholder=\"eg 0704549859\" title=\"Enter Phone Number\" spellcheck=\"false\" data-ms-editor=\"true\">\n                            </td>\n                            <td class=\"\">\n                              <input v-model=\"item.address\" type=\"text \" class=\"form-control \" title=\"Enter Home Address\" placeholder=\"eg Along Mombasa road\" spellcheck=\"false\" data-ms-editor=\"true\">\n                            </td>\n                            <td>\n                              <select v-model=\"item.relationShip\" class=\"form-control\"  title=\"Select Relationship\">\n                                <option value=\"\" disabled>-- Select Replacement --</option>\n                                <option value=\"Father\">Father</option>\n                                <option value=\"Mother\">Mother</option>\n                                <option value=\"Sister\">Sister</option>\n                                <option value=\"Spouse\">Spouse</option>\n                                <option value=\"Child\">Child</option>\n                                <option value=\"Grandchild\">Grandchild</option>\n                                <option value=\"Niece/Nephew\">Niece/Nephew</option>\n                                <option value=\"Cousin\">Cousin</option>\n                                <option value=\"Aunt/Uncle\">Aunt/Uncle</option>\n                                <option value=\"Parent-in-law\">Parent-in-law</option>\n                                <option value=\"Sibling-in-law\">Sibling-in-law</option>\n                                <option value=\"Friend\">Friend</option>\n                                <option value=\"Guardian\">Guardian</option>\n                              </select>\n                            </td>\n\n                            <td @click=\"removeKin(index)\" class=\"text-right cell-change d-flex align-items-center justify-content-end\">\n                              <a class=\"btn btn-light btn-rounded waves-effect btn-circle btn-transparent cancel-new-category-2 \" title=\"Cancel \"><i class=\"bx bx-x \"></i></a>\n                            </td>\n\n                          </tr>\n\n                          </tbody>\n                          <tfoot>\n                          <tr>\n                            <td colspan=\"7\" class=\"bg-light add-field-1 cursor-pointer\">\n                              <span @click=\"addKin()\" class=\"d-flex align-items-center text-uppercase\"><i class=\"dripicons-plus mr-5 d-flex justify-content-center align-items-center font-21 \"></i><span class=\"pl-5 \">Add Dependant/Kin</span></span>\n                            </td>\n                          </tr>\n                          </tfoot>\n                        </table>\n                      </div>\n                    </div>\n\n                  </div>\n\n                  <div class=\"row\">\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"bg-danger border-2 bg-soft p-3 mb-4 d-flex align-items-center\">\n                        <i class=\"mdi mdi-calendar-check  font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0 text-uppercase\">Outpatient Checkin Details</p>\n                      </div>\n                    </div>\n                    <div class=\"col-12\">\n                      <div class=\"truck-reg-cont p-4\">\n                        <div class=\"row\">\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"digit1-input\" class=\"\">Reason for Visit</label>\n                              <select v-model=\"visitEntries.reasonForVisit\" id=\"reason-for-visit\" class=\"form-control  bg-white\" title=\"Select reason\" data-live-search=\"true\">\n                                <option value=\"\">-- Select reason --</option>\n                                <option value=\"consultation\">Consultation</option>\n                                <option value=\"emergency\">Emergency</option>\n                                <option value=\"laboratory tests\">Laboratory Tests</option>\n                                <option value=\"imaging services\">Imaging Services (X-ray, MRI, CT scan, etc.)</option>\n                                <option value=\"surgery\">Surgery</option>\n                                <option value=\"maternity services\">Maternity Services</option>\n                                <option value=\"vaccination\">Vaccination</option>\n                                <option value=\"physical therapy\">Physical Therapy</option>\n                                <option value=\"mental health services\">Mental Health Services</option>\n                                <option value=\"pharmacy visit\">Pharmacy Visit</option>\n                                <option value=\"health check-up\">Health Check-Up</option>\n                                <option value=\"blood donation\">Blood Donation</option>\n                                <option value=\"specialist referral\">Specialist Referral</option>\n                                <option value=\"follow-up visit\">Follow-Up Visit</option>\n                                <option value=\"inpatient care\">Inpatient Care</option>\n                                <option value=\"outpatient care\">Outpatient Care</option>\n                                <option value=\"family planning services\">Family Planning Services</option>\n                                <option value=\"dental services\">Dental Services</option>\n                                <option value=\"eye care\">Eye Care</option>\n                                <option value=\"blood pressure monitoring\">Blood Pressure Monitoring</option>\n                                <option value=\"diabetes management\">Diabetes Management</option>\n                                <option value=\"wound care\">Wound Care</option>\n                                <option value=\"cancer treatment\">Cancer Treatment (e.g., chemotherapy)</option>\n                                <option value=\"hiv-aids treatment\">HIV/AIDS Treatment and Counseling</option>\n                                <option value=\"substance abuse treatment\">Substance Abuse Treatment</option>\n                                <option value=\"genetic counseling\">Genetic Counseling</option>\n                                <option value=\"prenatal classes\">Prenatal Classes</option>\n                                <option value=\"childbirth classes\">Childbirth Classes</option>\n                                <option value=\"sti testing and treatment\">STI Testing and Treatment</option>\n                                <option value=\"speech therapy\">Speech Therapy</option>\n                                <option value=\"occupational therapy\">Occupational Therapy</option>\n                                <option value=\"cardiac care\">Cardiac Care</option>\n                                <option value=\"pulmonary rehabilitation\">Pulmonary Rehabilitation</option>\n                                <option value=\"sleep studies\">Sleep Studies</option>\n                                <option value=\"pain management\">Pain Management</option>\n                                <option value=\"dietary consultation\">Dietary Consultation</option>\n                                <option value=\"geriatric care\">Geriatric Care</option>\n                                <option value=\"palliative care\">End-of-Life Care (Palliative)</option>\n                                <option value=\"social services\">Social Services</option>\n                                <option value=\"telemedicine consultations\">Telemedicine Consultations</option>\n                                <option value=\"dermatology services\">Dermatology Services</option>\n                                <option value=\"ophthalmology\">Ophthalmology (Eye Surgery)</option>\n                                <option value=\"ent services\">ENT (Ear, Nose, and Throat) Services</option>\n                                <option value=\"fertility treatments\">Fertility Treatments</option>\n                                <option value=\"bariatric services\">Bariatric Services (Weight Loss Surgery)</option>\n                                <option value=\"infectious disease consultation\">Infectious Disease Consultation</option>\n                                <option value=\"travel vaccinations\">Travel Vaccinations</option>\n                                <option value=\"health screenings\">Health Screenings (e.g., cancer screening, cholesterol checks)</option>\n                                <option value=\"child development assessments\">Child Development Assessments</option>\n                                <option value=\"chronic pain clinic\">Chronic Pain Clinic</option>\n                                <option value=\"bone density testing\">Bone Density Testing</option>\n                                <option value=\"asthma treatment\">Asthma Treatment</option>\n                                <option value=\"mens health services\">Men's Health Services</option>\n                                <option value=\"womens health services\">Women's Health Services</option>\n                                <option value=\"adolescent health services\">Adolescent Health Services</option>\n                                <option value=\"audiology services\">Audiology Services (Hearing Aid Fitting)</option>\n                                <option value=\"orthopedic services\">Orthopedic Services</option>\n                                <option value=\"plastic and reconstructive surgery\">Plastic and Reconstructive Surgery</option>\n                                <option value=\"burn care\">Burn Care</option>\n                                <option value=\"home health services\">Home Health Services Consultation</option>\n                                <option value=\"neurology services\">Neurology Services (e.g., for epilepsy or Parkinson's)</option>\n                                <option value=\"cpr training\">Cardiopulmonary Resuscitation (CPR) Training</option>\n                                <option value=\"smoking cessation programs\">Smoking Cessation Programs</option>\n                                <option value=\"weight management programs\">Weight Management Programs</option>\n                                <option value=\"family therapy\">Family Therapy</option>\n                                <option value=\"cancer screening\">Cancer Screening (e.g., mammogram, colonoscopy)</option>\n                                <option value=\"health certificate issuance\">Health Certificate Issuance (e.g., for employment or travel)</option>\n                                <option value=\"insurance-related health examinations\">Insurance-Related Health Examinations</option>\n                              </select>\n\n                            </div>\n                          </div>\n\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"\">Description</label>\n                              <input v-model=\"visitEntries.description\" type=\"text\" class=\"form-control\" placeholder=\"Enter description\" title=\"Enter the chief complaint of the Patient eg fever\">\n                            </div>\n                          </div>\n\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"digit1-input\" class=\"\">Department Visiting</label>\n                              <select v-model=\"visitEntries.departmentVisiting\" class=\"form-control  bg-white select-revenue\" title=\"Select department\" data-live-search=\"true\">\n                                <option value=\"\" disabled>-- Select Department they are going to --</option>\n                                <option value=\"general outpatient\">General Outpatient</option>\n                                <option value=\"emergency department\">Emergency Department</option>\n                                <option value=\"internal medicine\">Internal Medicine</option>\n                                <option value=\"pediatrics\">Pediatrics</option>\n                                <option value=\"obstetrics and gynecology\">Obstetrics and Gynecology</option>\n                                <option value=\"surgery\">Surgery</option>\n                                <option value=\"orthopedics\">Orthopedics</option>\n                                <option value=\"maternity\">Maternity</option>\n                                <option value=\"laboratory services\">Laboratory Services</option>\n                                <option value=\"radiology\">Radiology</option>\n                                <option value=\"pharmacy\">Pharmacy</option>\n                                <option value=\"dental services\">Dental Services</option>\n                                <option value=\"mental health\">Mental Health</option>\n                                <option value=\"ophthalmology\">Ophthalmology</option>\n                                <option value=\"ent\">ENT (Ear, Nose, and Throat)</option>\n                                <option value=\"physiotherapy\">Physiotherapy</option>\n                                <option value=\"nutrition and dietetics\">Nutrition and Dietetics</option>\n                                <option value=\"dermatology\">Dermatology</option>\n                                <option value=\"hiv care and treatment\">HIV Care and Treatment</option>\n                                <option value=\"family planning\">Family Planning</option>\n                                <option value=\"antenatal care\">Antenatal Care</option>\n                                <option value=\"immunization\">Immunization</option>\n                                <option value=\"renal unit\">Renal Unit</option>\n                                <option value=\"oncology\">Oncology</option>\n                                <option value=\"palliative care\">Palliative Care</option>\n                                <option value=\"public health\">Public Health</option>\n                                <option value=\"cardiology\">Cardiology</option>\n                                <option value=\"neurology\">Neurology</option>\n                                <option value=\"endocrinology\">Endocrinology</option>\n                                <option value=\"gastroenterology\">Gastroenterology</option>\n                                <option value=\"urology\">Urology</option>\n                                <option value=\"infectious diseases\">Infectious Diseases</option>\n                              </select>\n\n\n                            </div>\n                          </div>\n\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"digit1-input\" class=\"\">Doctor/Nurse</label>\n                              <select v-model=\"visitEntries.doctorNurse\" class=\"form-control  bg-white select-revenue\" title=\"Select Doctor/Nurse\" data-live-search=\"true\">\n                                <option value=\"\">-- Select doctor --</option>\n                                <option value=\"dr.jane doe\">Dr. Jane Doe (General Physician)</option>\n                                <option value=\"dr.john mwangi\">Dr. John Mwangi (Pediatrician)</option>\n                                <option value=\"dr.susan ndung'u\">Dr. Susan Ndung'u (Obstetrician/Gynecologist)</option>\n                                <option value=\"dr.david otieno\">Dr. David Otieno (Surgeon)</option>\n                                <option value=\"dr.mary wanjiru\">Dr. Mary Wanjiru (Orthopedic Surgeon)</option>\n                                <option value=\"dr.james omondi\">Dr. James Omondi (Radiologist)</option>\n                                <option value=\"dr.lucy kiplagat\">Dr. Lucy Kiplagat (Dentist)</option>\n                                <option value=\"dr.peter mbugua\">Dr. Peter Mbugua (Psychiatrist)</option>\n                                <option value=\"dr.agnes oloo\">Dr. Agnes Oloo (Ophthalmologist)</option>\n                                <option value=\"dr.francis mutua\">Dr. Francis Mutua (ENT Specialist)</option>\n                                <option value=\"dr.nancy kamau\">Dr. Nancy Kamau (Physiotherapist)</option>\n                                <option value=\"dr.george kimani\">Dr. George Kimani (Dermatologist)</option>\n                                <option value=\"dr.joyce abongo\">Dr. Joyce Abongo (HIV Specialist)</option>\n                                <option value=\"dr.silas cheruiyot\">Dr. Silas Cheruiyot (Cardiologist)</option>\n                                <option value=\"dr.rebecca mwiti\">Dr. Rebecca Mwiti (Oncologist)</option>\n                                <option value=\"dr.philip okoth\">Dr. Philip Okoth (Endocrinologist)</option>\n                                <option value=\"dr.eunice mwenda\">Dr. Eunice Mwenda (Gastroenterologist)</option>\n                                <option value=\"dr.samuel ndiritu\">Dr. Samuel Ndiritu (Urologist)</option>\n                                <option value=\"dr.wycliffe orwa\">Dr. Wycliffe Orwa (Neurologist)</option>\n                                <option value=\"dr.charles ngugi\">Dr. Charles Ngugi (Infectious Disease Specialist)</option>\n                              </select>\n\n                            </div>\n                          </div>\n\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"\">Schedule Patient for Triage</label>\n                              <select v-model=\"visitEntries.triage\" name=\"\" id=\"\"  class=\"form-select text-uppercase\" title=\"Should the patient be scheduled for triage?\">\n                                <option value=\"\" disabled>Select Option</option>\n                                <option value=\"Yes\">Yes</option>\n                                <option value=\"No\">No</option>\n                              </select>\n                            </div>\n                          </div>\n\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"formrow-firstname-input\" class=\"form-label\">Means Of Arrival</label>\n                              <select v-model=\"visitEntries.meansOfArrival\" class=\"form-control  bg-white arrival-means\" title=\"Select Arrival means\">\n                                <option value=\"walk In\">Walk In</option>\n                                <option value=\"Ambulance\">Ambulance</option>\n                                <option value=\"Privae Vehicle\">Privae Vehicle</option>\n                                <option value=\"Other\">Other ...</option>\n                              </select>\n                            </div>\n                          </div>\n\n                          <div class=\"col-lg-3 col-md-6\">\n                            <div class=\"mb-3\">\n                              <label for=\"payment-responsibility\">Payment Responsibility</label>\n                              <select v-model=\"visitEntries.payment\" id=\"payment-responsibility\" name=\"payment_responsibility\" class=\"form-select text-uppercase\" title=\"Select who is responsible for payment\">\n                                <option value=\"\" disabled>Select Option</option>\n                                <option value=\"self\">The Patient</option>\n                                <option value=\"NHIF\">NHIF</option>\n                                <option value=\"guarantor\">Guarantor</option>\n                                <option value=\"insurance\">Insurance</option>\n                                <option value=\"employer\">Employer</option>\n                              </select>\n                            </div>\n                          </div>\n\n\n\n\n                          <div class=\"col-12 mt-3 text-primary mb-0\">\n                            <div class=\"d-flex justify-content-between align-items-end\">\n                              <h4 class=\"card-title text-uppercase text-primary mb-2\"><small>Payment Options</small></h4>\n                              <button class=\"btn btn-primary text-uppercase btn-sm kin-modal-btn d-none mb-2 \" data-toggle=\"modal\" data-target=\"#kinsList\" type=\"button\" >\n                                Select from Kins\n                              </button>\n                            </div>\n                          </div>\n                          <div class=\"col-12\">\n                            <hr class=\"mt-0 pt-1 text-primary\">\n                          </div>\n\n                          <!-- gurantor option for payment -->\n                          <div class=\"col-12 self-pay pay-opt\" >\n                            <div class=\"row\">\n                              <i><p>This means that the patient will be responsible for any charges incurred during their visit. Payments should be processed cashlessly</p></i>\n\n                            </div>\n                          </div>\n\n                          <div v-if=\"visitEntries.payment ==='guarantor'\" class=\"col-12 gurantor-pay pay-opt\" >\n                            <div class=\"row\">\n\n                              <div class=\"col-lg-2 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">ID Number</label>\n                                  <input v-model=\"patientDetails.guarantor.idNo\" type=\"text\" class=\"form-control\" placeholder=\"Enter ID No\" title=\"Enter the name to the gurantor in full\">\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Gurantor's Full Names</label>\n                                  <input v-model=\"patientDetails.guarantor.names\" type=\"text\" class=\"form-control\" placeholder=\"Enter Full Names\" title=\"Enter the name to the gurantor in full\">\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-2 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Phone Number</label>\n                                  <input v-model=\"patientDetails.guarantor.phoneNumber\" type=\"text\" class=\"form-control\" placeholder=\"Enter Phone No.\" title=\"Enter the name to the gurantor in full\">\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\" class=\"text-capitalize\">Residential address</label>\n                                  <input v-model=\"patientDetails.guarantor.physicalAddress\" type=\"text\" class=\"form-control\" placeholder=\"Enter Address\" title=\"Enter the name to the gurantor in full\">\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-2 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Relationship with Patient</label>\n                                  <select v-model=\"patientDetails.guarantor.relationship\" class=\"form-control\"  title=\"Select Relationship\">\n                                    <option value=\"\" disabled>-- Select Relationship --</option>\n                                    <option value=\"Father\">Father</option>\n                                    <option value=\"Mother\">Mother</option>\n                                    <option value=\"Sister\">Sister</option>\n                                    <option value=\"Spouse\">Spouse</option>\n                                    <option value=\"Child\">Child</option>\n                                    <option value=\"Grandchild\">Grandchild</option>\n                                    <option value=\"Niece/Nephew\">Niece/Nephew</option>\n                                    <option value=\"Cousin\">Cousin</option>\n                                    <option value=\"Aunt/Uncle\">Aunt/Uncle</option>\n                                    <option value=\"Parent-in-law\">Parent-in-law</option>\n                                    <option value=\"Sibling-in-law\">Sibling-in-law</option>\n                                    <option value=\"Friend\">Friend</option>\n                                    <option value=\"Guardian\">Guardian</option>\n                                  </select>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                          <!-- payment by insurance -->\n                          <div v-if=\"visitEntries.payment ==='insurance'\" class=\"col-12 insurance-pay pay-opt\">\n                            <div class=\"row\">\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Insurance Provider</label>\n                                  <select v-model=\"patientDetails.insurance.provider\" class=\"form-control  bg-white\" id=\"insurance-provider\" title=\"Select Insurance Provider\">\n                                    <option value=\"\" disabled>-- Select Insurance Provider --</option>\n                                    <option value=\"NHIF\">NHIF</option>\n                                    <option value=\"Sanlam\">Sanlam</option>\n                                    <option value=\"Britam\">Britam</option>\n                                    <option value=\"AAR\">AAR</option>\n                                    <option value=\"Jubilee\">Jubilee</option><option value=\"Other\">Other ...</option>\n                                  </select>\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Policy Number</label>\n                                  <input  v-model=\"patientDetails.insurance.policyNumber\"  type=\"text\" class=\"form-control\" placeholder=\"Enter Policy No.\" title=\"Enter the policy number\">\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Authorization Code (if applicable)</label>\n                                  <input  v-model=\"patientDetails.insurance.authorizationCode\"  type=\"text\" class=\"form-control\" placeholder=\"Enter Authorization Code\" title=\"Enter the authorization code provided by the insurance provider\">\n                                </div>\n                              </div>\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Relationship with Policyholder</label>\n                                  <select v-model=\"patientDetails.insurance.policyholder\" class=\"form-control\" title=\"Select Relationship\">\n                                    <option value=\"\" disabled>-- Select Relationship --</option>\n                                    <option value=\"Self\">Self</option>\n                                    <option value=\"Spouse\">Spouse</option>\n                                    <option value=\"Child\">Child</option>\n                                    <option value=\"Parent\">Parent</option>\n                                    <option value=\"Other\">Other</option>\n                                  </select>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                          <!-- payment company -->\n                          <div v-if=\"visitEntries.payment ==='employer'\" class=\"col-12 employer-pay pay-opt\">\n                            <div class=\"row\">\n                              <!-- Company Name -->\n                              <div class=\"col-lg-4 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"company-name\" class=\"form-label\">Company Name</label>\n                                  <input v-model=\"patientDetails.employer.companyName\" type=\"text\" class=\"form-control\" id=\"company-id\" placeholder=\"Enter Company Name\" title=\"Enter the company's ID number\">\n                                </div>\n                              </div>\n\n                              <!-- Company ID Number -->\n                              <div class=\"col-lg-4 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"company-id\" class=\"form-label\">Company ID Number</label>\n                                  <input v-model=\"patientDetails.employer.companyID\" type=\"text\" class=\"form-control\" id=\"company-id\" placeholder=\"Enter Company ID No.\" title=\"Enter the company's ID number\">\n                                </div>\n                              </div>\n\n                              <!-- Authorization Code (if applicable) -->\n                              <div class=\"col-lg-4 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"authorization-code\" class=\"form-label\">Authorization Code (if applicable)</label>\n                                  <input v-model=\"patientDetails.employer.authorizationCode\" type=\"text\" class=\"form-control\" id=\"authorization-code\" placeholder=\"Enter Authorization Code\" title=\"Enter the authorization code provided by the company\">\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                          <!-- payment by NHIF -->\n                          <div v-if=\"visitEntries.payment === 'NHIF' \" class=\"col-12 nhif-pay pay-opt\">\n                            <div class=\"row\">\n\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Policy/NHIF Number</label>\n                                  <input v-model=\"patientDetails.nhif.number\"  type=\"text\" class=\"form-control\" placeholder=\"Enter Policy No.\" title=\"Enter the policy number\">\n                                </div>\n                              </div>\n\n\n                              <div class=\"col-lg-3 col-md-6\">\n                                <div class=\"mb-3\">\n                                  <label for=\"\">Relationship with Policyholder</label>\n                                  <select v-model=\"patientDetails.nhif.policyholder\" class=\"form-control\" title=\"Select Relationship\">\n                                    <option value=\"\" disabled>-- Select Relationship --</option>\n                                    <option value=\"Self\">Self</option>\n                                    <option value=\"Spouse\">Spouse</option>\n                                    <option value=\"Child\">Child</option>\n                                    <option value=\"Parent\">Parent</option>\n                                    <option value=\"Other\">Other</option>\n                                  </select>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n\n                        </div>\n\n\n                      </div>\n                    </div>\n                  </div>\n\n\n                  <!-- Initial Invoicing  -->\n                  <div class=\"row\">\n                    <div class=\"col-12 mb-2\">\n                      <div class=\"bg-info border-2 bg-soft p-3 mb-4 d-flex align-items-center\">\n                        <i class=\"bx bx-receipt font-28 mr-15px\"></i>\n                        <p class=\"fw-semibold mb-0 pb-0 text-uppercase\">Initial Invoicing</p>\n                      </div>\n                    </div>\n\n\n                    <div class=\"col-12\">\n                      <div class=\"truck-reg-cont p-4\">\n                        <div class=\"row\">\n                          <div class=\"col-12\">\n                            <table class=\"table table-editable-1 align-middle table-edits\">\n                              <thead class=\"table-light\">\n                              <tr class=\"text-uppercase table-dark\">\n                                <th>#</th>\n                                <th class=\"\">Medical Charges Groupings</th>\n                                <th>Sub Medical Charges</th>\n                                <th class=\"\">Unit Charges</th>\n                                <th>Quantity</th>\n                                <th>Total</th>\n                                <th></th>\n                              </tr>\n                              </thead>\n                              <tbody>\n\n                              <tr v-for=\"(item, index) in invoiceItem\" :key=\"index\">\n                                <td style=\"width: 80px\" class=\"categoryIndex\">{{ index + 1 }}</td>\n\n                                <td>\n                                  <select @change=\"selectedIncomeType($event, index)\" class=\"form-control\" title=\"Select Charge Category\">\n                                    <option value=\"\" disabled>-- Select Charge Category --</option>\n                                    <option v-for=\"(income, idx) in incomeTypes\" :value=\"income.incomeTypeId\" :key=\"idx\">\n                                      {{ income.incomeTypeDescription }}\n                                    </option>\n                                  </select>\n                                </td>\n\n                                <td>\n                                  <select @change=\"selectedFeeAndCharge($event, index)\" class=\"form-control\" title=\"Select Outpatient Charge\">\n                                    <option value=\"\" disabled> -- Select Outpatient Charge -- </option>\n                                    <option v-for=\"(fee, idx) in item.feesAndCharges\" :value=\"fee.feeId\" :key=\"idx\">\n                                      {{ fee.feeDescription }} KES {{ fee.unitFeeAmount }}\n                                    </option>\n                                  </select>\n                                </td>\n\n                                <td>\n                                  <input type=\"text\" class=\"form-control\" :value=\"item.feeAmount || ''\" placeholder=\"Amount\" disabled>\n                                </td>\n\n                                <td>\n                                  <!-- Use v-model for two-way binding on quantity -->\n                                  <input type=\"number\" class=\"form-control\" v-model=\"item.quantity\" @input=\"updateTotalAmount(index)\" title=\"QTY\">\n                                </td>\n\n                                <td>\n                                  <!-- Total amount is dynamically calculated -->\n                                  <input type=\"text\" class=\"form-control\" :value=\"item.totalAmount || ''\" placeholder=\"Total Amount\" disabled>\n                                </td>\n\n                                <td class=\"text-right cell-change d-flex align-items-center justify-content-end\">\n                                  <a @click=\"removeInvoiceItem(index)\" class=\"btn btn-light btn-rounded btn-circle btn-transparent\" title=\"Cancel\">\n                                    <i class=\"bx bx-x\"></i>\n                                  </a>\n                                </td>\n                              </tr>\n\n\n\n\n                              </tbody>\n                              <tfoot>\n                              <tr>\n                                <td colspan=\"7\" class=\"bg-light add-field-1 cursor-pointer\">\n                                  <span @click=\"addInvoiceItem\" class=\"d-flex align-items-center text-uppercase\"><i class=\"dripicons-plus mr-5 d-flex justify-content-center align-items-center font-21 \"></i><span class=\"pl-5 \">Add INVOICE item</span></span>\n                                </td>\n                              </tr>\n                              </tfoot>\n                            </table>\n                          </div>\n\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n\n                </div>\n\n                <div class=\"card-footer bg-white border-top py-4 \">\n                  <div class=\"d-flex justify-content-end\">\n                    <button v-if=\"patientRecord\" @click=\"generateVisitEntries()\" data-toggle=\"modal\" data-target=\"#generateVisit\" class=\"btn btn-primary text-uppercase  generate-visit-slip\" title=\"Submit form to create an Outpatient visit slip\">Generate Visit Slip</button>\n                    <button v-if=\"!patientRecord\" @click=\"addPatient()\" type=\"button\" class=\"btn btn-primary  generate-visit-btn text-uppercase d-flex align-items-center \">\n                      <div v-if=\"loading\" class=\"spinner-border  text-white m-0 me-3\" height=\"10px\" width=\"10px\" role=\"status\">\n                        <span class=\"sr-only\">Loading...</span>\n                      </div>\n\n                      <div class=\"\"><i class=\"bx bx-search\"></i> Generate Visist slip</div>\n\n                    </button>\n                  </div>\n                </div>\n\n\n              </div>\n\n            </div>\n\n          </div>\n\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n  <div class=\"rightbar-overlay \"></div>\n\n  </body>\n\n\n\n</template>\n\n\n\n<script>\n/* eslint-disable */\n\nimport {authUrl, biller, execute, getRight, patient} from \"@/api\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport router from \"@/router\";\nexport default {\n  name: 'OutPatientCheckin',\n  components: {\n    NavigationBar\n\n  },\n\n  data() {\n    return {\n      patientRecord: false,\n      message:null,\n      keyword:'',\n      loading: false,\n      selectedPatient: null, // To store the selected patient\n      patientDetails:{\n        patient:{\n          patientID:null,\n          title: null,\n          names: null,\n          gender: null,\n          idNo: null,\n          phoneNumber:null,\n          email:null,\n          physicalAddress:null,\n          dateOfBirth: null,\n          maritalStatus: null,\n          levelOfEducation: null,\n          occupation: null,\n          religion: null,\n          languages\t: null,\n          countyID: null,\n          countyName: null,\n          bloodGroup: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID:null,\n          wardName: null,\n          town: null\n        },\n        guarantor:{\n          patientIDNo: null,\n          idNo:null,\n          names:null,\n          phoneNumber: null,\n          email\t: null,\n          physicalAddress: null,\n          town: null,\n          relationship: null\n        },\n        kins:[{\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          address:null,\n          relationShip: null\n        }],\n        nhif:{\n          visitCode: null,\n          number:null,\n          policyholder:null\n        },\n        insurance:{\n          visitCode:null,\n          provider: null,\n          policyNumber:null,\n          authorizationCode:null,\n          policyholder:null\n        },\n        employer:{\n          visitCode:null,\n          companyName: null,\n          companyID:null,\n          authorizationCode:null\n        }\n\n      },\n      visitEntries:{\n        visitCode:null,\n        idNo:null,\n        names:null,\n        phoneNumber:null,\n        email: null,\n        reasonForVisit:null,\n        description:null,\n        departmentVisiting:null,\n        doctorNurse:null,\n        triage:null,\n        meansOfArrival:null,\n        payment:null,\n\n      },\n      patients: [{\n        id: null,\n        patientID: null,\n        title: null,\n        names:  null,\n        phoneNumber: null,\n        physicalAddress:null,\n        gender: null,\n        idNo:  null,\n        dateOfBirth:  null,\n        maritalStatus:  null,\n        levelOfEducation:  null,\n        occupation:  null,\n        religion: null,\n        languages: null,\n        countyID: null,\n        countyName:  null,\n        bloodGroup:  null,\n    }],\n      subCounties:[{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards:[{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty:{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      },\n      ward:{\n        wardID: \"\",\n        wardName: \"\"\n      },\n      invoiceItem:[{\n        quantity: 1,\n        incomeType:null,\n        feesAndCharge:{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc:null ,\n          costCenterNo:null,\n          zone: null,\n          typeDescription: null\n        },\n        feesAndCharges:[{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc:null ,\n          costCenterNo:null,\n          zone: null,\n          typeDescription: null\n        }]\n      }],\n      incomeTypes:[{\n        incomeTypeId: null,\n        incomeTypeDescription:null,\n        incomeTypePrefix: null,\n        fundDescription: null,\n        status: null}],\n      billItem:[],\n      feesAndChargeItems:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: 1\n      }],\n      feesAndCharges:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      amount:0,\n      feeID:null,\n      unitFeeAmount:0,\n\n    }\n  },\n\n  methods:{\n\n    getRight(type){\n      return getRight(type)\n    },\n\n    gotTo(route){\n      sessionStorage.setItem(\"selectedSub\",route)\n      sessionStorage.setItem(\"currentPage\",route)\n      this.$router.push(route);\n\n    },\n\n    addKin(){\n      this.patientDetails.kins.push({})\n    },\n    removeKin(position){\n      this.patientDetails.kins.splice(position,1)\n    },\n\n\n    addPatient(){\n      this.message = null\n\n      this.patientDetails.patient.subCountyID = this.subCounty.subCountyID\n      this.patientDetails.patient.subCountyName = this.subCounty.subCountyName\n\n      this.patientDetails.patient.wardName = this.ward.wardName\n      this.patientDetails.patient.wardID = this.ward.wardID\n\n      this.loading = true\n      const data = new FormData();\n      data.append(\"function\", \"addPatient\");\n      data.append(\"patientDetails\", JSON.stringify(this.patientDetails));\n      execute(data,patient)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n              this.visitEntries.idNo = this.patientDetails.patient.idNo\n              this.visitEntries.names = this.patientDetails.patient.firstName +'' +  this.patientDetails.patient.lastName\n              this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber\n              this.visitEntries.idNo = this.patientDetails.patient.idNo\n\n              this.generateVisitEntries()\n\n            }else{\n\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    generateVisitEntries(){\n      this.message = null\n      this.loading = true\n      this.visitEntries.idNo = this.patientDetails.patient.idNo\n      this.visitEntries.names = this.patientDetails.patient.names\n      this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber\n      const data = new FormData();\n      data.append(\"function\", \"generateVisitEntries\");\n      data.append(\"visitEntries\", JSON.stringify(this.visitEntries));\n      data.append(\"guarantor\", JSON.stringify(this.patientDetails.guarantor));\n      data.append(\"nhif\", JSON.stringify(this.patientDetails.nhif));\n      data.append(\"insurance\", JSON.stringify(this.patientDetails.insurance));\n      data.append(\"employer\", JSON.stringify(this.patientDetails.employer));\n      execute(data,patient)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n\n              this.visitEntries = res.data.data.visitEntries;\n\n            }else{\n\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    getPatient(){\n      this.message = null\n      this.loading = true\n      this.patients.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getPatient\");\n      data.append(\"keyword\", this.keyword);\n      execute(data,patient)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n              this.patients = res.data.data.patients\n\n              $('.modal').modal('hide');\n\n              $('#searchResultList').modal('show');\n\n            }else{\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    getSubCounties(){\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.subCounties =res.data.data.subCounties\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getWards(){\n      this.wards.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.wards =res.data.data.wards\n\n              this.ward.wardName = this.patientDetails.patient.wardName\n              this.ward.wardID = this.patientDetails.patient.wardID\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getPatientDetails(){\n      this.patientRecord = false\n      const data = new FormData();\n      data.append(\"function\", \"getPatientDetails\");\n      data.append(\"keyword\", this.selectedPatient.patientID);\n      execute(data,patient)\n          .then((res) =>{\n            if (res.data.success) {\n              this.patientRecord = true\n              this.patientDetails.patient = res.data.data.patient\n              this.patientDetails.patient.languages = JSON.parse(this.patientDetails.patient.languages)\n              this.subCounty.subCountyID = this.patientDetails.patient.subCountyID\n              this.subCounty.subCountyName = this.patientDetails.patient.subCountyName\n\n              if (res.data.data.kins !== null) {\n                this.patientDetails.kins = res.data.data.kins\n              }\n              if (res.data.data.visitEntries !== null) {\n                this.visitEntries = res.data.data.visitEntries\n              }\n              if (res.data.data.guarantor !== null) {\n                this.patientDetails.guarantor = res.data.data.guarantor;\n              }\n              if (res.data.data.nhif !== null) {\n                this.patientDetails.nhif = res.data.data.nhif;\n              }\n\n              if (res.data.data.insurance !== null) {\n                this.patientDetails.insurance = res.data.data.insurance;\n              }\n\n              if (res.data.data.employer !== null) {\n                this.patientDetails.employer = res.data.data.employer;\n              }\n\n              this.getWards()\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    addInvoiceItem() {\n      // Add a new invoice item with its own feesAndCharges\n      this.invoiceItem.push({\n        incomeType: null,\n        feesAndCharge: null,\n        feeAmount: 0,\n        quantity: 1,\n        totalAmount: 0,\n        feesAndCharges: [] // Initialize an empty array for feesAndCharges specific to this row\n      });\n    },\n    removeInvoiceItem(position){\n      this.invoiceItem.splice(position,1)\n    },\n\n    selectedIncomeType(event, index) {\n      const selectedIncomeTypeId = event.target.value;\n      const selectedIncomeType = this.incomeTypes.find(income => income.incomeTypeId === selectedIncomeTypeId);\n\n      // Set the incomeType for the current invoiceItem\n      this.invoiceItem[index].incomeType = selectedIncomeType;\n\n      // Fetch and set feesAndCharges specific to this incomeType for this row\n      this.getFeesAndCharges(selectedIncomeType.incomeTypeId, index);\n    },\n    selectedFeeAndCharge(event, index) {\n      const selectedFeeId = event.target.value;\n      const selectedFee = this.invoiceItem[index].feesAndCharges.find(fee => fee.feeId === selectedFeeId);\n\n      // Set the feesAndCharge for the current invoiceItem\n      this.invoiceItem[index].feesAndCharge = selectedFee;\n\n      // Set the fee amount and calculate the total\n      this.invoiceItem[index].feeAmount = selectedFee.unitFeeAmount;\n      this.invoiceItem[index].totalAmount = selectedFee.unitFeeAmount * this.invoiceItem[index].quantity;\n    },\n    getIncomeTypes(){\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.incomeTypes =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndCharges(incomeTypeId, index) {\n      // Fetch fees and charges based on the selected incomeTypeId\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              // Assign the fetched feesAndCharges to the specific invoice item\n              this.invoiceItem[index].feesAndCharges = res.data.data.feesAndCharges;\n            } else {\n              this.message = res.data.message;\n            }\n          })\n          .catch((e) => {\n            this.message = e.message;\n          });\n    },\n    updateTotalAmount(index) {\n      const item = this.invoiceItem[index];\n      // Recalculate totalAmount based on the feeAmount and quantity\n      item.totalAmount = item.feeAmount * item.quantity;\n    },\n\n    addToBill(revenueStreamItem) {\n\n      for (const item of this.invoiceItem) {\n        const { feesAndCharge, quantity, customer, incomeTypeId } = item;\n\n        this.billItem.push({\n          fiscalYear: this.fiscalYear,\n          typeDescription: feesAndCharge.typeDescription,\n          feeDescription: feesAndCharge.feeDescription,\n          quantity: quantity,\n          unitFeeAmount: feesAndCharge.unitFeeAmount,\n          accountNo: feesAndCharge.accountNo,\n          costCenterNo: feesAndCharge.costCenterNo,\n          incomeTypeId: incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId: feesAndCharge.feeId,\n          amount: feesAndCharge.unitFeeAmount * quantity,\n          customer: customer,\n          zone: this.zone,\n          subCountyID: this.subCounty.subCountyID,\n          subCountyName: this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.description,\n        });\n      }\n\n      this.totalAmount = this.billItem.reduce((total, item) => total + (Number(item.unitFeeAmount) * Number(item.quantity)), 0);\n    },\n\n\n    generateBill(){\n\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data,biller)\n          .then((res) =>{\n            this.message =res.data.message\n            if (res.data.success) {\n              this.billDetails = res.data.data.bill.billDetails\n              this.billInfo = res.data.data.bill.billInfo\n              this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n              this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\")\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n  },\n  mounted() {\n    this.getSubCounties()\n    this.getIncomeTypes()\n  }\n};\n\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}