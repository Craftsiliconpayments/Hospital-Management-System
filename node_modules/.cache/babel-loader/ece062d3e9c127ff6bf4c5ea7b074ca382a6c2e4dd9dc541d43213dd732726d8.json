{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport { execute, biller, rent, parking, trade } from \"@/api\";\nimport $ from 'jquery';\nimport Multiselect from 'vue-multiselect';\nimport 'vue-select/dist/vue-select.css'; // Import the CSS styles\nimport { ref } from 'vue';\nimport vSelect from 'vue-select';\n//npm install vue-multiselect@^2.1.6 --force\n\nexport default {\n  name: \"BillNew\",\n  components: {\n    NavigationBar,\n    Multiselect,\n    vSelect\n  },\n  data() {\n    const selectedValue = ref(null);\n    const options = [{\n      label: 'Option 1',\n      value: 'option1'\n    }, {\n      label: 'Option 2',\n      value: 'option2'\n    }, {\n      label: 'Structural Plans for 046m2 -93m2   Each',\n      value: 'Structural Plans for 046m2 -93m2 -- Eac'\n    }, {\n      label: 'Building approval fees for 046m2 - 093m2 ',\n      value: 'Building approval fees for 046m2 - 093m2 '\n    }, {\n      label: 'Application fees for industries/factories ',\n      value: 'Application fees for industries/factories '\n    }, {\n      label: 'Building approval fees for 046m2 - 093m2 ',\n      value: 'Building approval fees for 046m2 - 093m2 '\n    }, {\n      label: 'Plot demarcation fe',\n      value: 'Plot demarcation fe'\n    }];\n    return {\n      selectedValue,\n      options,\n      zone: '',\n      feeID: '',\n      plotNO: '',\n      fiscalYear: '',\n      quantity: 1,\n      billGenerated: {\n        billNo: null,\n        payBillNo: null,\n        amount: null,\n        success: true\n      },\n      confirmCash: false,\n      phoneNumber: '',\n      customerName: '',\n      email: '',\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      billDetails: {\n        id: '',\n        billNo: '',\n        incomeTypeID: '',\n        incomeTypeDescription: '',\n        costCenterNo: '',\n        accountNo: '',\n        feeID: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        wardID: '',\n        subCountyID: '',\n        status: '',\n        dateCreated: ''\n      },\n      billInfo: [],\n      briefDescription: '',\n      subCounty: {\n        subCountyID: null,\n        subCountyName: null\n      },\n      ward: {\n        wardID: null,\n        wardName: null\n      },\n      houseItem: {\n        estate: null,\n        houseType: {\n          id: null,\n          houseTypeCode: null,\n          houseType: null\n        },\n        houseNo: {\n          id: null,\n          houseNumberCode: null,\n          houseNumber: null,\n          houseTypeCode: null,\n          houseType: null,\n          estateCode: null,\n          estateName: null\n        }\n      },\n      revenueStreamItem: {},\n      selectedBillItem: {},\n      itemIndex: '',\n      description: '',\n      amount: 0,\n      unitFeeAmount: 0,\n      wardID: '',\n      subCountyID: '',\n      houseNumberCode: '',\n      houseTypeCode: '',\n      estateCode: '',\n      estates: [{\n        id: \"\",\n        estateCode: \"\",\n        estateName: \"\"\n      }],\n      houseTypes: [{\n        id: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\"\n      }],\n      houseNumbers: [{\n        id: \"\",\n        houseNumberCode: \"\",\n        houseNumber: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\",\n        estateCode: \"\",\n        estateName: \"\"\n      }],\n      subCounties: [{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards: [{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      billItem: [],\n      feesAndChargeItems: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: 1\n      }],\n      feesAndCharges: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      totalAmount: 0,\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode: null,\n        sessionNames: null,\n        sessionIdNo: null,\n        sessionPhoneNumber: null\n      },\n      timer: null,\n      randomNumber: null,\n      receiptDetails: {\n        id: '',\n        receiptNo: null,\n        billNo: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        costCenterNo: '',\n        accountNo: '',\n        incomeTypeDescription: '',\n        feeID: '',\n        wardID: '',\n        subCountyID: '',\n        currency: '',\n        source: '',\n        transactionCode: '',\n        paidBy: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        isActive: '',\n        status: ''\n      },\n      receiptInfos: [{\n        id: '',\n        receiptNo: '',\n        billNo: '',\n        billTotal: '',\n        receiptAmount: '',\n        billBalance: '',\n        customer: '',\n        clientPhoneNo: '',\n        description: '',\n        receiptDate: '',\n        printCount: '',\n        wardID: '',\n        subCountyID: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        printedBy: '',\n        updated: '',\n        isActive: '',\n        status: ''\n      }],\n      //Billing Module\n      billingModule: {\n        incomeType: {\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes: [{\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        }]\n      },\n      selectedStream: 'Others',\n      //Parking Module\n      numberPlate: null,\n      parking: {\n        zones: [],\n        categories: [],\n        durations: [],\n        category: null,\n        zoneCode: null,\n        numberPlate: null,\n        durationCode: null,\n        charges: null,\n        zone: {\n          id: null,\n          subCountyID: null,\n          subCountyName: null,\n          zone: null,\n          wardID: null,\n          wardName: null,\n          lat: null,\n          lng: null,\n          zoneCategory: null,\n          zoneCategoryID: null,\n          position: null\n        }\n      },\n      message: null,\n      //Trade\n      businessID: null,\n      trade: {\n        amount: null,\n        tonnage: [],\n        floors: [],\n        tradeCategories: [{\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null,\n          departmentID: null,\n          zoneCategoryID: null,\n          zoneCategory: null\n        }],\n        tradeSubCategories: [{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc: null,\n          costCenterNo: null,\n          zone: null,\n          typeDescription: null,\n          prorated: null,\n          duration: null\n        }],\n        businessDetails: {\n          id: null,\n          businessID: null,\n          businessName: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID: null,\n          wardName: null,\n          plotNumber: null,\n          physicalAddress: null,\n          buildingName: null,\n          buildingOccupancy: null,\n          floorNo: null,\n          roomNo: null,\n          premiseSize: null,\n          numberOfEmployees: null,\n          tonnage: null,\n          businessDes: null,\n          businessCategory: null,\n          businessSubCategory: null,\n          incomeTypeID: null,\n          feeID: null,\n          businessEmail: null,\n          postalAddress: null,\n          postalCode: null,\n          businessPhone: null,\n          contactPersonNames: null,\n          contactPersonIDNo: null,\n          businessRole: null,\n          contactPersonPhone: null,\n          contactPersonEmail: null,\n          fullNames: null,\n          ownerID: null,\n          ownerPhone: null,\n          ownerEmail: null,\n          kraPin: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          lat: 0.0,\n          lng: 0.0\n        }\n      },\n      streams: [{\n        id: null,\n        incomeTypePrefix: null,\n        stream: null\n      }],\n      roles: [{\n        id: null,\n        role: null\n      }]\n    };\n  },\n  watch: {\n    subCounty: function () {\n      this.wards = [];\n      this.ward = '';\n      if (this.selectedStream === \"SBP\") {\n        if (this.subCounty.subCountyName === sessionStorage.getItem(\"subCountyName\")) {\n          //Trade demographics\n          this.trade.businessDetails.subCountyName = this.subCounty.subCountyName;\n          this.trade.businessDetails.subCountyID = this.subCounty.subCountyID;\n          this.getWards();\n        } else {\n          alert(`You are not allowed to invoice a business that is not in your Sub County ${sessionStorage.getItem(\"subCountyName\")}`);\n        }\n      } else {\n        this.getWards();\n      }\n    },\n    ward: function () {\n      //Trade demographics\n      this.trade.businessDetails.wardName = this.ward.wardName;\n      this.trade.businessDetails.wardID = this.ward.wardID;\n    },\n    businessID: function () {\n      if (this.businessID === null || this.businessID === \"\") {} else {\n        this.getBusiness(true);\n      }\n    },\n    quantity: function () {\n      this.amount = this.quantity * this.unitFeeAmount;\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === this.feeID) {\n          item.quantity = this.quantity;\n        }\n        return item;\n      });\n    },\n    numberPlate: function () {\n      this.addCustomerToBillItem(this.feeID, this.numberPlate);\n    }\n  },\n  mounted() {\n    this.zone = sessionStorage.getItem(\"sessionZone\");\n    this.getMainStreams();\n    this.getYears();\n    this.getSubCounties();\n    this.getFloor();\n    this.getTonnage();\n    this.getRoles();\n    this.menuAccess();\n\n    /*const modal = new\n    bootstrap.Modal(document.getElementById('subscribeModal'));\n    modal.show();*/\n    this.initMap();\n    var button = document.querySelector(\".btn.btn-success.btn-sm\");\n    button.click();\n  },\n  methods: {\n    menuAccess() {\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"New Bill\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\", sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data, biller).then(() => {\n        // alert(res.data.message);\n      }).catch(() => {\n        // alert(e.message);\n      });\n    },\n    //TRADE\n    getBusiness(renewal) {\n      const data = new FormData();\n      data.append(\"function\", \"getBusiness\");\n      data.append(\"businessID\", this.businessID);\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.feesAndChargeItems.splice(0);\n          this.trade.businessDetails = res.data.data.business;\n          this.subCounty.subCountyID = this.trade.businessDetails.subCountyID;\n          this.subCounty.subCountyName = this.trade.businessDetails.subCountyName;\n          this.ward.wardID = this.trade.businessDetails.wardID;\n          this.ward.wardName = this.trade.businessDetails.wardName;\n          //Set fee and charge\n\n          this.feesAndChargeItems = res.data.data.feesAndCharges;\n          this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n            if (item.feeId === this.trade.businessDetails.feeID) {\n              item.customer = \"Business ID: \" + this.trade.businessDetails.businessID;\n              item.quantity = this.quantity;\n            } else {\n              item.customer = \"\";\n            }\n            return item;\n          });\n          if (!renewal) {\n            this.addToBill(this.trade.businessDetails.businessName);\n          }\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    registerBusiness() {\n      if (this.ward === '') {\n        alert(`You are not allowed to invoice a business that is not in your Sub County ${sessionStorage.getItem(\"subCountyName\")}`);\n        return;\n      }\n      if (this.fiscalYear === '') {\n        alert(\"You have not selected the Year\");\n        return;\n      }\n      this.trade.businessDetails.createdByIDNo = sessionStorage.getItem(\"sessionIdNo\");\n      this.trade.businessDetails.createdBy = sessionStorage.getItem(\"sessionNames\");\n      const data = new FormData();\n      data.append(\"function\", \"registerBusiness\");\n      data.append(\"business\", JSON.stringify(this.trade.businessDetails));\n      data.append(\"idNo\", sessionStorage.getItem(\"idNo\"));\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.businessID = res.data.data.business.businessID;\n          this.getBusiness(false);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFloor() {\n      const data = new FormData();\n      data.append(\"function\", \"getFloor\");\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.trade.floors = res.data.data.floors;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getRoles() {\n      const data = new FormData();\n      data.append(\"function\", \"getRoles\");\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.roles = res.data.data.roles;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getTonnage() {\n      const data = new FormData();\n      data.append(\"function\", \"getTonnage\");\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.trade.tonnage = res.data.data.tonnage;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getTradeCategory() {\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", \"SBP\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.trade.tradeCategories = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getYears() {\n      const data = new FormData();\n      data.append(\"function\", \"getYears\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.years = res.data.data.years;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getTradeSubCategory(event) {\n      this.message = null;\n      const data = new FormData();\n      this.trade.businessDetails.incomeTypeID = event.target.value;\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", event.target.value);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.trade.tradeSubCategories = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedTradeSubCategory(event) {\n      //set fee and charges\n      this.selectedFeeAndCharge(event);\n      const data = JSON.parse(event.target.value);\n      this.trade.businessDetails.businessCategory = data.accountDesc;\n      this.trade.businessDetails.businessSubCategory = data.feeDescription;\n      this.trade.amount = data.unitFeeAmount;\n      this.trade.businessDetails.feeID = data.feeId;\n    },\n    //PARKING\n    getZones() {\n      const data = new FormData();\n      data.append(\"function\", \"getParkingZones\");\n      execute(data, parking).then(res => {\n        if (res.data.success) {\n          this.parking = res.data.data;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getRate() {\n      this.parking.charges = null;\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"zoneCode\", this.parking.zoneCode);\n      data.append(\"categoryCode\", this.parking.category);\n      data.append(\"durationCode\", this.parking.durationCode);\n      execute(data, parking).then(res => {\n        if (res.data.success) {\n          this.parking.charges = res.data.data.total.amount;\n          this.feesAndChargeItems = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectZone(event) {\n      const data = JSON.parse(event.target.value);\n      this.parking.zone = data;\n      this.zone = this.parking.zone.zone;\n      this.subCounty.subCountyID = this.parking.zone.subCountyID;\n      this.subCounty.subCountyName = this.parking.zone.subCountyName;\n      this.ward.wardName = this.parking.zone.wardName;\n      this.ward.wardID = this.parking.zone.wardID;\n    },\n    //BILLER\n    addCustomerToBillItem(feeId, customer) {\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === feeId) {\n          item.customer = customer;\n        }\n        return item;\n      });\n    },\n    addToBillCustomer(feeId, customer) {\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === feeId) {\n          item.customer = customer;\n        } else {\n          item.customer = \"\";\n        }\n        return item;\n      });\n      this.addToBill(this.phoneNumber);\n    },\n    selectedFeeAndCharge(event) {\n      const data = JSON.parse(event.target.value);\n      this.feeID = data.feeId;\n      this.unitFeeAmount = data.unitFeeAmount;\n      this.feesAndChargeItems = [];\n      this.feesAndChargeItems.push(data);\n      this.amount = this.quantity * this.unitFeeAmount;\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === this.feeID) {\n          item.quantity = this.quantity;\n        }\n        return item;\n      });\n    },\n    selectedHouseType(event) {\n      const houseType = JSON.parse(event.target.value);\n      this.houseItem.houseType = houseType;\n      console.log('Error: ', this.houseItem.houseType.houseTypeCode);\n      this.getFeesAndCharges();\n      this.getHouseNumbers();\n    },\n    selectedIncomeType(event) {\n      const value = event.target.value;\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId);\n    },\n    getIncomeTypes(incomeTypePrefix) {\n      this.message = null;\n      this.billingModule.incomeTypes.splice(0);\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", incomeTypePrefix);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.billingModule.incomeTypes = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndChargesBilling(incomeTypeId) {\n      this.message = null;\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.feesAndCharges = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    initMap() {\n      //closing marker details\n\n      $('.close-aside').on('click', function () {\n        $(this).parent().parent().addClass('left-100');\n        $('.ma-backdrop').addClass('d-none');\n        // marker.setAnimation(null);\n        alert('hhh');\n        // removeMarkers();\n      });\n\n      //the map options\n\n      const latitude = 0.04986230310348805;\n      const longitude = 37.64667110366901;\n      var options = {\n        zoom: 15,\n        center: {\n          lat: latitude,\n          lng: longitude\n        }\n      };\n\n      //new map\n      var map = new google.maps.Map(document.getElementById('mapView'), options);\n      var gmarkers = [];\n\n      //listen for click on  map\n\n      // the smooth zoom function not in use\n      function numberFormat(num) {\n        const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n        return britishNumberFormatter.format(num);\n      }\n      function smoothZoom(map, max, cnt) {\n        if (cnt >= max) {\n          return;\n        } else {\n          z = google.maps.event.addListener(map, 'zoom_changed', function (event) {\n            google.maps.event.removeListener(z);\n            smoothZoom(map, max, cnt + 1);\n          });\n          setTimeout(function () {\n            map.setZoom(cnt);\n          }, 80); // 80ms is what I found to work well on my system -- it might not work well on all systems\n        }\n      }\n\n      google.maps.event.addListener(map, 'dblclick', function (event) {\n        //Remove Markers\n        for (var i = 0; i < gmarkers.length; i++) {\n          gmarkers[i].setMap(null);\n        }\n\n        //add marker\n\n        addMarker({\n          coords: event.latLng\n        });\n\n        //get value of clicked coodinates\n\n        //stores coodinates of selected area\n        var newCoords = event.latLng;\n\n        // return clicked area coods\n        console.log(event.latLng);\n        console.log(newCoords.toString());\n        newCoords = newCoords.toString();\n        var Latitude;\n        var longitude;\n        longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n        Latitude = newCoords.substring(0, newCoords.indexOf(','));\n        Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n        longitude = longitude.substring(0, longitude.indexOf(')'));\n        console.log(\"Lat:\" + Latitude);\n        console.log(\"long:\" + longitude);\n        this.trade.businessDetails.lat = Latitude;\n        this.trade.businessDetails.lng = longitude;\n\n        //reverse geocoding function\n        //usses clicked coodinates to get the newly clicked llocation\n\n        smoothZoom(map, 12, map.getZoom());\n        map.setCenter(new google.maps.LatLng(Latitude, longitude));\n        reverseGeocoding(Latitude, longitude);\n\n        //opens the side bar form\n        $('#newPoint').removeClass('left-100').siblings().addClass('left-100');\n      }.bind(this));\n\n      //remove marker function\n      function removeMarkers() {\n        for (let i = 0; i < gmarkers.length; i++) {\n          gmarkers[i].setMap(null);\n        }\n      }\n      //add marker function\n      function addMarker(props, item, color) {\n        //add marker\n        var marker = new google.maps.Marker({\n          position: props.coords,\n          map: map,\n          animation: google.maps.Animation.DROP\n          // icon:props.iconImage\n        });\n\n        if (!props.content) {\n          gmarkers.push(marker);\n        }\n        if (props.iconImage) {\n          //set icon image if its there\n          marker.setIcon(props.iconImage);\n        }\n\n        // check if there is content\n        if (props.content) {\n          //set icon image if its there\n\n          var infowindow = new google.maps.InfoWindow({\n            content: props.content\n          });\n          marker.addListener('mouseover', function (e) {\n            infowindow.open(map, marker);\n            var newCoords = e.latLng;\n            newCoords = newCoords.toString();\n            // alert(newCoords);\n\n            var Latitude;\n            var longitude;\n            longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n            Latitude = newCoords.substring(0, newCoords.indexOf(','));\n            Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n            longitude = longitude.substring(0, longitude.indexOf(')'));\n            this.trade.businessDetails.lat = Latitude;\n            this.trade.businessDetails.lng = longitude;\n            reverseGeocoding(Latitude, longitude);\n            // alert(\"mouse hovered\");\n          });\n\n          marker.addListener('click', e => {\n            toggleBounce(marker);\n            this.business = item;\n            this.color = color;\n            var newCoords = e.latLng;\n            newCoords = newCoords.toString();\n            // alert(newCoords);\n\n            var Latitude;\n            var longitude;\n            longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n            Latitude = newCoords.substring(0, newCoords.indexOf(','));\n            Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n            longitude = longitude.substring(0, longitude.indexOf(')'));\n            reverseGeocoding(Latitude, longitude);\n\n            // alert(iconImage);\n            // alert( e.latLng);\n\n            //position of the clicked marker . the longitude and latitude\n            var pointPosition = e.latLng;\n\n            //gettting the image\n\n            //initializing image as empty\n            var theImage = \"assets/images/billboard-ads/no-add.jpg\";\n            console.log(infowindow.content.toString());\n\n            //checking if the content has an image\n            if (infowindow.content.includes(\"<img\")) {\n              //if it has image assign mage to\n\n              theImage = infowindow.content.substring(infowindow.content.indexOf('src=\"') + 5);\n              //the image url\n              theImage = theImage.substring(0, theImage.indexOf('\"'));\n            }\n            var theContent = infowindow.content.substr(18);\n            var theContent = theContent.substring(0, theContent.indexOf('<'));\n\n            //the group of markers eg car,incident,collection points etc\n            var theGroup = theContent.substring(0, theContent.indexOf('|'));\n\n            //the unique identifier of the clicked item eg number plate\n            var uniqueIdentifier = theContent.substring(theContent.lastIndexOf(\"|\") + 1);\n            var theCanvas = new bootstrap.Offcanvas(offcanvasExample);\n            theCanvas.show();\n          });\n\n          // close content when mouse exits\n          marker.addListener('mouseout', function () {\n            infowindow.close(map, marker);\n          });\n        }\n      }\n      var locationForm = document.getElementById('mapView');\n\n      //listen for submit\n      locationForm.addEventListener('submit', geocode);\n      function geocode(e) {\n        e.preventDefault();\n        var location = document.getElementById('location-input').value;\n        axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n          params: {\n            address: location,\n            key: 'AIzaSyBl3dCvpVQUs04SOTCHgITw4Ts79-dRcfI'\n          }\n        }).then(function (response) {\n          // log full response\n          console.log(response);\n\n          //formated address\n          var formattedAddress = response.data.results[0].formatted_address;\n          console.log(formattedAddress);\n          var formattedAddressOutput = `\n              <ul class=\"list-group\">\n                <li class=\"list-group-item\">${formattedAddress}</li>\n              </ul>\n            `;\n\n          // Address components\n          var addressComponents = response.data.results[0].address_components;\n          var addressComponentsOutput = '<ul class=\"list-group\">';\n          for (var i = 0; i < addressComponents.length; i++) {\n            addressComponentsOutput += `\n                    <li class=\"list-group-item\">\n                        <strong>${addressComponents[i].types[0]}</strong>: ${addressComponents[i].long_name}\n                    </li>\n                `;\n          }\n          addressComponentsOutput += '</ul>';\n\n          //geometry\n          var lat = response.data.results[0].geometry.location.lat;\n          var lng = response.data.results[0].geometry.location.lng;\n          var geometryOutput = `\n              <ul class=\"list-group\">\n                <li class=\"list-group-item\"><strong>Latitude:</strong> :${lat}</li>\n                <li class=\"list-group-item\"><strong>Longitude:</strong> :${lng}</li>\n              </ul>\n            `;\n\n          //output to APP\n          document.getElementById('formatted-address').innerHTML = formattedAddressOutput;\n          document.getElementById('address-components').innerHTML = addressComponentsOutput;\n          document.getElementById('geometry').innerHTML = geometryOutput;\n        }).catch(function (error) {\n          console.log(response);\n        });\n      }\n      //make the marker bounce\n      function toggleBounce(marker) {\n        if (marker.getAnimation() !== null) {\n          marker.setAnimation(null);\n        } else {\n          marker.setAnimation(google.maps.Animation.BOUNCE);\n          setTimeout(function () {\n            marker.setAnimation(null);\n          }, 750);\n        }\n      }\n      // reverse geo coding\n      function reverseGeocoding(Latitude, longitude) {\n        const KEY = \"AIzaSyBl3dCvpVQUs04SOTCHgITw4Ts79-dRcfI\";\n        const LAT = -1.270102;\n        const LNG = 36.8589333;\n        let url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${Latitude},${longitude}&key=${KEY}`;\n        fetch(url).then(response => response.json()).then(data => {\n          var reverseResultsOutput = '<ul class=\"list-group\">';\n          console.log(data);\n          var numOfResults = data.results.length;\n          var County;\n          var subCounty;\n          var street;\n          var address;\n          var ward;\n          var province;\n          var constituency;\n          for (var num = 0; num < numOfResults; num++) {\n            // let parts=data.results[i].address_components;\n            address = data.results[0].formatted_address;\n\n            // alert(num);\n            let parts = data.results[num].address_components;\n            parts.forEach(part => {\n              if (part.types.includes(\"administrative_area_level_2\")) {\n                //we found subcounty inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                subCounty = part.long_name;\n              }\n              if (part.types.includes(\"country\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n\n                Country = part.long_name;\n              }\n              if (part.types.includes(\"administrative_area_level_1\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                County = part.long_name;\n              }\n              if (part.types.includes(\"administrative_area_level_4\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                ward = part.long_name;\n              }\n              if (part.types.includes(\"administrative_area_level_4\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                ward = part.long_name;\n              }\n              if (part.types.includes(\"sublocality_level_1\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                ward = part.long_name;\n              }\n              if (part.types.includes(\"route\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                street = part.long_name;\n              }\n              if (part.types.includes(\"sublocality_level_1\")) {\n                //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                constituency = part.long_name;\n              }\n            });\n          }\n          // alert(\"ward::\"+ward);\n          // alert(\"street: \"+street);\n          // alert(\"constituency: \"+constituency);\n          // alert(\"subcounty:\"+subCounty);\n\n          $('#newPoint .clicked-ward').text(ward);\n          $('.form-map-locations .clicked-ward').text(ward).addClass('text-black').removeClass('text-danger');\n          ;\n          $('#newPoint .clicked-street').text(street);\n          $('.form-map-locations .clicked-street').text(street).addClass('text-black').removeClass('text-danger');\n          ;\n          $('#newPoint .clicked-subcounty').text(subCounty);\n          $('.form-map-locations .clicked-subcounty').text(subCounty).addClass('text-black').removeClass('text-danger');\n          $('#newPoint .clicked-address').text(address);\n          $('.form-map-locations .clicked-address').text(address).addClass('text-black').removeClass('text-danger');\n          $('.form-map-locations .form-address').val(address);\n          $('.form-map-locations .form-latitude').val(Latitude);\n          $('.form-map-locations .form-longitude').val(longitude);\n          $('.permits-asside .the-clicked-address').text(address);\n          $('.the-clicked-address').text(address);\n\n          //alert(address);\n\n          $('#plate .plate-address').text(address);\n          $('#application .plate-address').text(address);\n          $('#plate .plate-street').text(street);\n          $('#application .plate-street').text(street);\n          $('#multi-plate .plate-street').text(street);\n          $('#multi-plate .plate-address').text(address);\n          let parts = data.results[0].address_components;\n          reverseResultsOutput += `\n            <li class=\"list-group-item\"><strong>Address: </strong> :${data.results[0].formatted_address}</li>\n            `;\n          parts.forEach(part => {\n            // if(part.types.includes(\"country\")){\n            //     //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n            //     reverseResultsOutput+=`\n            //     <ul class=\"list-group\">\n            //         <li class=\"list-group-item\"><strong>Country:</strong> :${part.long_name}</li>\n            //     `;\n\n            //     document.getElementById('location-cods').innerHTML=reverseResultsOutput;\n            // }\n\n            if (part.types.includes(\"administrative_area_level_2\")) {\n              //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n              reverseResultsOutput += `\n\n                    <li class=\"list-group-item\"><strong>County: </strong> :${part.long_name}</li>\n                `;\n              document.getElementById('location-cods').innerHTML = reverseResultsOutput;\n            }\n            reverseResultsOutput += \"</ul>\";\n          });\n        }).catch(err => console.warn(err.message));\n      }\n\n      //search address starts here\n      var map;\n      var infowindow;\n      var input = document.getElementById(\"pac-input\");\n      var searchBox = new google.maps.places.SearchBox(input);\n      map.controls[google.maps.ControlPosition.TOP_LEFT].push(input); // Bias the SearchBox results towards current map's viewport.\n\n      map.addListener(\"bounds_changed\", function () {\n        searchBox.setBounds(map.getBounds());\n      });\n\n      //marker\n      var markers = [];\n      // Listen for the event fired when the user selects a prediction and retrieve\n      // more details for that place.\n\n      //this function runs when the search box is clicked\n      $('#pac-input').on('click', function () {\n        $('.map-info-cont').addClass('left-100');\n      });\n\n      //shows the close button on the search box when someone starts to search for a new place\n      $('#pac-input').on('keyup', function () {\n        removeMarkers();\n        $('.clear-map i').removeClass('d-none');\n        $('.map-info-cont').addClass('left-100');\n      });\n\n      //this function is fired up when the close button is clicked\n      // it clears the searched icons plus the search input box\n      $('.clear-map').on('click', function () {\n        $('.form-map-locations .clicked-subcounty').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        $('.form-map-locations .clicked-address').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        $('.form-map-locations .clicked-ward').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        $('.form-map-locations .clicked-street').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        const places = searchBox.getPlaces();\n        console.log(places);\n        $('.map-info-cont').addClass('left-100');\n        $('#pac-input').val(\"\");\n        $('.clear-map i').addClass('d-none');\n        removeMarkers();\n        // Clear out the old markers.\n\n        markers.forEach(marker => {\n          marker.setMap(null);\n        });\n      });\n      searchBox.addListener(\"places_changed\", () => {\n        const places = searchBox.getPlaces();\n        if (places.length == 0) {\n          return;\n        }\n\n        // Clear out the old markers.\n        markers.forEach(marker => {\n          marker.setMap(null);\n        });\n        markers = [];\n\n        // For each place, get the icon, name and location.\n        var bounds = new google.maps.LatLngBounds();\n        places.forEach(function (place) {\n          if (!place.geometry) {\n            console.log(\"Returned place contains no geometry\");\n            return;\n          }\n\n          //the icons attributes for search results\n          const icon = {\n            // url: place.icon,//adds unique marker depending on search results\n            size: new google.maps.Size(71, 71),\n            origin: new google.maps.Point(0, 0),\n            anchor: new google.maps.Point(17, 34),\n            scaledSize: new google.maps.Size(25, 25)\n          };\n\n          // Create a marker for each place.\n          var marker = new google.maps.Marker({\n            map: map,\n            title: place.name,\n            position: place.geometry.location,\n            icon: icon,\n            description: `<strong>` + place.name + `</strong><br><p class=\"text-info text-underline text-uppercase\">Click Icon To Add Businese's actual location</p>`\n          });\n          markers.push(marker);\n          var infowindow = new google.maps.InfoWindow({\n            content: marker.description\n          });\n          marker.addListener('mouseout', function () {\n            infowindow.close(map, marker);\n          });\n\n          /*  // add a hover event on the search results markers\n            google.maps.event.addListener(marker, \"mouseover\", function(e) {\n              infowindow.open(map, marker);\n              infowindow.setContent(data.description);\n               var newCoords = e.latLng;\n              newCoords = newCoords.toString();\n              // alert(newCoords);\n               var Latitude;\n              var longitude;\n              longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n              Latitude = newCoords.substring(0, newCoords.indexOf(','));\n              Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n              longitude = longitude.substring(0, longitude.indexOf(')'));\n                 reverseGeocoding(Latitude, longitude);\n              });\n            */\n          toggleBounce(marker);\n\n          //   adding marker click event\n\n          google.maps.event.addListener(marker, \"click\", function (e) {\n            var thePlace = place.name;\n            var newCoords = e.latLng;\n            newCoords = newCoords.toString();\n            var Latitude;\n            var longitude;\n            longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n            Latitude = newCoords.substring(0, newCoords.indexOf(','));\n            Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n            longitude = longitude.substring(0, longitude.indexOf(')'));\n            reverseGeocoding(Latitude, longitude);\n            $('#newPoint').removeClass('left-100').siblings().addClass('left-100');\n            var thePlaceHolder = $('.listview .selected-point-details');\n            thePlaceHolder = `\n                    <p class=\"mb-0\"><strong>The Place Name</strong></p>\n                    <p class=\"clicked-place\">${thePlace}</p>\n                    `;\n            toggleBounce(marker);\n            $('.latLngInput').val(Latitude + ',' + longitude);\n          });\n\n          //   marker click event ends here\n          if (place.geometry.viewport) {\n            // Only geocodes have viewport.\n            bounds.union(place.geometry.viewport);\n          } else {\n            bounds.extend(place.geometry.location);\n          }\n        });\n        map.fitBounds(bounds);\n\n        // console.log(places[0]);\n        // console.log(\"address components\");\n        // console.log(places[0].address_components[0]);\n        // console.log(\"######## \"+places[0].geometry.location);\n\n        this.trade.businessDetails.lat = places[0].geometry.location.lat();\n        this.trade.businessDetails.lng = places[0].geometry.location.lng();\n      });\n\n      //search address ends here\n    },\n\n    //RENTS\n    getEstates() {\n      const data = new FormData();\n      data.append(\"function\", \"getEstates\");\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.estates = res.data.data.estates;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getHouseType() {\n      const data = new FormData();\n      data.append(\"function\", \"getHouseType\");\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.houseTypes = res.data.data.houseTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getHouseNumbers() {\n      this.houseNumbers = [];\n      this.houseItem.houseNo = '';\n      const data = new FormData();\n      data.append(\"function\", \"getHouseNumbers\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.houseNumbers = res.data.data.houseNumbers;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndCharges() {\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.amount = res.data.data.total.amount;\n          this.feesAndChargeItems = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedIndex: function (item, itemIndex) {\n      this.selectedBillItem = item;\n      this.itemIndex = itemIndex;\n      this.removeFromBill();\n    },\n    removeFromBill: function () {\n      this.billItem.splice(this.itemIndex, 1);\n      this.totalAmount = this.billItem.reduce((total, item) => total + Number(item.unitFeeAmount) * Number(item.quantity), 0);\n    },\n    //Main\n    selectRevenue(event) {\n      this.selectedStream = event.target.value;\n      //alert(this.value);\n      if (this.selectedStream === \"PLANS\") {\n        //Planning\n        $('.plans-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        this.getIncomeTypes(event.target.value);\n      } else if (this.selectedStream === \"RNT\") {\n        $('.Rent-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        //RENT\n        this.getIncomeTypes(event.target.value);\n        this.getEstates();\n        this.getHouseType();\n        this.getSubCounties();\n      } else if (this.selectedStream === \"PKN\") {\n        $('.parking-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        this.getIncomeTypes(event.target.value);\n        this.getZones();\n      } else if (this.selectedStream === \"HEALTH\") {\n        //Todo change the code or add HEALTH revenue stream\n        $('.health-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"SBP\") {\n        $('.trade-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        this.getSubCounties();\n        this.getTradeCategory();\n      } else if (this.selectedStream === \"Register New Business\") {\n        $('.register-new-business').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"Renew License Business\") {\n        $('.renew-business').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"Liquor\") {\n        //Todo change the code or add LIQOUR revenue stream\n        $('.liquor-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"LR\") {\n        $('.landrate-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"Others\") {\n        $('.others-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        //Billing Module\n        this.getIncomeTypes();\n        this.getSubCounties();\n\n        // $('.rev-options-cont').children('.row').each(function(index) {\n        //     $(this).addClass('d-none')\n        // });\n      } else if (this.selectedStream === \"MONTHLY\") {\n        $('.seasonal-duration').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"DAILY\") {\n        $('.seasonal-duration').addClass(\"d-none\");\n        $('.offstreet-duration').addClass(\"d-none\");\n      } else if (this.selectedStream === \"OFFSTREET\") {\n        $('.offstreet-duration').removeClass(\"d-none\").siblings().addClass('d-none');\n      } else if (this.selectedStream === \"PENALTY\") {\n        $('.offstreet-duration').addClass(\"d-none\");\n      } else {\n        $('.others-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        this.getIncomeTypes(event.target.value);\n      }\n    },\n    getSubCounties() {\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.subCounties = res.data.data.subCounties;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getWards() {\n      this.wards = [];\n      this.ward = '';\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.wards = res.data.data.wards;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getCustomer() {\n      if (this.phoneNumber == '') {\n        this.message = \"Weka phone number bana\";\n        return;\n      }\n      const data = new FormData();\n      data.append(\"function\", \"getCustomer\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.email = res.data.data.customer.email;\n          this.customerName = res.data.data.customer.names;\n          this.email = res.data.data.customer.email;\n          var button = document.querySelector(\"#closeModalSearch\");\n          button.click();\n          this.message = null;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addCustomers() {\n      if (this.phoneNumber === '') {\n        this.message = \"Please Enter customer phone number\";\n        return;\n      }\n      if (this.customerName === '') {\n        this.message = \"Please Enter customer name\";\n        return;\n      }\n      const data = new FormData();\n      data.append(\"function\", \"addCustomers\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      data.append(\"email\", this.email);\n      data.append(\"names\", this.customerName);\n      data.append(\"createdBy\", sessionStorage.getItem(\"sessionNames\"));\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          var button = document.querySelector(\"#closeAddCustomerModal\");\n          button.click();\n          this.message = null;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getMainStreams() {\n      const data = new FormData();\n      data.append('function', 'getMainStreams');\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.streams.splice(0);\n          this.streams = res.data.data.streams;\n\n          // Preselection logic\n          this.streams.forEach((value, index) => {\n            if (this.zoneCategory === value.stream) {\n              this.stream = this.streams[index];\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getMainStreams2() {\n      const data = new FormData();\n      data.append(\"function\", \"getMainStreams\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.streams.splice(0);\n          this.streams = res.data.data.streams;\n          //preselection\n          this.streams.forEach((value, index) => {\n            // console.log(JSON.stringify(this.selectedZone))\n            console.log(`${this.ZoneCategory} ::: ${value.stream}`);\n            if (this.zoneCategory === value.stream) {\n              this.stream = this.streams[index];\n            }\n          });\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    addToBill(revenueStreamItem) {\n      for (const {\n        typeDescription,\n        feeId,\n        feeDescription,\n        unitFeeAmount,\n        accountNo,\n        costCenterNo,\n        incomeTypeId,\n        customer,\n        quantity\n      } of this.feesAndChargeItems) {\n        this.billItem.push({\n          fiscalYear: this.fiscalYear,\n          typeDescription,\n          feeDescription,\n          quantity,\n          unitFeeAmount: unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId,\n          amount: unitFeeAmount * quantity,\n          customer: customer,\n          zone: this.zone,\n          subCountyID: this.subCounty.subCountyID,\n          subCountyName: this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.description\n        });\n      }\n      this.totalAmount = this.billItem.reduce((total, item) => total + Number(item.unitFeeAmount) * Number(item.quantity), 0);\n    },\n    generateBill() {\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data, biller).then(res => {\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'bill'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        });\n        const routeData = this.$router.resolve({\n          name: 'receipt'\n        });\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod() {\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n    },\n    showTransactionSummary(paymentMode) {\n      this.paymentData.paymentMode = paymentMode;\n      if (paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false;\n    },\n    makePayment() {\n      if (this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n      execute(data, stream).then(res => {\n        if (res.data.success) {\n          this.paymentMethod = false;\n          this.paymentPanel = false;\n          //start checking payment\n          this.timer = setInterval(() => {\n            this.checkPayment();\n          }, 3000);\n        } else {\n          this.rate = null;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1;\n      if (this.randomNumber === 1) {\n        this.message = \"Waiting for payment.\";\n      }\n      if (this.randomNumber === 2) {\n        this.message = \"Waiting for payment..\";\n      }\n      if (this.randomNumber === 3) {\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = null;\n          clearInterval(this.timer);\n          this.receipt = true;\n          this.paymentData.success = false;\n          this.transaction = res.data.data.transaction;\n          this.receiptDetails = res.data.data.receipt.receiptDetails;\n          //Close the modal\n          this.transactionSummary = false;\n          this.transactionCompleted = true;\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    }\n  }\n};","map":{"version":3,"names":["NavigationBar","execute","biller","rent","parking","trade","$","Multiselect","ref","vSelect","name","components","data","selectedValue","options","label","value","zone","feeID","plotNO","fiscalYear","quantity","billGenerated","billNo","payBillNo","amount","success","confirmCash","phoneNumber","customerName","email","transactionCompleted","transactionSummary","paymentPanel","paymentMethod","billDetails","id","incomeTypeID","incomeTypeDescription","costCenterNo","accountNo","detailAmount","receiptAmount","billBalance","wardID","subCountyID","status","dateCreated","billInfo","briefDescription","subCounty","subCountyName","ward","wardName","houseItem","estate","houseType","houseTypeCode","houseNo","houseNumberCode","houseNumber","estateCode","estateName","revenueStreamItem","selectedBillItem","itemIndex","description","unitFeeAmount","estates","houseTypes","houseNumbers","subCounties","wards","billItem","feesAndChargeItems","feeId","feeDescription","unitOfMeasure","incomeTypeId","feeType","accountDesc","typeDescription","customer","feesAndCharges","totalAmount","paymentData","bankReceiptNo","accNo","paymentMode","sessionNames","sessionIdNo","sessionPhoneNumber","timer","randomNumber","receiptDetails","receiptNo","currency","source","transactionCode","paidBy","dateModified","createdBy","modifiedBy","isActive","receiptInfos","billTotal","clientPhoneNo","receiptDate","printCount","printedBy","updated","billingModule","incomeType","incomeTypePrefix","fundDescription","incomeTypes","selectedStream","numberPlate","zones","categories","durations","category","zoneCode","durationCode","charges","lat","lng","zoneCategory","zoneCategoryID","position","message","businessID","tonnage","floors","tradeCategories","departmentID","tradeSubCategories","prorated","duration","businessDetails","businessName","plotNumber","physicalAddress","buildingName","buildingOccupancy","floorNo","roomNo","premiseSize","numberOfEmployees","businessDes","businessCategory","businessSubCategory","businessEmail","postalAddress","postalCode","businessPhone","contactPersonNames","contactPersonIDNo","businessRole","contactPersonPhone","contactPersonEmail","fullNames","ownerID","ownerPhone","ownerEmail","kraPin","createdByIDNo","streams","stream","roles","role","watch","sessionStorage","getItem","getWards","alert","getBusiness","map","item","addCustomerToBillItem","mounted","getMainStreams","getYears","getSubCounties","getFloor","getTonnage","getRoles","menuAccess","initMap","button","document","querySelector","click","methods","FormData","append","then","catch","renewal","res","splice","business","addToBill","e","registerBusiness","JSON","stringify","getTradeCategory","years","getTradeSubCategory","event","target","selectedTradeSubCategory","selectedFeeAndCharge","parse","getZones","getRate","total","selectZone","addToBillCustomer","push","selectedHouseType","console","log","getFeesAndCharges","getHouseNumbers","selectedIncomeType","result","getFeesAndChargesBilling","getIncomeTypes","on","parent","addClass","latitude","longitude","zoom","center","google","maps","Map","getElementById","gmarkers","numberFormat","num","britishNumberFormatter","Intl","NumberFormat","format","smoothZoom","max","cnt","z","addListener","removeListener","setTimeout","setZoom","i","length","setMap","addMarker","coords","latLng","newCoords","toString","Latitude","substring","lastIndexOf","indexOf","getZoom","setCenter","LatLng","reverseGeocoding","removeClass","siblings","bind","removeMarkers","props","color","marker","Marker","animation","Animation","DROP","content","iconImage","setIcon","infowindow","InfoWindow","open","toggleBounce","pointPosition","theImage","includes","theContent","substr","theGroup","uniqueIdentifier","theCanvas","bootstrap","Offcanvas","offcanvasExample","show","close","locationForm","addEventListener","geocode","preventDefault","location","axios","get","params","address","key","response","formattedAddress","results","formatted_address","formattedAddressOutput","addressComponents","address_components","addressComponentsOutput","types","long_name","geometry","geometryOutput","innerHTML","error","getAnimation","setAnimation","BOUNCE","KEY","LAT","LNG","url","fetch","json","reverseResultsOutput","numOfResults","County","street","province","constituency","parts","forEach","part","Country","text","val","err","warn","input","searchBox","places","SearchBox","controls","ControlPosition","TOP_LEFT","setBounds","getBounds","markers","getPlaces","bounds","LatLngBounds","place","icon","size","Size","origin","Point","anchor","scaledSize","title","thePlace","thePlaceHolder","viewport","union","extend","fitBounds","getEstates","getHouseType","selectedIndex","removeFromBill","reduce","Number","selectRevenue","getCustomer","names","addCustomers","index","getMainStreams2","ZoneCategory","idNo","customerPhoneNumber","generateBill","bill","printBill","localStorage","routeData","$router","resolve","window","href","printReceipt","showPaymentMethod","showTransactionSummary","makePayment","startsWith","setInterval","checkPayment","rate","Math","floor","random","clearInterval","receipt","transaction"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/biller/meru-biller/src/components/NewBill.vue"],"sourcesContent":["<template>\n  <div>\n    <head>\n      <!-- App favicon -->\n      <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n\n      <link href=\"assets/libs/select2/css/select2.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n      <link href=\"assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n      <link href=\"assets/libs/spectrum-colorpicker2/spectrum.min.css\" rel=\"stylesheet\" type=\"text/css\">\n      <link href=\"assets/libs/bootstrap-timepicker/css/bootstrap-timepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n      <link href=\"assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n      <link rel=\"stylesheet\" href=\"assets/libs/%40chenfengyuan/datepicker/datepicker.min.css\">\n\n\n\n      <!-- Bootstrap Css -->\n      <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n      <!-- Bootstrap select styling -->\n      <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n      <!-- Icons Css -->\n      <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n      <!-- App Css-->\n      <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n      <!-- custom Css-->\n      <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n\n\n\n\n    </head>\n\n    <body @contextmenu.prevent data-sidebar=\"dark\">\n\n    <!-- <body data-layout=\"horizontal\" data-topbar=\"dark\"> -->\n    <!-- Loader -->\n    <!--  <div id=\"preloader\">\n        <div id=\"status\">\n          <div class=\"spinner-chase\">\n            <div class=\"chase-dot\"></div>\n            <div class=\"chase-dot\"></div>\n            <div class=\"chase-dot\"></div>\n            <div class=\"chase-dot\"></div>\n            <div class=\"chase-dot\"></div>\n            <div class=\"chase-dot\"></div>\n          </div>\n        </div>\n      </div>-->\n    <!-- Begin page -->\n\n    <!-- Begin page -->\n    <div id=\"layout-wrapper\">\n\n      <NavigationBar/>\n\n      <!-- Editing bill details -->\n      <div class=\"modal fade \" id=\"editModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n        <div class=\"modal-dialog modal-dialog-centered \">\n          <div class=\"modal-content \">\n            <div class=\"modal-header border-bottom-0 \">\n              <h4>Edit Bill item details</h4>\n              <button type=\"button \" class=\"btn-close \" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body \">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Income Type</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Account Name</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\">\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\">\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\">\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Details</label>\n                    <textarea name=\"\" id=\"\" cols=\"30\" rows=\"3\" placeholder=\"More details\" class=\"form-control\"></textarea>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer d-flex\">\n              <button class=\"btn btn-primary flex-grow-1\">Done</button>\n              <button class=\"btn btn-light\" data-dismiss=\"modal\">Close</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- edditing bill item details -->\n\n      <!-- Offender email address -->\n      <div class=\"modal fade \" id=\"subscribeModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n        <div class=\"modal-dialog modal-dialog-centered \">\n          <div class=\"modal-content \">\n            <div class=\"modal-header border-bottom-0 \">\n              <button type=\"button \" class=\"btn-close d-none\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body \">\n              <div class=\"text-center mb-4 \">\n                <div class=\"avatar-md mx-auto mb-4 \">\n                  <div class=\"avatar-title bg-light rounded-circle text-primary h1 \">\n                    <i class=\"mdi mdi-card-account-phone-outline \"></i>\n                  </div>\n                </div>\n\n                <div v-if=\"message!==null\" class=\"alert alert-danger\" role=\"alert\">\n                  {{message}}\n                </div>\n\n\n                <div class=\"row justify-content-center \">\n                  <div class=\"col-xl-10 \">\n                    <h4 class=\"text-primary \">Client's Phone No..</h4>\n                    <p class=\"text-muted font-size-14 mb-4 \">\n                      Enter the client's Phone Number to continue.\n                    </p>\n\n                    <form>\n                      <div class=\"row \">\n                        <div class=\"col-12 \">\n                          <div class=\"mb-3 \">\n                            <label for=\"digit1-input \" class=\"visually-hidden \">ID Number</label>\n                            <input v-model=\"phoneNumber\" type=\"text \" class=\"form-control form-control-lg text-center two-step \" placeholder=\"Enter Client Phone Number\">\n                          </div>\n                        </div>\n                      </div>\n                      <button @click=\"getCustomer()\"  type=\"button\" class=\"btn btn-primary btn-block w-100 \">\n                        <i class=\"bx bx-search-alt-2 font-size-16 align-middle me-2 \"></i>\n                        Search\n                      </button>\n\n                      <!-- this is to be hidden afte rimplimenting it. It s meannt to be shown incase the said user is not yet registered -->\n                      <button  data-toggle=\"modal\" data-target=\"#registerCustomer\" data-dismiss=\"modal\" type=\"button\" class=\"btn btn-light btn-block w-100  mt-3\">\n                        Register User\n                      </button>\n\n                      <button style=\"display: none\" data-toggle=\"modal\" data-dismiss=\"modal\" type=\"button\" id=\"closeModalSearch\" >\n                        close\n                      </button>\n\n                    </form>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Offender's email address -->\n\n      <!-- customer registration -->\n      <div class=\"modal fade \" id=\"registerCustomer\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n        <div class=\"modal-dialog modal-dialog-centered \">\n          <div class=\"modal-content \">\n            <div class=\"modal-header border-bottom-0 \">\n              <button type=\"button \" class=\"btn-close d-none\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body \">\n              <div class=\"text-center mb-4 \">\n                <div class=\"avatar-md mx-auto mb-4 \">\n                  <div class=\"avatar-title bg-light rounded-circle text-primary h1 \">\n                    <i class=\"mdi mdi-account-multiple-plus \"></i>\n                  </div>\n                </div>\n\n                <div v-if=\"message!==null\" class=\"alert alert-danger\" role=\"alert\">\n                  {{message}}\n                </div>\n\n                <div class=\"row justify-content-center \">\n                  <div class=\"col-xl-10 \">\n                    <h4 class=\"text-primary text-capitalize\">New Client Registration</h4>\n                    <p class=\"text-muted font-size-14 mb-4 \">\n                      Fill In the details below to continue\n                    </p>\n\n                    <form>\n                      <div class=\"row \">\n                        <div class=\"col-12 \">\n                          <div class=\"mb-3 \">\n                            <label for=\"digit1-input \" class=\"visually-hidden \">Full Names</label>\n                            <input v-model=\"customerName\" type=\"text \" class=\"form-control  text-center two-step \" placeholder=\"Full Names\">\n                          </div>\n                        </div>\n\n                        <div class=\"col-12 \">\n                          <div class=\"mb-3 \">\n                            <label for=\"digit1-input \" class=\"visually-hidden \">Email</label>\n                            <input v-model=\"email\" type=\"text \" class=\"form-control  text-center two-step \" placeholder=\"Email\">\n                          </div>\n                        </div>\n\n                        <div class=\"col-12 \">\n                          <div class=\"mb-3 \">\n                            <label for=\"digit1-input \" class=\"visually-hidden \">Phone Number</label>\n                            <input v-model=\"phoneNumber\" type=\"text \" class=\"form-control  text-center two-step \" placeholder=\"Phone Number\">\n                          </div>\n                        </div>\n                      </div>\n\n                      <button @click=\"addCustomers()\" type=\"button\" class=\"btn btn-success btn-block w-100 \">\n                        <i class=\"mdi-account-multiple-plus mdi font-size-16 align-middle me-2 \"></i>\n                        Register Client\n                      </button>\n                      <button style=\"display: none\" id=\"closeAddCustomerModal\"  data-dismiss=\"modal\" type=\"button\" class=\"btn btn-success btn-block w-100 \">\n                        close\n                      </button>\n\n                    </form>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- customer registration -->\n\n      <!-- payment modal -->\n      <div class=\"modal fade\" id=\"payment-modal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header d-none\">\n              <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n              </button>\n\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n                <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n                </button>\n              </div>\n\n              <div class=\"payment-panel-parent\">\n\n                <div v-if=\"paymentPanel\" class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4 pb-4 pt-4\">\n                    <img src=\"assets/images/bills.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-black fw-bold\">{{message}}</h4>\n                  <p class=\"text-muted mb-4\">The bill has been created Successfully, you can print the bill or opt to receive payment for this bill.</p>\n                  <div class=\"d-flex w-100 pb-2\">\n                    <button @click=\"showPaymentMethod()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                      <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                      Receive Payment\n                    </button>\n                    <a @click=\"printBill()\" target=\"_blank\" data-dismiss=\"\" type=\"button\" class=\"btn btn-outline-secondary waves-effect dismin-modal\">Print Bill</a>\n                  </div>\n                </div>\n\n                <div v-if=\"paymentMethod\" class=\"send-method payment-panel \">\n                  <label for=\"\" class=\"mb-0 pb-0\">Payment Method</label>\n                  <p><small class=\"text-muted\">How would you like to send this money?</small></p>\n\n                  <div>\n                    <div class=\"accordion\" id=\"accordionExample\">\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingOne\">\n                          <button class=\"accordion-button fw-medium\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/mpesa.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">MPESA</p>\n                              <p class=\"mb-0 p-0\"> <small>A payment request will be sent directly to the customer</small></p>\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseOne\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div>\n                              <p>\n                                A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to the MPESA number you enter below.\n                              </p>\n                            </div>\n                            <div class=\"form-group\">\n                              <label for=\"\">MPESA Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"phoneNumber\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Phone No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('MPESA')\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                                <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                                Send Payment Request\n                              </button>\n\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"accordion-item\">\n                        <h2 class=\"accordion-header\" id=\"headingThree\">\n                          <button class=\"accordion-button fw-medium collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                            <div class=\"flex-shrink-0 me-3\">\n                              <img class=\"rounded-circle\" src=\"assets/images/users/money.jpg\" alt=\"Mobile Money\" height=\"65\">\n                            </div>\n                            <div class=\"d-flex flex-column\">\n                              <p class=\"m-0 p-0 text-uppercase fw-semibold\">bank Receipting</p>\n                              <p class=\"mb-0 p-0\"> <small>Enter the receipt number here to confirm payment for this transaction.</small></p>\n\n\n                            </div>\n                          </button>\n                        </h2>\n                        <div id=\"collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\">\n                          <div class=\"accordion-body\">\n                            <div class=\"form-group\">\n                              <label for=\"\">Enter The Bank's Receipt Number</label>\n                              <div class=\"form-floating mb-3\">\n                                <input v-model=\"paymentData.bankReceiptNo\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                                <label for=\"floatingnameInput\">Bank Ref No.</label>\n                              </div>\n\n                              <button @click=\"showTransactionSummary('BANK')\" class=\"btn w-100 btn-warning mt-3 btn-bank\">\n                                Continue\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <div v-if=\"transactionSummary\" class=\"transaction-summary payment-panel\">\n                  <label for=\"\">Transaction Breakdown</label>\n                  <div class=\"border p-4 rounded \">\n                    <div class=\"row\">\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted \">\n                          BillO NO.\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetails.billNo}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Bill For\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{billDetails.incomeTypeDescription}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Payment Method\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          {{paymentData.paymentMode}}\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6\">\n                        <div class=\"text-muted mt-2\">\n                          Transaction Amount\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end\">\n                        <div class=\" text-right text-black\">\n                          KES {{billDetails.billBalance}}\n                        </div>\n                      </div>\n\n\n                      <div class=\"col-12 text-black\"><hr class=\"mb-0 pb-0\"></div>\n\n                      <div class=\"col-lg-6 text-uppercase\">\n                        <div class=\"text-muted mt-2 font-21\">\n                          Total\n                        </div>\n                      </div>\n\n                      <div class=\"col-lg-6 align-self-end text-uppercase\">\n                        <div class=\" text-right text-black font-21 fw-bold\">\n                          KES {{billDetails.billBalance}}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"mpesa-confirmation \">\n                      <div v-if=\"paymentData.paymentMode=='MPESA'\">\n                        <p class=\"text-muted mt-2\">A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to <strong class=\"text-black\"> phone number ({{ phoneNumber }})</strong> soon after you click the <strong class=\"text-black text-capitalize\">Send Request</strong> button bellow.\n                          <br>\n                          <br>\n                          Remember to <strong class=\"text-black\">Check your phone</strong> to confirm payment by entering your Mpesa pin.</p>\n                      </div>\n\n                      <div>{{message}}  </div>\n                      <br>\n                      <button @click=\"makePayment()\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect btn-send waves-light text-center w-100\">\n                        <div class=\"d-flex justify-content-center align-items-center\">\n                          <div class=\"stk-timer-container d-none justify-content-center align-items-center\">\n                            <span class=\"mdi mdi-timer-outline font-16px\"></span>\n                            <span class=\"stk-timer px-2\"></span>\n                          </div>\n                          <div class=\"justify-content-center align-items-center d-flex\">\n                            <span class=\"px-2\">Send Request</span>\n                            <div class=\"flip-x\"><i class=\"mdi mdi-reply ms-3 font-16px\"></i></div>\n                          </div>\n                        </div>\n                      </button>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                <div v-if=\"transactionCompleted\" class=\"text-center d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                  <div class=\"success-image mb-4\">\n                    <img src=\"assets/images/payment-confirmation-images/sent.svg\" height=\"200\" alt=\"\">\n                  </div>\n                  <h4 class=\"text-blink-primary fw-bold\">Transaction Complete</h4>\n                  <p class=\"text-muted mb-4\"><strong class=\"text-black\">KES {{receiptDetails.receiptAmount}}</strong> has been received for <strong class=\"text-black\">Bill No. {{receiptDetails.billNo}}</strong></p>\n                  <button @click=\"printReceipt()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                    <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                    Print Receipt\n                  </button>\n                </div>\n\n\n\n              </div>\n            </div>\n            <div class=\"modal-footer d-flex d-none bill-modal-footer\">\n              <button href=\"javascript: void(0);\" disabled class=\"btn btn-outline-light waves-effect waves-light payment-prev\"> <i class=\"mdi mdi-arrow-left ms-1\"></i>Previouse</button>\n              <button href=\"javascript: void(0);\" class=\"btn btn-primary waves-effect waves-light payment-next\">Next <i class=\"mdi mdi-arrow-right ms-1\"></i></button>\n              <button href=\"javascript: void(0);\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect waves-light text-center d-none\">\n                <div class=\"d-flex justify-content-center align-items-center\"> <span>Send Money</span> <div class=\"flip-x\"><i class=\"mdi mdi-reply flip-x ms-3 font-16px\"></i></div></div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- end of payment modal -->\n\n      <!-- new food hygine -->\n      <div class=\"modal fade\" id=\"new-food-hygene\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Food hygine Certificate Application</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Business ID</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business ID\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Business Name</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business Name\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">PIN Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"KRA Pin Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Plot Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter plot Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Phone Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Email Address</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">PO Box</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Town</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-xl-12 col-sm-12\">\n                  <div class=\"mt-4\">\n                    <h5 class=\"font-size-14 mb-4 text-capitalize\">Check where necessary</h5>\n                    <div class=\"form-check mb-3\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios1\" checked=\"\">\n                      <label class=\"form-check-label\" for=\"formRadios1\">\n                        This application has been approved\n                      </label>\n                    </div>\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios2\">\n                      <label class=\"form-check-label\" for=\"formRadios2\">\n                        This application is provisional\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-primary w-100\">Create Certificate</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- new food hygiene -->\n      <!-- new food handler certiifictae application -->\n      <div class=\"modal fade\" id=\"new-food-handler\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Food Handler Certificate Application</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">First Name</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter first name\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Other Name(s)</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Other Names\">\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">ID Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter ID Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Phone Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Email Address</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                  </div>\n                </div>\n\n\n\n                <div class=\"col-xl-12 col-sm-12\">\n                  <div class=\"mt-4\">\n                    <h5 class=\"font-size-14 mb-4 text-capitalize\">Gender</h5>\n                    <div class=\"d-flex\">\n                      <div class=\"form-check mb-3 pr-4\">\n                        <input class=\"form-check-input\" type=\"radio\" name=\"Gender\" id=\"gender-male\" checked=\"\">\n                        <label class=\"form-check-label\" for=\"gender-male\">\n                          Male\n                        </label>\n                      </div>\n                      <div class=\"form-check\">\n                        <input class=\"form-check-input\" type=\"radio\" name=\"Gender\" id=\"gender-female\">\n                        <label class=\"form-check-label\" for=\"gender-female\">\n                          Female\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Applicant's subcounty\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Applicant's Ward\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-primary w-100\">Create license</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- new food handlers certifacate application -->\n\n\n      <!-- new business application -->\n      <div class=\"modal fade\" id=\"new-business\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">New SBP Application</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div v-if=\"message!==null\" class=\"alert alert-danger\" role=\"alert\">\n              {{message}}\n            </div>\n            <div class=\"modal-body steps-container\">\n              <div class=\"row the-step biz-info active\">\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Select Year</label>\n\n                    <select v-model=\"fiscalYear\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in years\" :value=\"item.year\" :key=\"index\">\n                        {{ item.year }}\n                      </option>\n                    </select>\n\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                    <p class=\"fw-semibold mb-0 pb-0\">Business Owner</p>\n                  </div>\n                </div>\n                <div class=\"col-8\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Full Name <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.fullNames\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Owner's Full Names\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Owner's ID Number <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.ownerID\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Owner's ID Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Owner's Phone No. <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.ownerPhone\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Owner's Phone No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Email</label>\n                    <input v-model=\"trade.businessDetails.ownerEmail\" type=\"email\" class=\"form-control\" id=\"\"  placeholder=\"Owner's Email address\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">KRA Pin</label>\n                    <input v-model=\"trade.businessDetails.kraPin\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Owner's KRA Pin\">\n                  </div>\n                </div>\n\n              </div>\n\n              <div class=\"row the-step biz-additional-info d-none\">\n\n                <div class=\"col-12\">\n                  <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                    <p class=\"fw-semibold mb-0 pb-0\">Business Details</p>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Business Name {{trade.businessDetails.lat}} </label>\n                    <input v-model=\"trade.businessDetails.businessName\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Business Name\">\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"\">\n                    <div class=\"card-header bg-white boarder-bottom-1 d-none\">\n                      <div class=\"row d-flex justify-content-between\">\n                        <div class=\"col-12\">\n                          <div class=\"search-box mb-2 me-2\">\n                            <div class=\"position-relative\">\n                              <input type=\"text\" class=\"form-control bg-light border-light rounded map-searcher\" id=\"pac-inpu\" placeholder=\"Search for location\">\n                              <i class=\"bx bx-search-alt search-icon\"></i>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                    <div class=\"\" style=\"height: 350px;\">\n                      <div id=\"mapView\" class=\"w-100 mt-1 h-100 live-map-cont main-map-container\"></div>\n\n                    </div>\n\n                  </div>\n\n                  <div class=\"\">\n                    <div class=\"position-relative \">\n                      <!-- map serach input box -->\n                      <div class=\"form-group map-searcher mt-3 pt-3\">\n                        <input type=\"text\" class=\"form-control form-control-lg text-black\" placeholder=\"Search for a location\" id=\"pac-input\">\n                        <button title=\"Clear search results\" class=\"btn btn-transparent border-0 clear-map\"><i class=\"mdi mdi-close d-none\"></i></button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Sub County.</label>\n                    <select v-model=\"subCounty\" class=\"form-control  bg-white\" title=\"Select Sub County\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                        {{ item.subCountyName }}\n                      </option>\n                    </select>\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Ward</label>\n                    <select v-model=\"ward\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                        {{ item.wardName }}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Plot No.</label>\n                    <input v-model=\"trade.businessDetails.plotNumber\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Plot No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Business Premises Nature</label>\n\n                    <select v-model=\"trade.businessDetails.buildingOccupancy\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                      <option value=\"Occupies Section In building\">Occupies Section In building</option>\n                      <option value=\"Occupies Entire Building\">Occupies Entire Building</option>\n                      <option value=\"Mobile Business\">Mobile Business</option>\n                    </select>\n\n                  </div>\n                </div>\n\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Floor Number </label>\n                    <select v-model=\"trade.businessDetails.floorNo\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in trade.floors\" :value=\"item.floor\" :key=\"index\">\n                        {{ item.floor }}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Room Number</label>\n                    <input v-model=\"trade.businessDetails.roomNo\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Room No\">\n                  </div>\n                </div>\n\n\n              </div>\n\n              <div class=\"row the-step biz-owner d-none\">\n\n                <div class=\"col-12\">\n                  <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                    <p class=\"fw-semibold mb-0 pb-0\">Business contact information</p>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Company's Email address <span class=\"text-danger fw-bold\"></span></label>\n                    <input v-model=\"trade.businessDetails.businessEmail\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter email\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Postal address <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.postalAddress\" type=\"email\" class=\"form-control\" id=\"\"  placeholder=\"Enter Postal address *\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Postal Code <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.postalCode\" type=\"email\" class=\"form-control\" id=\"\"  placeholder=\"Postal Code\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Company's Phone No. <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.businessPhone\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Company's Phone No.\">\n                  </div>\n                </div>\n\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Physical Address <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.physicalAddress\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter physical Address\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Building Name<span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.buildingName\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Building Name\">\n                  </div>\n                </div>\n\n\n                <div class=\"col-12\">\n                  <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                    <p class=\"fw-semibold mb-0 pb-0\">Contact Person</p>\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Contact Person's Full names</label>\n                    <input v-model=\"trade.businessDetails.contactPersonNames\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter full Names\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Contact Person's ID No.</label>\n                    <input v-model=\"trade.businessDetails.contactPersonIDNo\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter ID No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Person's Role</label>\n\n\n\n                    <select v-model=\"trade.businessDetails.businessRole\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in roles\" :value=\"item.floor\" :key=\"index\">\n                        {{ item.role }}\n                      </option>\n                    </select>\n\n\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Contact Person's Email address</label>\n                    <input v-model=\"trade.businessDetails.contactPersonEmail\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"ie email@email.com\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Contact Person's mobile number</label>\n                    <input v-model=\"trade.businessDetails.contactPersonPhone\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"ie 07....\">\n                  </div>\n                </div>\n\n\n              </div>\n\n              <div class=\"row the-step biz-activity d-none\">\n\n                <div class=\"col-12\">\n                  <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                    <p class=\"fw-semibold mb-0 pb-0\">Business Activity information</p>\n                  </div>\n                </div>\n\n\n\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Business Categories</label>\n                    <select @change=\"getTradeSubCategory($event)\" class=\"form-control bg-white\" title=\"Select Business Activity\" data-live-search=\"true\" >\n                      <option value=\" \">Select Options</option>\n                      <option v-for=\"(item, index) in trade.tradeCategories\" :value=\"item.incomeTypeId\" :key=\"index\">\n                        {{ item.incomeTypeDescription }}\n                      </option>\n                    </select>\n\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Business establishment Type</label>\n                    <select @change=\"selectedTradeSubCategory($event)\" class=\"form-control bg-white\" title=\"Select Sub Categories\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in trade.tradeSubCategories\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                        {{ item.feeDescription }} KES {{item.unitFeeAmount}}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n\n                <!--  <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                  <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                    {{ item.feeDescription }}\n                  </option>\n                </select>-->\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Activity Description <span class=\"text-danger fw-bold\">*</span></label>\n                    <input v-model=\"trade.businessDetails.businessDes\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Eg retail shop for  general goods\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Premises Size (M<sup>2</sup>)</label>\n                    <input v-model=\"trade.businessDetails.premiseSize\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Premises Size\">\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Vehicle Tonage</label>\n                    <select v-model=\"trade.businessDetails.tonnage\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                      <option v-for=\"(item, index) in trade.tonnage\" :value=\"item.tonnage\" :key=\"index\">\n                        {{ item.tonnage }}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-4\">\n                  <div class=\"mb-3\">\n                    <label for=\"\" class=\"form-label\">Number Of Employees</label>\n                    <input v-model=\"trade.businessDetails.numberOfEmployees\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Number Of Employees\">\n                  </div>\n                </div>\n\n                <div class=\"col-12 mt-4\">\n                  <div class=\"bg-warning border-2 bg-soft p-3 mb-4\">\n                    <p class=\"mb-0 pb-0\">Computed Amount</p>\n                    <P><h4 class=\"fw-semibold mb-0 pb-0\">KES {{trade.amount}}</h4></P>\n\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"d-flex modal-next-prev-container\">\n                <button type=\"button\" class=\"btn btn-outline-secondary btn-prev waves-effect waves-effect waves-light me-3\">\n                  <i class=\"bx bx-left-arrow-alt font-size-16 align-middle me-2\"></i> Previouse\n                </button>\n\n                <button type=\"button\" class=\"btn btn-primary waves-effect waves-effect waves-light btn-next\">\n                  Next <i class=\"bx bx-right-arrow-alt font-size-16 align-middle me-2\"></i>\n                </button>\n\n                <button @click=\"registerBusiness()\" data-dismiss=\"modal\" type=\"button\" class=\"btn btn-submit btn-success d-none ml-3 ms-3 waves-effect waves-effect waves-light btn-next\">\n                  <i class=\"bx bx-check-double font-size-16 align-middle me-2\"></i> Submit Application\n                </button>\n\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- new business application -->\n\n      <!-- new liquor license -->\n      <div class=\"modal fade\" id=\"new-liquore-license\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Liquore License Application</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Business ID</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business ID\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Business Name</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business Name\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">KRA PIN Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"KRA Pin Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Plot Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter plot Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Phone Number</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Email Address</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">PO Box</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Town</label>\n                    <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-email-input\" class=\"form-label\">Physical Address</label>\n                    <textarea name=\"\" id=\"\" class=\"form-control\" placeholder=\"Enter the physical Address\" cols=\"30\" rows=\"\"></textarea>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-6\">\n                  <div class=\"mb-3\">\n                    <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                    <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                      <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                      <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"col-xl-12 col-sm-12\">\n                  <div class=\"mt-4\">\n                    <h5 class=\"font-size-14 mb-4 text-capitalize\">Check where necessary</h5>\n                    <div class=\"form-check mb-3\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios1\" checked=\"\">\n                      <label class=\"form-check-label\" for=\"formRadios1\">\n                        This application has been approved\n                      </label>\n                    </div>\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios2\">\n                      <label class=\"form-check-label\" for=\"formRadios2\">\n                        This application is provisional\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-primary w-100\">Submit Application</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n      <!-- ============================================================== -->\n      <!-- Start right Content here -->\n      <!-- ============================================================== -->\n      <div id=\"content\" class=\"content-minimize\">\n\n        <div class=\"page-content\">\n          <div class=\"container-fluid\">\n\n            <!-- start page title -->\n            <div class=\"row\">\n              <div class=\"col-12\">\n                <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                  <h4 class=\"mb-sm-0 font-size-18 text-capitalize\">Create New Bill</h4>\n\n                  <div class=\"page-title-right\">\n                    <ol class=\"breadcrumb m-0\">\n                      <li class=\"breadcrumb-item\"><a href=\"index.html\">Home</a></li>\n                      <li class=\"breadcrumb-item active\">New Bill</li>\n                    </ol>\n                  </div>\n\n                </div>\n              </div>\n            </div>\n            <!-- end page title -->\n\n            <!-- eTransactions table -->\n\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <div class=\"card bill-creater-module\">\n                  <div class=\"card-body \">\n                    <div class=\"row\">\n                      <div class=\"col-12\">\n                        <div class=\"p-4 bg-light mb-4\">\n                          <div class=\"row d-flex justify-content-between align-items-center\">\n                            <div class=\"col-12 d-flex justify-content-between  align-items-center\">\n                              <div class=\"d-fle\">\n                                <p class=\"mb-0 fw-semibold text-uppercase pb-0\"><a href=\"#\">Client Details</a></p>\n\n                              </div>\n                              <div class=\"\">\n                                <div class=\"mb-0 d-flex justify-content-between align-items-center \">\n                                  <button class=\"btn btn-success btn-sm\"  data-toggle=\"modal\" data-target=\"#subscribeModal\">Select A different Client</button>\n                                </div>\n                              </div>\n                            </div>\n                            <div class=\"col-12\">\n                              <hr>\n                            </div>\n\n\n                            <div class=\"col-12\">\n                              <div class=\"row\">\n                                <div class=\"col-4 col-sm-12 col-md-4 d-none\">\n                                  <div class=\"d-flex\">\n                                    <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                      <i class=\"mdi mdi-card-account-details-outline  h2 text-dark\"></i>\n                                    </div>\n                                    <div class=\"flex-grow-1\">\n                                      <p class=\"text-muted mb-0\">ID No.</p>\n                                      <h5 class=\"mb-0 font-14px\"><span>12345678</span></h5>\n                                    </div>\n                                  </div>\n                                </div>\n                                <div class=\"col-4 col-sm-12 col-md-4\">\n                                  <div class=\"d-flex\">\n                                    <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                      <i class=\"mdi mdi-account  h2 text-dark\"></i>\n                                    </div>\n                                    <div class=\"flex-grow-1\">\n                                      <p class=\"text-muted mb-0\">Customer Name</p>\n                                      <h5 class=\"mb-0 font-14px\"><span>{{customerName}}</span></h5>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                <div class=\"col-4 col-sm-12 col-md-4\">\n                                  <div class=\"d-flex\">\n                                    <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                      <i class=\"mdi mdi-phone  h2 text-dark\"></i>\n                                    </div>\n                                    <div class=\"flex-grow-1\">\n                                      <p class=\"text-muted mb-0\">Phone No.</p>\n                                      <h5 class=\"mb-0 font-14px text-uppercase\"><span>{{phoneNumber}}</span></h5>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                <div class=\"col-4 col-sm-12 col-md-4\">\n                                  <div class=\"d-flex\">\n                                    <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                      <i class=\"mdi mdi-email-outline  h2 text-dark\"></i>\n                                    </div>\n                                    <div class=\"flex-grow-1\">\n                                      <p class=\"text-muted mb-0\">Email Address</p>\n                                      <h5 class=\"mb-0 font-14px\"><span>{{email}}</span></h5>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-sm-12 col-md-4 col-lg-5\">\n                        <div class=\"d-flex justify-items-center align-items-center\">\n                          <div class=\"border-1 invoice-form p-4\">\n                            <h4 class=\"card-title mb-4\">Enter the invoice details beow</h4>\n\n                            <div v-if=\"message!==null\" class=\"alert alert-danger\" role=\"alert\">\n                              {{message}}\n                            </div>\n\n                            <form>\n                              <div class=\"row tenant-invoice-container invoice-options\">\n\n                                <div class=\"col-12\">\n                                  <div class=\"mb-3\">\n                                    <label for=\"formrow-firstname-input\" class=\"form-label\">Revenue Stream</label>\n\n\n\n                                    <select @change=\"selectRevenue($event)\" class=\"form-select\" v-model=\"stream\">\n                                      <option :key=\"`${index}`\" :value=\"item.incomeTypePrefix\" v-for=\"(item, index) in streams\"><a class=\"dropdown-item\" href=\"javascript: void(0);\">{{item.stream}}</a></option>\n                                    </select>\n\n\n                                  </div>\n                                </div>\n\n                                <div class=\"col-12 rev-options-cont\">\n\n                                  <div class=\"row plans-rev d-none \">\n\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Property LR No.</label>\n                                        <input v-model=\"plotNO\" type=\"text\" class=\"form-control\" placeholder=\"Enter property Number\">\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Charge Type</label>\n\n                                        <select @change=\"selectedIncomeType($event)\"  title=\"-- Income Type --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"billingModule.incomeType\">\n                                          <option value=\"\">Please Select</option>\n                                          <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.incomeTypeDescription }}\n                                          </option>\n                                        </select>\n\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Fee Description</label>\n                                        <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                                          <option value=\"\">Please Select</option>\n                                          <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.feeDescription }} KES {{item.unitFeeAmount}}\n                                          </option>\n                                        </select>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n\n                                        <select v-model=\"subCounty\" class=\"form-control  bg-white\" title=\"Select Sub County\" data-live-search=\"true\" >\n                                          <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                                            {{ item.subCountyName }}\n                                          </option>\n                                        </select>\n\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n\n                                        <select v-model=\"ward\" class=\"form-control bg-white\" title=\"Select Ward\" data-live-search=\"true\" >\n                                          <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                                            {{ item.wardName }}\n                                          </option>\n                                        </select>\n\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Details</label>\n                                        <textarea v-model=\"description\" name=\"\"  cols=\"30\" rows=\"3\" placeholder=\"More details on the incident\" class=\"form-control\" spellcheck=\"false\" data-ms-editor=\"true\"></textarea>\n                                      </div>\n                                    </div>\n\n\n\n                                    <div class=\"col-md-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Quantity/Instances</label>\n                                        <input v-model=\"quantity\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter amount to be paid\">\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-md-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Unit Price</label>\n                                        <input v-model=\"amount\"  type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter amount to be paid\" disabled>\n                                      </div>\n                                    </div>\n\n                                    <div>\n                                      <button @click=\"addToBillCustomer(feeID,plotNO)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light w-100\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"row others-rev\">\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Income Type</label>\n\n                                        <select @change=\"selectedIncomeType($event)\"  title=\"-- Income Type --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"billingModule.incomeType\">\n                                          <option value=\"\">Please Select</option>\n                                          <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.incomeTypeDescription }}\n                                          </option>\n                                        </select>\n\n                                      </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Account Name</label>\n                                        <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                                          <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.feeDescription }} KES {{item.unitFeeAmount}}\n                                          </option>\n                                        </select>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n\n                                        <select v-model=\"subCounty\" class=\"form-control  bg-white\" title=\"Select Sub County\" data-live-search=\"true\" >\n                                          <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                                            {{ item.subCountyName }}\n                                          </option>\n                                        </select>\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n\n                                        <select v-model=\"ward\" class=\"form-control bg-white\" title=\"Select Ward\" data-live-search=\"true\" >\n                                          <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                                            {{ item.wardName }}\n                                          </option>\n                                        </select>\n\n                                      </div>\n                                    </div>\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Details</label>\n                                        <textarea v-model=\"description\" name=\"\" id=\"\" cols=\"30\" rows=\"3\" placeholder=\"More details\" class=\"form-control\"></textarea>\n                                      </div>\n                                    </div>\n\n\n                                    <div class=\"col-md-6 col-sm-12 col-lg-5 mb-4\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Quantity.</label>\n                                        <input v-model=\"quantity\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Quantity\">\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-md-6 col-sm-12 col-lg-5 mb-4\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Amount</label>\n                                        <input v-model=\"amount\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Bill Item amount\" readonly>\n                                      </div>\n                                    </div>\n\n                                    <div>\n                                      <button @click=\"addToBill(description)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"row Rent-rev d-none\">\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Estate</label>\n\n                                        <select title=\"-- Select The estate --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"houseItem.estate\">\n                                          <option v-for=\"(item, index) in estates\" :value=\"item\" :key=\"index\">\n                                            {{ item.estateName }}\n                                          </option>\n                                        </select>\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">House Type</label>\n                                        <select @change=\"selectedHouseType($event)\" title=\"-- Select Hse Type --\" class=\"form-control show-tick\" data-live-search=\"true\">\n                                          <option v-for=\"(item, index) in houseTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.houseType }}\n                                          </option>\n                                        </select>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">House Number</label>\n                                        <select class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"houseItem.houseNo\">\n\n                                          <option v-for=\"(item, index) in houseNumbers\" :value=\"item\" :key=\"index\">\n                                            {{ item.houseNumber }}\n                                          </option>\n\n                                        </select>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                                        <select class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"subCounty\">\n\n                                          <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                                            {{ item.subCountyName }}\n                                          </option>\n\n                                        </select>\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Ward.</label>\n                                        <select class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"ward\">\n                                          <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                                            {{ item.wardName }}\n                                          </option>\n                                        </select>\n                                      </div>\n                                    </div>\n\n                                    <div>\n                                      <button @click=\"addToBill(houseItem)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Itemk</button>\n                                    </div>\n\n                                  </div>\n\n\n\n                                  <div class=\"row parking-rev d-none\">\n\n\n                                    <div class=\"col-12 seasonal-duration\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Parking Duration</label>\n\n                                        <select @change=\"selectedIncomeType($event)\" title=\"-- Parking Duration --\" class=\"form-control show-tick\" data-live-search=\"true\" >\n                                          <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.incomeTypeDescription }}\n                                          </option>\n                                        </select>\n\n\n                                      </div>\n                                    </div>\n\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Car Category</label>\n\n                                        <select @change=\"selectedFeeAndCharge($event)\" title=\"-- Select Car Type --\" class=\"form-control show-tick\" data-live-search=\"true\">\n                                          <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.feeDescription }} KES {{item.unitFeeAmount}}\n                                          </option>\n                                        </select>\n\n\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Plate Number</label>\n                                        <input v-model=\"numberPlate\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Enter Plate Number\">\n                                      </div>\n                                    </div>\n\n\n                                    <div class=\"col-12 d-none\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Parking Category</label>\n                                        <select @change=\"selectRevenue($event)\"  class=\"form-control form-select bg-white\" title=\"Select Car Type\" data-live-search=\"true\" v-model=\"parking.durationCode\">\n                                          <option value=\"\">--Select Duration--</option>\n                                          <option value=\"DAILY\">Daily Parking</option>\n                                          <option value=\"MONTHLY\">Monthly Parking</option>\n                                          <option value=\"PENANLTY\">Parking Penalty</option>\n                                          <option value=\"OFFSTREET\">Offstreet Parking</option>\n                                        </select>\n                                      </div>\n                                    </div>\n\n\n\n\n\n                                    <div class=\"col-12\">\n                                      <!-- optional fields depending on selected parking type -->\n                                      <div class=\"row\">\n                                        <div class=\"col-12 d-none offstreet-duration\">\n                                          <div class=\"mb-3\">\n                                            <label for=\"formrow-firstname-input\" class=\"form-label\">Duration Parked</label>\n                                            <input type=\"text\" class=\"form-control\" id=\"\" value=\"\" placeholder=\"Enter duration in Minutes\">\n                                          </div>\n                                        </div>\n\n\n\n\n                                      </div>\n                                    </div>\n\n\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Parking Zone</label>\n\n                                        <select @change=\"selectZone($event)\" title=\"-- Parking Zone --\" class=\"form-control show-tick\" data-live-search=\"true\">\n                                          <option v-for=\"(item, index) in parking.zones\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.zone }}\n                                          </option>\n                                        </select>\n\n                                      </div>\n                                    </div>\n\n\n\n                                    <div class=\"col-md-6 col-sm-12 col-lg-5 mb-4\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">No.Of Duration</label>\n                                        <input v-model=\"quantity\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Quantity\">\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-md-6 col-sm-12 col-lg-5 mb-4\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Amount</label>\n                                        <input v-model=\"amount\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Bill Item amount\" readonly>\n                                      </div>\n                                    </div>\n\n\n                                    <div>\n                                      <button @click=\"addToBill(parking.numberPlate)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                    </div>\n\n\n                                  </div>\n\n\n\n\n\n                                  <div class=\"row health-rev d-none\">\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label \">Select Service</label>\n                                        <select class=\"form-select health-selector\" title=\"Select Option\" data-live-search=\"true\" >\n                                          <option value=\"Food Hygien\">Food Hygien</option>\n                                          <option value=\"Food Handler\">Food Handler</option>\n\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div class=\"col-6 \">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Select Option</label>\n                                        <select class=\"form-select hyginene-selector\" title=\"Select Option\" data-live-search=\"true\" >\n                                          <option value=\"New Application\">New Application</option>\n                                          <option value=\"Renewal\">Renewal</option>\n                                        </select>\n\n                                        <select class=\"form-select handler-selector d-none\" title=\"Select Option\" data-live-search=\"true\" >\n                                          <option value=\"New Application\">New Application</option>\n                                          <option value=\"Renewal\">Renewal</option>\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div class=\"col-12 health-options\">\n                                      <div class=\"row food-hygiene-cont\">\n                                        <div class=\"col-12 new-hygiene\">\n                                          <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-food-hygene\">\n                                            <i class=\"mdi-food-fork-drink mdi d-block font-size-30 \"></i> Start Food Hygiene Application\n                                          </button>\n                                        </div>\n                                        <div class=\"col-12 d-none renew-hygene\">\n                                          <div class=\"mb-3\">\n                                            <label for=\"formrow-firstname-input\" class=\"form-label\">Business ID</label>\n                                            <input type=\"text\" class=\"form-control\" id=\"\" value=\"\" placeholder=\"Enter Business ID to continue\">\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <div class=\"mb-3\">\n                                                <label for=\"formrow-firstname-input\" class=\"form-label\">Business Name</label>\n                                                <input  type=\"text\" class=\"form-control\" id=\"\"  disabled placeholder=\"Searched Business ...\">\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                                <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                              </button>\n                                            </div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                      <div class=\"row food-handler-cont d-none\">\n                                        <div class=\"col-12 new-Handler\">\n                                          <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-food-handler\">\n                                            <i class=\"mdi-chef-hat mdi d-block font-size-30 \"></i> Start Food Handler Application\n                                          </button>\n                                        </div>\n                                        <div class=\"col-12 d-none renew-Handler\">\n                                          <div class=\"mb-3\">\n                                            <label for=\"formrow-firstname-input\" class=\"form-label\">Client's ID No.</label>\n                                            <input type=\"text\" class=\"form-control\" id=\"\" value=\"\" placeholder=\"Enter Business ID to continue\">\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <div class=\"mb-3\">\n                                                <label for=\"formrow-firstname-input\" class=\"form-label\">Client's Name</label>\n                                                <input type=\"text\" class=\"form-control\" disabled placeholder=\"Persons Name\">\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                                <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                              </button>\n                                            </div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"row trade-rev d-none\">\n                                    <div class=\"col-12\">\n                                      <select  @change=\"selectRevenue($event)\" name=\"\" id=\"\" class=\"form-select mb-4\">\n                                        <option value=\"Register New Business\">Register New Business</option>\n                                        <option value=\"Renew License Business\">Renew License</option>\n                                      </select>\n                                    </div>\n                                    <div class=\"col-12\">\n                                      <div class=\"row\">\n                                        <div class=\"col-12 register-new-business\">\n                                          <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-business\">\n                                            <i class=\"mdi-briefcase-plus-outline mdi d-block font-size-30 \"></i> Start New Business Registration\n                                          </button>\n                                        </div>\n                                        <div class=\"col-12 d-none renew-business\">\n                                          <div class=\"mb-3\">\n                                            <label for=\"formrow-firstname-input\" class=\"form-label\">Business ID</label>\n                                            <input v-model=\"businessID\" type=\"text\" class=\"form-control\"  placeholder=\"Enter Business ID to continue\">\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <div class=\"mb-3\">\n                                                <label for=\"formrow-firstname-input\" class=\"form-label\">Business Name oo</label>\n                                                <input v-model=\"trade.businessDetails.businessName\" type=\"text\" class=\"form-control\"  disabled placeholder=\"Searched Business ...\">\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <button @click=\"addToBill(trade.businessDetails.businessName)\" type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                                <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                              </button>\n                                            </div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"row liquor-rev d-none\">\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label \">Select Service</label>\n                                        <select class=\"form-select liquor-selector\" title=\"Select Option\" data-live-search=\"true\" >\n                                          <option value=\"New Application\">Licence Application</option>\n                                          <option value=\"License Renewal\">Licence Renewal</option>\n\n                                        </select>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-12 liqur-options\">\n                                      <div class=\"row\">\n                                        <div class=\"col-12 new-application\">\n                                          <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-liquore-license\">\n                                            <i class=\"mdi-glass-mug-variant mdi d-block font-size-30 \"></i> Start Liquor License Application\n                                          </button>\n                                        </div>\n                                        <div class=\"col-12 d-none renew-liquor\">\n                                          <div class=\"mb-3\">\n                                            <label for=\"formrow-firstname-input\" class=\"form-label\">Business ID {{businessID}}</label>\n                                            <input v-model=\"businessID\" type=\"text\" class=\"form-control\"  placeholder=\"Enter Business ID to continue\">\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <div class=\"mb-3\">\n                                                <label for=\"formrow-firstname-input\" class=\"form-label\">Business Name</label>\n                                                <input v-model=\"trade.businessDetails.businessName\" type=\"text\" class=\"form-control\" disabled placeholder=\"Searched Business ...\">\n                                              </div>\n                                            </div>\n                                          </div>\n                                          <div class=\"row\">\n                                            <div class=\"col-12\">\n                                              <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                                <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                              </button>\n                                            </div>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"row landrate-rev d-none\">\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Property Number</label>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"Enter property Number\">\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Owner's Name</label>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"The names\" readonly>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Annual Landrate</label>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Arreas</label>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Penalties</label>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-6\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-firstname-input\" class=\"form-label\">Total Balance</label>\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                      </div>\n                                    </div>\n\n                                    <div class=\"col-md-12\">\n                                      <div class=\"mb-3\">\n                                        <label for=\"formrow-email-input\" class=\"form-label\">Amount</label>\n                                        <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter amount to be paid\">\n                                      </div>\n                                    </div>\n\n                                    <div>\n                                      <button type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                    </div>\n                                  </div>\n\n                                </div>\n\n                              </div>\n\n                            </form>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-sm-12 col-md-8 col-lg-7\">\n                        <div class=\"d-flex justify-items-center align-items-center \">\n                          <div class=\"border-1 invoice-table p-4 w-100\">\n                            <h4 class=\"card-title mb-4\">Created Bill Details</h4>\n                            <div class=\"row\">\n                              <div class=\"col-12\">\n                                <div class=\"table-responsive border-1\">\n                                  <table class=\"table table-nowrap  vertical-align-middle table-sm\">\n                                    <thead class=\"bg-light\">\n                                    <tr>\n                                      <th style=\"width: 70px;\">No.</th>\n                                      <th>Details</th>\n                                      <th class=\"text-end\">Amount</th>\n                                      <th class=\"\" style=\"width: 150px;\"></th>\n                                    </tr>\n                                    </thead>\n                                    <tfoot class=\"bg-light\">\n                                    <tr>\n                                      <td colspan=\"2\" class=\"border-0 text-end text-right\">\n                                        <strong>Total</strong>\n                                      </td>\n                                      <td class=\"border-0 text-end\">\n                                        <h5 class=\"m-0 text-uppercase fw-bold\">KES {{totalAmount}}</h5>\n                                      </td>\n                                      <td>\n\n                                      </td>\n                                    </tr>\n                                    </tfoot>\n                                    <tbody v-for=\"(item,index) in billItem\" :key=\"`item-${index}`\">\n                                    <tr  title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                                      <td>{{index+1}}</td>\n                                      <td>\n                                        <p class=\"the-bill-item mb-0 p-0 m-0\">{{item.incomeTypeId}} {{item.feeDescription}}</p>\n                                      </td>\n\n                                      <td class=\"text-end\">KES {{item.unitFeeAmount}} (x {{item.quantity}})</td>\n                                      <td class=\"text-right\">\n                                        <button title=\"Edit Item\" type=\"button\" data-toggle=\"modal\" data-target=\"#editModal\"  class=\"btn btn-link waves-effect\"><i class=\"mdi mdi-pencil font-size-16 align-middle me-2\"></i></button>\n                                        <button  title=\"View Item\" type=\"button\" class=\"btn btn-link waves-effect\"><i class=\"mdi mdi-eye-outline font-size-16 align-middle me-2\"></i></button>\n                                        <button @click=\"selectedIndex(item,index)\" data-target=\"#remove-bill-item\" title=\"Remove Item\" type=\"button\" class=\"btn btn-link waves-effect text-danger\"><i class=\"mdi mdi-close font-size-16 align-middle me-2\"></i></button>\n                                      </td>\n                                    </tr>\n\n                                    </tbody>\n                                  </table>\n                                </div>\n                              </div>\n                            </div>\n\n                            <button @click=\"generateBill()\" type=\"button\" data-toggle=\"modal\" data-target=\"#payment-modal\" class=\"btn btn-success waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Create Bill</button>\n\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                  </div>\n                  <!-- end card body -->\n                </div>\n                <!-- end card -->\n              </div>\n              <!-- end col -->\n            </div>\n\n            <!-- end row -->\n          </div>\n          <!-- container-fluid -->\n        </div>\n        <!-- End Page-content -->\n\n\n        <footer class=\"footer \">\n          <div class=\"container-fluid \">\n            <div class=\"row \">\n              <div class=\"col-sm-6 \">\n                <!--              <script>\n                                document.write(new Date().getFullYear())\n                              </script>  RevenueSure-->\n              </div>\n              <div class=\"col-sm-6 \">\n                <div class=\"text-sm-end d-sm-block \">\n                  A product of county\n                </div>\n              </div>\n            </div>\n          </div>\n        </footer>\n      </div>\n      <!-- end main content-->\n\n    </div>\n    <!-- END layout-wrapper -->\n\n    <!-- Right bar overlay-->\n    <div class=\"rightbar-overlay\"></div>\n    </body>\n\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport {execute,biller,rent,parking,trade} from \"@/api\";\nimport $ from 'jquery'\n\nimport Multiselect from 'vue-multiselect';\nimport 'vue-select/dist/vue-select.css'; // Import the CSS styles\nimport { ref } from 'vue';\nimport vSelect from 'vue-select';\n//npm install vue-multiselect@^2.1.6 --force\n\n\n\nexport default {\n  name: \"BillNew\",\n  components: {NavigationBar,Multiselect,vSelect},\n\n  data(){\n    const selectedValue = ref(null);\n    const options = [\n      { label: 'Option 1', value: 'option1' },\n      { label: 'Option 2', value: 'option2' },\n      { label: 'Structural Plans for 046m2 -93m2   Each', value: 'Structural Plans for 046m2 -93m2 -- Eac' },\n      { label: 'Building approval fees for 046m2 - 093m2 ', value: 'Building approval fees for 046m2 - 093m2 ' },\n      { label: 'Application fees for industries/factories ', value: 'Application fees for industries/factories ' },\n      { label: 'Building approval fees for 046m2 - 093m2 ', value: 'Building approval fees for 046m2 - 093m2 ' },\n      { label: 'Plot demarcation fe', value: 'Plot demarcation fe' },\n    ];\n\n    return{\n\n      selectedValue,\n      options,\n\n      zone:'',\n      feeID:'',\n      plotNO:'',\n      fiscalYear:'',\n      quantity: 1,\n      billGenerated: {\n        billNo: null,\n        payBillNo: null,\n        amount: null,\n        success: true\n      },\n      confirmCash: false,\n      phoneNumber:'',\n      customerName:'',\n      email:'',\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      billDetails:{\n        id:'',\n        billNo:'',\n        incomeTypeID:'',\n        incomeTypeDescription:'',\n        costCenterNo:'',\n        accountNo:'',\n        feeID:'',\n        detailAmount:'',\n        receiptAmount:'',\n        billBalance:'',\n        wardID:'',\n        subCountyID:'',\n        status:'',\n        dateCreated:''\n      },\n      billInfo:[],\n      briefDescription:'',\n      subCounty:{\n        subCountyID:null,\n        subCountyName:null\n      },\n      ward:{\n        wardID:null,\n        wardName:null\n      },\n      houseItem:{\n        estate:null,\n        houseType:{\n          id: null,\n          houseTypeCode:null,\n          houseType: null\n        },\n        houseNo:{\n          id: null,\n          houseNumberCode: null,\n          houseNumber:null,\n          houseTypeCode: null,\n          houseType: null,\n          estateCode: null,\n          estateName: null\n        },\n      },\n      revenueStreamItem:{},\n      selectedBillItem:{},\n      itemIndex:'',\n      description:'',\n      amount:0,\n      unitFeeAmount:0,\n      wardID:'',\n      subCountyID:'',\n      houseNumberCode:'',\n      houseTypeCode:'',\n      estateCode:'',\n      estates:[\n        {\n          id: \"\",\n          estateCode: \"\",\n          estateName: \"\"\n        }\n      ],\n      houseTypes:[{\n        id: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\"\n      }],\n      houseNumbers:[{\n        id: \"\",\n        houseNumberCode: \"\",\n        houseNumber: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\",\n        estateCode: \"\",\n        estateName: \"\"\n      }],\n      subCounties:[{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards:[{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      billItem:[],\n      feesAndChargeItems:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: 1\n      }],\n      feesAndCharges:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      totalAmount:0,\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode:null,\n        sessionNames:null,\n        sessionIdNo:null,\n        sessionPhoneNumber:null\n      },\n      timer: null,\n      randomNumber: null,\n      receiptDetails: {\n        id: '',\n        receiptNo: null,\n        billNo: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        costCenterNo: '',\n        accountNo: '',\n        incomeTypeDescription: '',\n        feeID: '',\n        wardID: '',\n        subCountyID:'',\n        currency: '',\n        source: '',\n        transactionCode: '',\n        paidBy: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        isActive: '',\n        status: ''\n      },\n      receiptInfos: [\n        {\n          id: '',\n          receiptNo: '',\n          billNo: '',\n          billTotal: '',\n          receiptAmount: '',\n          billBalance: '',\n          customer: '',\n          clientPhoneNo: '',\n          description: '',\n          receiptDate: '',\n          printCount: '',\n          wardID: '',\n          subCountyID: '',\n          dateCreated: '',\n          dateModified: '',\n          createdBy: '',\n          modifiedBy: '',\n          printedBy: '',\n          updated: '',\n          isActive: '',\n          status: ''\n        }],\n      //Billing Module\n      billingModule:{\n        incomeType:{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes:[{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null}]\n      },\n      selectedStream:'Others',\n      //Parking Module\n      numberPlate:null,\n      parking:{\n        zones:[],\n        categories:[],\n        durations:[],\n        category:null,\n        zoneCode:null,\n        numberPlate:null,\n        durationCode:null,\n        charges: null,\n        zone : {\n          id:null,\n          subCountyID: null,\n          subCountyName: null,\n          zone:null,\n          wardID: null,\n          wardName:null,\n          lat: null,\n          lng: null,\n          zoneCategory:null,\n          zoneCategoryID: null,\n          position: null\n        }\n      },\n      message:null,\n\n      //Trade\n      businessID:null,\n      trade:{\n        amount: null,\n        tonnage:[],\n        floors:[],\n        tradeCategories:[ {\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null,\n          departmentID: null,\n          zoneCategoryID: null,\n          zoneCategory: null\n        }],\n        tradeSubCategories:[\n          {\n            feeId: null,\n            feeDescription: null,\n            unitOfMeasure: null,\n            unitFeeAmount: null,\n            accountNo: null,\n            incomeTypeId: null,\n            feeType: null,\n            accountDesc: null,\n            costCenterNo: null,\n            zone: null,\n            typeDescription: null,\n            prorated: null,\n            duration: null\n          }\n        ],\n\n        businessDetails:{\n          id: null,\n          businessID: null,\n          businessName: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID: null,\n          wardName: null,\n          plotNumber: null,\n          physicalAddress: null,\n          buildingName: null,\n          buildingOccupancy: null,\n          floorNo: null,\n          roomNo: null,\n          premiseSize: null,\n          numberOfEmployees: null,\n          tonnage : null,\n          businessDes: null,\n          businessCategory: null,\n          businessSubCategory : null,\n          incomeTypeID : null,\n          feeID : null,\n          businessEmail: null,\n          postalAddress : null,\n          postalCode: null,\n          businessPhone: null,\n          contactPersonNames: null,\n          contactPersonIDNo: null,\n          businessRole: null,\n          contactPersonPhone: null,\n          contactPersonEmail: null,\n          fullNames: null,\n          ownerID: null,\n          ownerPhone: null,\n          ownerEmail: null,\n          kraPin: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          lat : 0.0,\n          lng : 0.0\n        }\n      },\n      streams:[\n        {\n          id: null,\n          incomeTypePrefix: null,\n          stream: null\n        },\n      ],\n      roles: [\n        {\n          id: null,\n          role: null,\n        }]\n\n    }\n  },\n  watch:{\n    subCounty: function () {\n\n      this.wards =[]\n      this.ward = ''\n\n      if(this.selectedStream===\"SBP\"){\n        if(this.subCounty.subCountyName === sessionStorage.getItem(\"subCountyName\")){\n          //Trade demographics\n          this.trade.businessDetails.subCountyName = this.subCounty.subCountyName\n          this.trade.businessDetails.subCountyID = this.subCounty.subCountyID\n          this.getWards()\n        }else {\n          alert(`You are not allowed to invoice a business that is not in your Sub County ${sessionStorage.getItem(\"subCountyName\")}`)\n        }\n\n\n\n      }else {\n        this.getWards()\n      }\n\n    },\n    ward: function () {\n      //Trade demographics\n      this.trade.businessDetails.wardName = this.ward.wardName\n      this.trade.businessDetails.wardID = this.ward.wardID\n\n    },\n    businessID: function () {\n      if(this.businessID ===null || this.businessID === \"\"){\n\n      }else {\n        this.getBusiness(true)\n      }\n\n    },\n    quantity: function () {\n\n      this.amount = this.quantity *  this.unitFeeAmount;\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === this.feeID) {\n          item.quantity = this.quantity;\n        }\n        return item;\n      });\n\n    },\n    numberPlate: function () {\n      this.addCustomerToBillItem(this.feeID,this.numberPlate)\n    }\n  },\n  mounted() {\n    this.zone = sessionStorage.getItem(\"sessionZone\")\n    this.getMainStreams()\n    this.getYears()\n    this.getSubCounties()\n    this.getFloor()\n    this.getTonnage()\n    this.getRoles()\n    this.menuAccess()\n\n    /*const modal = new\n    bootstrap.Modal(document.getElementById('subscribeModal'));\n    modal.show();*/\n    this.initMap()\n\n    var button = document.querySelector(\".btn.btn-success.btn-sm\");\n    button.click();\n  },\n  methods:{\n\n    menuAccess(){\n\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"New Bill\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\",  sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data,biller)\n          .then(() => {\n            // alert(res.data.message);\n          })\n          .catch(() => {\n            // alert(e.message);\n          });\n\n    },\n\n    //TRADE\n    getBusiness(renewal){\n      const data = new FormData();\n      data.append(\"function\", \"getBusiness\");\n      data.append(\"businessID\", this.businessID);\n      execute(data,trade)\n          .then((res) =>{\n            if (res.data.success) {\n              this.feesAndChargeItems.splice(0)\n              this.trade.businessDetails = res.data.data.business\n              this.subCounty.subCountyID = this.trade.businessDetails.subCountyID\n              this.subCounty.subCountyName =  this.trade.businessDetails.subCountyName\n              this.ward.wardID =  this.trade.businessDetails.wardID\n              this.ward.wardName = this.trade.businessDetails.wardName\n              //Set fee and charge\n\n\n              this.feesAndChargeItems = res.data.data.feesAndCharges\n\n              this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n                if (item.feeId === this.trade.businessDetails.feeID) {\n                  item.customer = \"Business ID: \" + this.trade.businessDetails.businessID;\n                  item.quantity = this.quantity;\n                }else {\n                  item.customer =\"\"\n                }\n                return item;\n              });\n\n              if(!renewal){\n                this.addToBill(this.trade.businessDetails.businessName)\n              }\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    registerBusiness(){\n\n      if(this.ward === ''){\n        alert(`You are not allowed to invoice a business that is not in your Sub County ${sessionStorage.getItem(\"subCountyName\")}`)\n        return;\n      }\n\n      if(this.fiscalYear ===''){\n\n        alert(\"You have not selected the Year\")\n        return\n      }\n\n      this.trade.businessDetails.createdByIDNo = sessionStorage.getItem(\"sessionIdNo\")\n      this.trade.businessDetails.createdBy = sessionStorage.getItem(\"sessionNames\")\n\n      const data = new FormData();\n      data.append(\"function\", \"registerBusiness\");\n      data.append(\"business\",  JSON.stringify(this.trade.businessDetails));\n      data.append(\"idNo\",  sessionStorage.getItem(\"idNo\"));\n      execute(data,trade)\n          .then((res) =>{\n            if (res.data.success) {\n              this.businessID = res.data.data.business.businessID;\n              this.getBusiness(false)\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFloor(){\n      const data = new FormData();\n      data.append(\"function\", \"getFloor\");\n      execute(data,trade)\n          .then((res) =>{\n            if (res.data.success) {\n              this.trade.floors =res.data.data.floors\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getRoles(){\n      const data = new FormData();\n      data.append(\"function\", \"getRoles\");\n      execute(data,trade)\n          .then((res) =>{\n            if (res.data.success) {\n              this.roles= res.data.data.roles\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getTonnage(){\n      const data = new FormData();\n      data.append(\"function\", \"getTonnage\");\n      execute(data,trade)\n          .then((res) =>{\n            if (res.data.success) {\n              this.trade.tonnage =res.data.data.tonnage\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getTradeCategory(){\n      this.message =null\n      const data = new FormData();\n      data.append( \"function\", \"getIncomeTypes\");\n      data.append( \"incomeTypePrefix\", \"SBP\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.trade.tradeCategories =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getYears(){\n      const data = new FormData();\n      data.append(\"function\", \"getYears\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.years =res.data.data.years\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getTradeSubCategory(event){\n      this.message =null\n      const data = new FormData();\n      this.trade.businessDetails.incomeTypeID = event.target.value\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", event.target.value);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.trade.tradeSubCategories =res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectedTradeSubCategory(event){\n      //set fee and charges\n      this.selectedFeeAndCharge(event)\n\n      const data = JSON.parse(event.target.value)\n      this.trade.businessDetails.businessCategory = data.accountDesc\n      this.trade.businessDetails.businessSubCategory =  data.feeDescription\n      this.trade.amount =  data.unitFeeAmount\n      this.trade.businessDetails.feeID = data.feeId;\n\n    },\n\n    //PARKING\n    getZones(){\n      const data = new FormData();\n      data.append(\"function\", \"getParkingZones\");\n      execute(data,parking)\n          .then((res) =>{\n            if (res.data.success) {\n              this.parking =res.data.data\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getRate(){\n      this.parking.charges = null\n      this.message = null\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"zoneCode\", this.parking.zoneCode);\n      data.append(\"categoryCode\", this.parking.category);\n      data.append(\"durationCode\", this.parking.durationCode);\n      execute(data,parking)\n          .then((res) =>{\n            if (res.data.success) {\n              this.parking.charges  =res.data.data.total.amount\n              this.feesAndChargeItems = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectZone(event){\n      const data = JSON.parse(event.target.value)\n      this.parking.zone = data\n      this.zone = this.parking.zone.zone\n      this.subCounty.subCountyID = this.parking.zone.subCountyID\n      this.subCounty.subCountyName = this.parking.zone.subCountyName\n\n      this.ward.wardName = this.parking.zone.wardName\n      this.ward.wardID = this.parking.zone.wardID\n    },\n\n    //BILLER\n    addCustomerToBillItem(feeId,customer){\n\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === feeId) {\n           item.customer = customer;\n        }\n        return item;\n      });\n    },\n    addToBillCustomer(feeId,customer){\n\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === feeId) {\n          item.customer = customer;\n        }else {\n          item.customer =\"\"\n        }\n        return item;\n      });\n      this.addToBill(this.phoneNumber);\n    },\n    selectedFeeAndCharge(event){\n      const data = JSON.parse(event.target.value)\n      this.feeID = data.feeId\n      this.unitFeeAmount = data.unitFeeAmount\n      this.feesAndChargeItems = []\n      this.feesAndChargeItems.push(data)\n\n      this.amount = this.quantity *  this.unitFeeAmount;\n      this.feesAndChargeItems = this.feesAndChargeItems.map(item => {\n        if (item.feeId === this.feeID) {\n          item.quantity = this.quantity;\n        }\n        return item;\n      });\n    },\n    selectedHouseType(event){\n      const houseType = JSON.parse(event.target.value)\n      this.houseItem.houseType = houseType\n      console.log('Error: ', this.houseItem.houseType.houseTypeCode);\n      this.getFeesAndCharges()\n      this.getHouseNumbers()\n    },\n    selectedIncomeType(event){\n      const value = event.target.value\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId)\n    },\n    getIncomeTypes(incomeTypePrefix){\n      this.message =null\n      this.billingModule.incomeTypes.splice(0)\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", incomeTypePrefix);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.billingModule.incomeTypes =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndChargesBilling(incomeTypeId){\n      this.message =null\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\",incomeTypeId);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.feesAndCharges = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    initMap() {\n\n      //closing marker details\n\n      $('.close-aside').on('click', function () {\n        $(this).parent().parent().addClass('left-100');\n        $('.ma-backdrop').addClass('d-none');\n        // marker.setAnimation(null);\n        alert('hhh')\n        // removeMarkers();\n      });\n\n\n      //the map options\n\n      const latitude = 0.04986230310348805;\n      const longitude = 37.64667110366901;\n\n      var options = {\n        zoom: 15,\n        center: {lat: latitude, lng: longitude}\n      }\n\n\n      //new map\n      var map = new google.maps.Map(document.getElementById('mapView'), options);\n\n      var gmarkers = [];\n\n      //listen for click on  map\n\n      // the smooth zoom function not in use\n      function  numberFormat(num) {\n        const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n        return britishNumberFormatter.format(num)\n      }\n\n      function smoothZoom(map, max, cnt) {\n        if (cnt >= max) {\n          return;\n        } else {\n          z = google.maps.event.addListener(map, 'zoom_changed', function (event) {\n            google.maps.event.removeListener(z);\n            smoothZoom(map, max, cnt + 1);\n          });\n          setTimeout(function () {\n            map.setZoom(cnt)\n          }, 80); // 80ms is what I found to work well on my system -- it might not work well on all systems\n        }\n      }\n\n      google.maps.event.addListener(map, 'dblclick', function (event)  {\n\n\n        //Remove Markers\n        for (var i = 0; i < gmarkers.length; i++) {\n          gmarkers[i].setMap(null);\n        }\n\n        //add marker\n\n        addMarker({coords: event.latLng});\n\n        //get value of clicked coodinates\n\n        //stores coodinates of selected area\n        var newCoords = event.latLng;\n\n        // return clicked area coods\n        console.log(event.latLng);\n\n        console.log(newCoords.toString());\n        newCoords = newCoords.toString();\n        var Latitude;\n        var longitude;\n        longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n        Latitude = newCoords.substring(0, newCoords.indexOf(','));\n        Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n\n        longitude = longitude.substring(0, longitude.indexOf(')'));\n        console.log(\"Lat:\"+Latitude);\n        console.log(\"long:\"+longitude);\n        this.trade.businessDetails.lat = Latitude\n        this.trade.businessDetails.lng = longitude\n\n        //reverse geocoding function\n        //usses clicked coodinates to get the newly clicked llocation\n\n        smoothZoom(map, 12, map.getZoom());\n\n        map.setCenter(new google.maps.LatLng(Latitude, longitude));\n\n        reverseGeocoding(Latitude, longitude);\n\n        //opens the side bar form\n        $('#newPoint').removeClass('left-100').siblings().addClass('left-100');\n\n      }.bind(this));\n\n      //remove marker function\n      function removeMarkers() {\n        for (let i = 0; i < gmarkers.length; i++) {\n          gmarkers[i].setMap(null);\n        }\n      }\n      //add marker function\n      function addMarker(props,item,color) {\n        //add marker\n        var marker = new google.maps.Marker({\n          position: props.coords,\n          map: map,\n          animation: google.maps.Animation.DROP,\n          // icon:props.iconImage\n        });\n\n\n\n\n        if (!props.content) {\n          gmarkers.push(marker);\n\n        }\n\n        if (props.iconImage) {\n          //set icon image if its there\n          marker.setIcon(props.iconImage);\n\n        }\n\n        // check if there is content\n        if (props.content) {\n          //set icon image if its there\n\n          var infowindow = new google.maps.InfoWindow({\n            content: props.content\n          });\n\n          marker.addListener('mouseover', function (e) {\n\n            infowindow.open(map, marker);\n\n            var newCoords = e.latLng;\n            newCoords = newCoords.toString();\n            // alert(newCoords);\n\n            var Latitude;\n            var longitude;\n            longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n            Latitude = newCoords.substring(0, newCoords.indexOf(','));\n            Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n            longitude = longitude.substring(0, longitude.indexOf(')'));\n\n\n            this.trade.businessDetails.lat = Latitude\n            this.trade.businessDetails.lng = longitude\n\n            reverseGeocoding(Latitude, longitude);\n            // alert(\"mouse hovered\");\n\n          });\n\n          marker.addListener('click', (e) => {\n            toggleBounce(marker);\n\n            this.business = item\n            this.color = color\n\n            var newCoords = e.latLng;\n            newCoords = newCoords.toString();\n            // alert(newCoords);\n\n            var Latitude;\n            var longitude;\n            longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n            Latitude = newCoords.substring(0, newCoords.indexOf(','));\n            Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n            longitude = longitude.substring(0, longitude.indexOf(')'));\n\n            reverseGeocoding(Latitude, longitude);\n\n\n            // alert(iconImage);\n            // alert( e.latLng);\n\n            //position of the clicked marker . the longitude and latitude\n            var pointPosition = e.latLng;\n\n            //gettting the image\n\n            //initializing image as empty\n            var theImage = \"assets/images/billboard-ads/no-add.jpg\";\n\n            console.log(infowindow.content.toString())\n\n            //checking if the content has an image\n            if (infowindow.content.includes(\"<img\")) {\n              //if it has image assign mage to\n\n              theImage = infowindow.content.substring(infowindow.content.indexOf('src=\"') + 5);\n              //the image url\n              theImage = theImage.substring(0, theImage.indexOf('\"'));\n\n\n            }\n\n            var theContent = infowindow.content.substr(18);\n            var theContent = theContent.substring(0, theContent.indexOf('<'));\n\n            //the group of markers eg car,incident,collection points etc\n            var theGroup = theContent.substring(0, theContent.indexOf('|'));\n\n            //the unique identifier of the clicked item eg number plate\n            var uniqueIdentifier = theContent.substring(theContent.lastIndexOf(\"|\") + 1);\n\n            var theCanvas = new bootstrap.Offcanvas(offcanvasExample)\n            theCanvas.show()\n\n\n          });\n\n          // close content when mouse exits\n          marker.addListener('mouseout', function () {\n            infowindow.close(map, marker);\n\n          });\n\n        }\n      }\n\n      var locationForm = document.getElementById('mapView');\n\n      //listen for submit\n      locationForm.addEventListener('submit', geocode);\n\n      function geocode(e) {\n        e.preventDefault();\n        var location = document.getElementById('location-input').value;\n        axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n          params: {\n            address: location,\n            key: 'AIzaSyBl3dCvpVQUs04SOTCHgITw4Ts79-dRcfI'\n          }\n\n\n        })\n            .then(function (response) {\n              // log full response\n              console.log(response);\n\n              //formated address\n              var formattedAddress = response.data.results[0].formatted_address;\n              console.log(formattedAddress);\n\n              var formattedAddressOutput = `\n              <ul class=\"list-group\">\n                <li class=\"list-group-item\">${formattedAddress}</li>\n              </ul>\n            `;\n\n              // Address components\n              var addressComponents = response.data.results[0].address_components;\n              var addressComponentsOutput = '<ul class=\"list-group\">'\n              for (var i = 0; i < addressComponents.length; i++) {\n                addressComponentsOutput += `\n                    <li class=\"list-group-item\">\n                        <strong>${addressComponents[i].types[0]}</strong>: ${addressComponents[i].long_name}\n                    </li>\n                `;\n              }\n              addressComponentsOutput += '</ul>'\n\n              //geometry\n              var lat = response.data.results[0].geometry.location.lat;\n              var lng = response.data.results[0].geometry.location.lng;\n\n              var geometryOutput = `\n              <ul class=\"list-group\">\n                <li class=\"list-group-item\"><strong>Latitude:</strong> :${lat}</li>\n                <li class=\"list-group-item\"><strong>Longitude:</strong> :${lng}</li>\n              </ul>\n            `;\n\n              //output to APP\n              document.getElementById('formatted-address').innerHTML = formattedAddressOutput;\n              document.getElementById('address-components').innerHTML = addressComponentsOutput;\n              document.getElementById('geometry').innerHTML = geometryOutput;\n            })\n            .catch(function (error) {\n              console.log(response);\n            });\n      }\n      //make the marker bounce\n      function toggleBounce(marker) {\n        if (marker.getAnimation() !== null) {\n          marker.setAnimation(null);\n        } else {\n          marker.setAnimation(google.maps.Animation.BOUNCE);\n          setTimeout(function () {\n            marker.setAnimation(null);\n          }, 750);\n        }\n      }\n      // reverse geo coding\n      function reverseGeocoding(Latitude, longitude) {\n        const KEY = \"AIzaSyBl3dCvpVQUs04SOTCHgITw4Ts79-dRcfI\";\n        const LAT = -1.270102;\n        const LNG = 36.8589333;\n        let url = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${Latitude},${longitude}&key=${KEY}`;\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n              var reverseResultsOutput = '<ul class=\"list-group\">';\n              console.log(data);\n              var numOfResults = data.results.length;\n\n              var County;\n              var subCounty;\n              var street;\n              var address;\n              var ward;\n              var province;\n              var constituency;\n\n\n              for (var num = 0; num < numOfResults; num++) {\n                // let parts=data.results[i].address_components;\n                address = data.results[0].formatted_address;\n\n                // alert(num);\n                let parts = data.results[num].address_components;\n                parts.forEach(part => {\n                  if (part.types.includes(\"administrative_area_level_2\")) {\n                    //we found subcounty inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    subCounty = part.long_name;\n\n\n                  }\n                  if (part.types.includes(\"country\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n\n                    Country = part.long_name;\n\n                  }\n\n                  if (part.types.includes(\"administrative_area_level_1\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    County = part.long_name;\n\n\n                  }\n                  if (part.types.includes(\"administrative_area_level_4\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    ward = part.long_name;\n\n\n                  }\n                  if (part.types.includes(\"administrative_area_level_4\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    ward = part.long_name;\n\n\n                  }\n                  if (part.types.includes(\"sublocality_level_1\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    ward = part.long_name;\n\n\n                  }\n\n                  if (part.types.includes(\"route\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    street = part.long_name;\n\n\n                  }\n                  if (part.types.includes(\"sublocality_level_1\")) {\n                    //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                    constituency = part.long_name;\n\n\n                  }\n\n                });\n\n\n              }\n              // alert(\"ward::\"+ward);\n              // alert(\"street: \"+street);\n              // alert(\"constituency: \"+constituency);\n              // alert(\"subcounty:\"+subCounty);\n\n              $('#newPoint .clicked-ward').text(ward);\n              $('.form-map-locations .clicked-ward').text(ward).addClass('text-black').removeClass('text-danger');\n              ;\n\n              $('#newPoint .clicked-street').text(street);\n              $('.form-map-locations .clicked-street').text(street).addClass('text-black').removeClass('text-danger');\n              ;\n\n              $('#newPoint .clicked-subcounty').text(subCounty);\n              $('.form-map-locations .clicked-subcounty').text(subCounty).addClass('text-black').removeClass('text-danger');\n\n\n              $('#newPoint .clicked-address').text(address);\n              $('.form-map-locations .clicked-address').text(address).addClass('text-black').removeClass('text-danger');\n              $('.form-map-locations .form-address').val(address);\n\n              $('.form-map-locations .form-latitude').val(Latitude);\n              $('.form-map-locations .form-longitude').val(longitude);\n\n              $('.permits-asside .the-clicked-address').text(address);\n              $('.the-clicked-address').text(address);\n\n              //alert(address);\n\n              $('#plate .plate-address').text(address);\n              $('#application .plate-address').text(address);\n\n              $('#plate .plate-street').text(street);\n              $('#application .plate-street').text(street);\n\n              $('#multi-plate .plate-street').text(street);\n              $('#multi-plate .plate-address').text(address);\n\n\n              let parts = data.results[0].address_components;\n              reverseResultsOutput += `\n            <li class=\"list-group-item\"><strong>Address: </strong> :${data.results[0].formatted_address}</li>\n            `;\n              parts.forEach(part => {\n                // if(part.types.includes(\"country\")){\n                //     //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                //     reverseResultsOutput+=`\n                //     <ul class=\"list-group\">\n                //         <li class=\"list-group-item\"><strong>Country:</strong> :${part.long_name}</li>\n                //     `;\n\n                //     document.getElementById('location-cods').innerHTML=reverseResultsOutput;\n                // }\n\n                if (part.types.includes(\"administrative_area_level_2\")) {\n                  //we found country inside the data.results[0].address_components[x].types.zmdi-view-arraydo\n                  reverseResultsOutput += `\n\n                    <li class=\"list-group-item\"><strong>County: </strong> :${part.long_name}</li>\n                `;\n\n                  document.getElementById('location-cods').innerHTML = reverseResultsOutput;\n                }\n\n                reverseResultsOutput += \"</ul>\";\n              })\n            })\n            .catch(err => console.warn(err.message));\n      }\n\n      //search address starts here\n      var map;\n      var infowindow;\n\n      var input = document.getElementById(\"pac-input\");\n      var searchBox = new google.maps.places.SearchBox(input);\n      map.controls[google.maps.ControlPosition.TOP_LEFT].push(input); // Bias the SearchBox results towards current map's viewport.\n\n      map.addListener(\"bounds_changed\", function() {\n        searchBox.setBounds(map.getBounds());\n      });\n\n      //marker\n      var markers = [];\n      // Listen for the event fired when the user selects a prediction and retrieve\n      // more details for that place.\n\n      //this function runs when the search box is clicked\n      $('#pac-input').on('click', function() {\n        $('.map-info-cont').addClass('left-100');\n      });\n\n      //shows the close button on the search box when someone starts to search for a new place\n      $('#pac-input').on('keyup', function() {\n        removeMarkers();\n        $('.clear-map i').removeClass('d-none');\n        $('.map-info-cont').addClass('left-100');\n      });\n\n      //this function is fired up when the close button is clicked\n      // it clears the searched icons plus the search input box\n      $('.clear-map').on('click', function() {\n\n        $('.form-map-locations .clicked-subcounty').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        $('.form-map-locations .clicked-address').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        $('.form-map-locations .clicked-ward').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n        $('.form-map-locations .clicked-street').text(\"Not Selected\").addClass('text-danger').removeClass('text-black');\n\n\n        const places = searchBox.getPlaces();\n        console.log(places);\n        $('.map-info-cont').addClass('left-100');\n        $('#pac-input').val(\"\");\n        $('.clear-map i').addClass('d-none');\n        removeMarkers();\n        // Clear out the old markers.\n\n        markers.forEach((marker) => {\n          marker.setMap(null);\n        });\n      });\n\n      searchBox.addListener(\"places_changed\", ()=>{\n\n        const places = searchBox.getPlaces();\n\n        if (places.length == 0) {\n          return;\n        }\n\n        // Clear out the old markers.\n        markers.forEach((marker) => {\n          marker.setMap(null);\n\n        });\n        markers = [];\n\n\n        // For each place, get the icon, name and location.\n        var bounds = new google.maps.LatLngBounds();\n\n        places.forEach(function(place) {\n          if (!place.geometry) {\n            console.log(\"Returned place contains no geometry\");\n            return;\n          }\n\n          //the icons attributes for search results\n          const icon = {\n            // url: place.icon,//adds unique marker depending on search results\n            size: new google.maps.Size(71, 71),\n            origin: new google.maps.Point(0, 0),\n            anchor: new google.maps.Point(17, 34),\n            scaledSize: new google.maps.Size(25, 25),\n          };\n\n          // Create a marker for each place.\n          var marker = new google.maps.Marker({\n            map: map,\n            title: place.name,\n            position: place.geometry.location,\n            icon: icon,\n            description: `<strong>` + place.name + `</strong><br><p class=\"text-info text-underline text-uppercase\">Click Icon To Add Businese's actual location</p>`\n          })\n          markers.push(marker);\n\n          var infowindow = new google.maps.InfoWindow({\n            content: marker.description\n          });\n\n          marker.addListener('mouseout', function() {\n            infowindow.close(map, marker);\n\n          });\n\n          /*  // add a hover event on the search results markers\n            google.maps.event.addListener(marker, \"mouseover\", function(e) {\n              infowindow.open(map, marker);\n              infowindow.setContent(data.description);\n\n              var newCoords = e.latLng;\n              newCoords = newCoords.toString();\n              // alert(newCoords);\n\n              var Latitude;\n              var longitude;\n              longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n              Latitude = newCoords.substring(0, newCoords.indexOf(','));\n              Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n              longitude = longitude.substring(0, longitude.indexOf(')'));\n\n\n\n              reverseGeocoding(Latitude, longitude);\n\n\n            });\n            */\n          toggleBounce(marker);\n\n          //   adding marker click event\n\n          google.maps.event.addListener(marker, \"click\", function(e) {\n\n            var thePlace = place.name;\n            var newCoords = e.latLng;\n\n            newCoords = newCoords.toString();\n\n\n\n            var Latitude;\n            var longitude;\n            longitude = newCoords.substring(newCoords.lastIndexOf(\",\") + 1);\n            Latitude = newCoords.substring(0, newCoords.indexOf(','));\n            Latitude = Latitude.substring(Latitude.lastIndexOf(\"(\") + 1);\n            longitude = longitude.substring(0, longitude.indexOf(')'));\n\n            reverseGeocoding(Latitude, longitude);\n            $('#newPoint').removeClass('left-100').siblings().addClass('left-100');\n\n            var thePlaceHolder = $('.listview .selected-point-details');\n\n            thePlaceHolder = `\n                    <p class=\"mb-0\"><strong>The Place Name</strong></p>\n                    <p class=\"clicked-place\">${thePlace}</p>\n                    `;\n            toggleBounce(marker);\n\n            $('.latLngInput').val(Latitude+','+longitude)\n\n\n\n          });\n\n          //   marker click event ends here\n          if (place.geometry.viewport) {\n            // Only geocodes have viewport.\n            bounds.union(place.geometry.viewport);\n          } else {\n            bounds.extend(place.geometry.location);\n          }\n        });\n        map.fitBounds(bounds);\n\n        // console.log(places[0]);\n        // console.log(\"address components\");\n        // console.log(places[0].address_components[0]);\n        // console.log(\"######## \"+places[0].geometry.location);\n\n        this.trade.businessDetails.lat = places[0].geometry.location.lat()\n        this.trade.businessDetails.lng = places[0].geometry.location.lng()\n\n      });\n\n      //search address ends here\n\n    },\n    //RENTS\n    getEstates(){\n      const data = new FormData();\n      data.append(\"function\", \"getEstates\");\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.estates =res.data.data.estates\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getHouseType(){\n      const data = new FormData();\n      data.append(\"function\", \"getHouseType\");\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.houseTypes =res.data.data.houseTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getHouseNumbers(){\n      this.houseNumbers =[]\n      this.houseItem.houseNo = ''\n      const data = new FormData();\n      data.append(\"function\", \"getHouseNumbers\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.houseNumbers =res.data.data.houseNumbers\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndCharges(){\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.amount  =res.data.data.total.amount\n              this.feesAndChargeItems = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectedIndex:function (item,itemIndex){\n      this.selectedBillItem = item\n      this.itemIndex = itemIndex\n      this.removeFromBill()\n    },\n    removeFromBill: function (){\n      this.billItem.splice(this.itemIndex,1)\n\n      this.totalAmount = this.billItem.reduce((total, item) => total + (Number(item.unitFeeAmount) * Number(item.quantity)), 0);\n\n\n    },\n\n    //Main\n    selectRevenue(event){\n      this.selectedStream = event.target.value\n      //alert(this.value);\n      if(this.selectedStream === \"PLANS\"){\n        //Planning\n        $('.plans-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        this.getIncomeTypes(event.target.value)\n      }\n      else if(this.selectedStream ===\"RNT\"){\n        $('.Rent-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        //RENT\n        this.getIncomeTypes(event.target.value)\n        this.getEstates()\n        this.getHouseType()\n        this.getSubCounties()\n      }\n      else if(this.selectedStream === \"PKN\"){\n\n        $('.parking-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        this.getIncomeTypes(event.target.value)\n        this.getZones()\n\n      }\n      else if(this.selectedStream===\"HEALTH\"){//Todo change the code or add HEALTH revenue stream\n        $('.health-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      else if(this.selectedStream===\"SBP\"){\n        $('.trade-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        this.getSubCounties()\n        this.getTradeCategory()\n      }\n      else if(this.selectedStream===\"Register New Business\"){\n        $('.register-new-business').removeClass(\"d-none\").siblings().addClass('d-none')\n\n      }\n      else if(this.selectedStream===\"Renew License Business\"){\n        $('.renew-business').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      else if(this.selectedStream===\"Liquor\"){//Todo change the code or add LIQOUR revenue stream\n        $('.liquor-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      else if(this.selectedStream===\"LR\"){\n        $('.landrate-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      else if(this.selectedStream===\"Others\"){\n\n        $('.others-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        //Billing Module\n        this.getIncomeTypes()\n        this.getSubCounties()\n\n        // $('.rev-options-cont').children('.row').each(function(index) {\n        //     $(this).addClass('d-none')\n        // });\n      }\n      else if(this.selectedStream === \"MONTHLY\"){\n        $('.seasonal-duration').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      else if(this.selectedStream ===\"DAILY\"){\n        $('.seasonal-duration').addClass(\"d-none\")\n        $('.offstreet-duration').addClass(\"d-none\")\n      }\n      else if(this.selectedStream ===\"OFFSTREET\"){\n        $('.offstreet-duration').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      else if(this.selectedStream === \"PENALTY\"){\n        $('.offstreet-duration').addClass(\"d-none\")\n      }\n      else{\n        $('.others-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        this.getIncomeTypes(event.target.value)\n      }\n\n    },\n    getSubCounties(){\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.subCounties =res.data.data.subCounties\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getWards(){\n      this.wards =[]\n      this.ward = ''\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.wards =res.data.data.wards\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getCustomer(){\n      if(this.phoneNumber==''){\n        this.message = \"Weka phone number bana\"\n        return\n      }\n      const data = new FormData();\n      data.append(\"function\", \"getCustomer\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n\n\n              this.email = res.data.data.customer.email\n              this.customerName = res.data.data.customer.names\n              this.email = res.data.data.customer.email\n\n\n              var button = document.querySelector(\"#closeModalSearch\");\n              button.click();\n\n              this.message = null\n\n\n            }else{\n\n              this.message =res.data.message\n\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    addCustomers(){\n      if(this.phoneNumber === ''){\n        this.message =\"Please Enter customer phone number\"\n        return\n      }\n      if(this.customerName === ''){\n        this.message =\"Please Enter customer name\"\n        return\n      }\n\n      const data = new FormData();\n      data.append(\"function\", \"addCustomers\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      data.append(\"email\", this.email);\n      data.append(\"names\", this.customerName);\n      data.append(\"createdBy\", sessionStorage.getItem(\"sessionNames\"));\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n\n              var button = document.querySelector(\"#closeAddCustomerModal\");\n              button.click();\n\n              this.message =null\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getMainStreams() {\n      const data = new FormData();\n      data.append('function', 'getMainStreams');\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.streams.splice(0);\n              this.streams = res.data.data.streams;\n\n              // Preselection logic\n              this.streams.forEach((value, index) => {\n                if (this.zoneCategory === value.stream) {\n                  this.stream = this.streams[index];\n                }\n              });\n            } else {\n              this.message = res.data.message;\n            }\n          })\n          .catch((e) => {\n            this.message = e.message;\n          });\n    },\n    getMainStreams2(){\n      const data = new FormData();\n      data.append(\"function\", \"getMainStreams\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.streams.splice(0)\n              this.streams = res.data.data.streams\n              //preselection\n              this.streams.forEach((value, index) => {\n\n                // console.log(JSON.stringify(this.selectedZone))\n                console.log(`${this.ZoneCategory} ::: ${value.stream}`);\n\n                if (this.zoneCategory === value.stream) {\n                  this.stream = this.streams[index];\n                }\n              });\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n\n    addToBill(revenueStreamItem){\n\n      for (const { typeDescription,feeId, feeDescription, unitFeeAmount, accountNo, costCenterNo, incomeTypeId,customer,quantity} of this.feesAndChargeItems) {\n\n        this.billItem.push({\n          fiscalYear: this.fiscalYear,\n          typeDescription,\n          feeDescription,\n          quantity,\n          unitFeeAmount: unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId,\n          amount:  unitFeeAmount * quantity,\n          customer: customer,\n          zone: this.zone,\n          subCountyID:this.subCounty.subCountyID,\n          subCountyName:this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.description,\n        });\n\n      }\n\n      this.totalAmount = this.billItem.reduce((total, item) => total + (Number(item.unitFeeAmount) * Number(item.quantity)), 0);\n\n\n    },\n    generateBill(){\n\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data,biller)\n          .then((res) =>{\n            this.message =res.data.message\n            if (res.data.success) {\n              this.billDetails = res.data.data.bill.billDetails\n              this.billInfo = res.data.data.bill.billInfo\n              this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n              this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\")\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      })\n      const routeData = this.$router.resolve({name: 'bill'});\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        })\n        const routeData = this.$router.resolve({name: 'receipt'});\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod(){\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false\n    },\n    showTransactionSummary(paymentMode){\n\n      this.paymentData.paymentMode = paymentMode\n\n      if(paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n\n      }\n\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false\n    },\n    makePayment() {\n      if(this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber\n\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n\n      execute(data, stream)\n          .then((res) => {\n            if (res.data.success) {\n              this.paymentMethod = false;\n              this.paymentPanel = false;\n              //start checking payment\n              this.timer = setInterval(() => {\n\n                this.checkPayment();\n              }, 3000);\n            } else {\n              this.rate = null;\n              alert(res.data.message);\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1\n      if(this.randomNumber === 1){\n        this.message = \"Waiting for payment.\";\n      }\n      if(this.randomNumber === 2){\n        this.message = \"Waiting for payment..\";\n      }\n      if(this.randomNumber ===3){\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.message = null;\n              clearInterval(this.timer);\n              this.receipt = true;\n              this.paymentData.success = false;\n              this.transaction = res.data.data.transaction;\n              this.receiptDetails = res.data.data.receipt.receiptDetails\n              //Close the modal\n              this.transactionSummary = false\n              this.transactionCompleted = true\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n"],"mappings":";AAghEA;AACA,OAAOA,aAAY,MAAO,6BAA6B;AACvD,SAAQC,OAAO,EAACC,MAAM,EAACC,IAAI,EAACC,OAAO,EAACC,KAAK,QAAO,OAAO;AACvD,OAAOC,CAAA,MAAO,QAAO;AAErB,OAAOC,WAAU,MAAO,iBAAiB;AACzC,OAAO,gCAAgC,EAAE;AACzC,SAASC,GAAE,QAAS,KAAK;AACzB,OAAOC,OAAM,MAAO,YAAY;AAChC;;AAIA,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,UAAU,EAAE;IAACX,aAAa;IAACO,WAAW;IAACE;EAAO,CAAC;EAE/CG,IAAIA,CAAA,EAAE;IACJ,MAAMC,aAAY,GAAIL,GAAG,CAAC,IAAI,CAAC;IAC/B,MAAMM,OAAM,GAAI,CACd;MAAEC,KAAK,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAU,CAAC,EACvC;MAAED,KAAK,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAU,CAAC,EACvC;MAAED,KAAK,EAAE,yCAAyC;MAAEC,KAAK,EAAE;IAA0C,CAAC,EACtG;MAAED,KAAK,EAAE,2CAA2C;MAAEC,KAAK,EAAE;IAA4C,CAAC,EAC1G;MAAED,KAAK,EAAE,4CAA4C;MAAEC,KAAK,EAAE;IAA6C,CAAC,EAC5G;MAAED,KAAK,EAAE,2CAA2C;MAAEC,KAAK,EAAE;IAA4C,CAAC,EAC1G;MAAED,KAAK,EAAE,qBAAqB;MAAEC,KAAK,EAAE;IAAsB,CAAC,CAC/D;IAED,OAAM;MAEJH,aAAa;MACbC,OAAO;MAEPG,IAAI,EAAC,EAAE;MACPC,KAAK,EAAC,EAAE;MACRC,MAAM,EAAC,EAAE;MACTC,UAAU,EAAC,EAAE;MACbC,QAAQ,EAAE,CAAC;MACXC,aAAa,EAAE;QACbC,MAAM,EAAE,IAAI;QACZC,SAAS,EAAE,IAAI;QACfC,MAAM,EAAE,IAAI;QACZC,OAAO,EAAE;MACX,CAAC;MACDC,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAC,EAAE;MACdC,YAAY,EAAC,EAAE;MACfC,KAAK,EAAC,EAAE;MACRC,oBAAoB,EAAE,KAAK;MAC3BC,kBAAkB,EAAE,KAAK;MACzBC,YAAY,EAAE,IAAI;MAClBC,aAAa,EAAE,KAAK;MACpBC,WAAW,EAAC;QACVC,EAAE,EAAC,EAAE;QACLb,MAAM,EAAC,EAAE;QACTc,YAAY,EAAC,EAAE;QACfC,qBAAqB,EAAC,EAAE;QACxBC,YAAY,EAAC,EAAE;QACfC,SAAS,EAAC,EAAE;QACZtB,KAAK,EAAC,EAAE;QACRuB,YAAY,EAAC,EAAE;QACfC,aAAa,EAAC,EAAE;QAChBC,WAAW,EAAC,EAAE;QACdC,MAAM,EAAC,EAAE;QACTC,WAAW,EAAC,EAAE;QACdC,MAAM,EAAC,EAAE;QACTC,WAAW,EAAC;MACd,CAAC;MACDC,QAAQ,EAAC,EAAE;MACXC,gBAAgB,EAAC,EAAE;MACnBC,SAAS,EAAC;QACRL,WAAW,EAAC,IAAI;QAChBM,aAAa,EAAC;MAChB,CAAC;MACDC,IAAI,EAAC;QACHR,MAAM,EAAC,IAAI;QACXS,QAAQ,EAAC;MACX,CAAC;MACDC,SAAS,EAAC;QACRC,MAAM,EAAC,IAAI;QACXC,SAAS,EAAC;UACRpB,EAAE,EAAE,IAAI;UACRqB,aAAa,EAAC,IAAI;UAClBD,SAAS,EAAE;QACb,CAAC;QACDE,OAAO,EAAC;UACNtB,EAAE,EAAE,IAAI;UACRuB,eAAe,EAAE,IAAI;UACrBC,WAAW,EAAC,IAAI;UAChBH,aAAa,EAAE,IAAI;UACnBD,SAAS,EAAE,IAAI;UACfK,UAAU,EAAE,IAAI;UAChBC,UAAU,EAAE;QACd;MACF,CAAC;MACDC,iBAAiB,EAAC,CAAC,CAAC;MACpBC,gBAAgB,EAAC,CAAC,CAAC;MACnBC,SAAS,EAAC,EAAE;MACZC,WAAW,EAAC,EAAE;MACdzC,MAAM,EAAC,CAAC;MACR0C,aAAa,EAAC,CAAC;MACfvB,MAAM,EAAC,EAAE;MACTC,WAAW,EAAC,EAAE;MACdc,eAAe,EAAC,EAAE;MAClBF,aAAa,EAAC,EAAE;MAChBI,UAAU,EAAC,EAAE;MACbO,OAAO,EAAC,CACN;QACEhC,EAAE,EAAE,EAAE;QACNyB,UAAU,EAAE,EAAE;QACdC,UAAU,EAAE;MACd,EACD;MACDO,UAAU,EAAC,CAAC;QACVjC,EAAE,EAAE,EAAE;QACNqB,aAAa,EAAE,EAAE;QACjBD,SAAS,EAAE;MACb,CAAC,CAAC;MACFc,YAAY,EAAC,CAAC;QACZlC,EAAE,EAAE,EAAE;QACNuB,eAAe,EAAE,EAAE;QACnBC,WAAW,EAAE,EAAE;QACfH,aAAa,EAAE,EAAE;QACjBD,SAAS,EAAE,EAAE;QACbK,UAAU,EAAE,EAAE;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;MACFS,WAAW,EAAC,CAAC;QACX1B,WAAW,EAAE,EAAE;QACfM,aAAa,EAAE;MACjB,CAAC,CAAC;MACFqB,KAAK,EAAC,CAAC;QACL5B,MAAM,EAAE,EAAE;QACVS,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFoB,QAAQ,EAAC,EAAE;MACXC,kBAAkB,EAAC,CAAC;QAClBC,KAAK,EAAE,IAAI;QACXC,cAAc,EAAE,IAAI;QACpBC,aAAa,EAAE,IAAI;QACnBV,aAAa,EAAE,IAAI;QACnB3B,SAAS,EAAE,IAAI;QACfsC,YAAY,EAAE,IAAI;QAClBC,OAAO,EAAE,IAAI;QACbC,WAAW,EAAC,IAAG;QACfzC,YAAY,EAAC,IAAI;QACjBtB,IAAI,EAAE,IAAI;QACVgE,eAAe,EAAE,IAAI;QACrBC,QAAQ,EAAE,IAAI;QACd7D,QAAQ,EAAE;MACZ,CAAC,CAAC;MACF8D,cAAc,EAAC,CAAC;QACdR,KAAK,EAAE,IAAI;QACXC,cAAc,EAAE,IAAI;QACpBC,aAAa,EAAE,IAAI;QACnBV,aAAa,EAAE,IAAI;QACnB3B,SAAS,EAAE,IAAI;QACfsC,YAAY,EAAE,IAAI;QAClBC,OAAO,EAAE,IAAI;QACbC,WAAW,EAAC,IAAG;QACfzC,YAAY,EAAC,IAAI;QACjBtB,IAAI,EAAE,IAAI;QACVgE,eAAe,EAAE;MACnB,CAAC,CAAC;MACFG,WAAW,EAAC,CAAC;MACbC,WAAW,EAAE;QACXC,aAAa,EAAE,IAAI;QACnBC,KAAK,EAAE,IAAI;QACX/D,SAAS,EAAE,IAAI;QACfC,MAAM,EAAE,IAAI;QACZG,WAAW,EAAE,IAAI;QACjBF,OAAO,EAAE,KAAK;QACd8D,WAAW,EAAC,IAAI;QAChBC,YAAY,EAAC,IAAI;QACjBC,WAAW,EAAC,IAAI;QAChBC,kBAAkB,EAAC;MACrB,CAAC;MACDC,KAAK,EAAE,IAAI;MACXC,YAAY,EAAE,IAAI;MAClBC,cAAc,EAAE;QACd1D,EAAE,EAAE,EAAE;QACN2D,SAAS,EAAE,IAAI;QACfxE,MAAM,EAAE,EAAE;QACVkB,YAAY,EAAE,EAAE;QAChBC,aAAa,EAAE,EAAE;QACjBC,WAAW,EAAE,EAAE;QACfJ,YAAY,EAAE,EAAE;QAChBC,SAAS,EAAE,EAAE;QACbF,qBAAqB,EAAE,EAAE;QACzBpB,KAAK,EAAE,EAAE;QACT0B,MAAM,EAAE,EAAE;QACVC,WAAW,EAAC,EAAE;QACdmD,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE,EAAE;QACVC,eAAe,EAAE,EAAE;QACnBC,MAAM,EAAE,EAAE;QACVpD,WAAW,EAAE,EAAE;QACfqD,YAAY,EAAE,EAAE;QAChBC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,EAAE;QACdC,QAAQ,EAAE,EAAE;QACZzD,MAAM,EAAE;MACV,CAAC;MACD0D,YAAY,EAAE,CACZ;QACEpE,EAAE,EAAE,EAAE;QACN2D,SAAS,EAAE,EAAE;QACbxE,MAAM,EAAE,EAAE;QACVkF,SAAS,EAAE,EAAE;QACb/D,aAAa,EAAE,EAAE;QACjBC,WAAW,EAAE,EAAE;QACfuC,QAAQ,EAAE,EAAE;QACZwB,aAAa,EAAE,EAAE;QACjBxC,WAAW,EAAE,EAAE;QACfyC,WAAW,EAAE,EAAE;QACfC,UAAU,EAAE,EAAE;QACdhE,MAAM,EAAE,EAAE;QACVC,WAAW,EAAE,EAAE;QACfE,WAAW,EAAE,EAAE;QACfqD,YAAY,EAAE,EAAE;QAChBC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,EAAE;QACdO,SAAS,EAAE,EAAE;QACbC,OAAO,EAAE,EAAE;QACXP,QAAQ,EAAE,EAAE;QACZzD,MAAM,EAAE;MACV,CAAC,CAAC;MACJ;MACAiE,aAAa,EAAC;QACZC,UAAU,EAAC;UACTlC,YAAY,EAAE,IAAI;UAClBxC,qBAAqB,EAAC,IAAI;UAC1B2E,gBAAgB,EAAE,IAAI;UACtBC,eAAe,EAAE,IAAI;UACrBpE,MAAM,EAAE;QACV,CAAC;QACDqE,WAAW,EAAC,CAAC;UACXrC,YAAY,EAAE,IAAI;UAClBxC,qBAAqB,EAAC,IAAI;UAC1B2E,gBAAgB,EAAE,IAAI;UACtBC,eAAe,EAAE,IAAI;UACrBpE,MAAM,EAAE;QAAI,CAAC;MACjB,CAAC;MACDsE,cAAc,EAAC,QAAQ;MACvB;MACAC,WAAW,EAAC,IAAI;MAChBjH,OAAO,EAAC;QACNkH,KAAK,EAAC,EAAE;QACRC,UAAU,EAAC,EAAE;QACbC,SAAS,EAAC,EAAE;QACZC,QAAQ,EAAC,IAAI;QACbC,QAAQ,EAAC,IAAI;QACbL,WAAW,EAAC,IAAI;QAChBM,YAAY,EAAC,IAAI;QACjBC,OAAO,EAAE,IAAI;QACb3G,IAAG,EAAI;UACLmB,EAAE,EAAC,IAAI;UACPS,WAAW,EAAE,IAAI;UACjBM,aAAa,EAAE,IAAI;UACnBlC,IAAI,EAAC,IAAI;UACT2B,MAAM,EAAE,IAAI;UACZS,QAAQ,EAAC,IAAI;UACbwE,GAAG,EAAE,IAAI;UACTC,GAAG,EAAE,IAAI;UACTC,YAAY,EAAC,IAAI;UACjBC,cAAc,EAAE,IAAI;UACpBC,QAAQ,EAAE;QACZ;MACF,CAAC;MACDC,OAAO,EAAC,IAAI;MAEZ;MACAC,UAAU,EAAC,IAAI;MACf9H,KAAK,EAAC;QACJoB,MAAM,EAAE,IAAI;QACZ2G,OAAO,EAAC,EAAE;QACVC,MAAM,EAAC,EAAE;QACTC,eAAe,EAAC,CAAE;UAChBxD,YAAY,EAAE,IAAI;UAClBxC,qBAAqB,EAAE,IAAI;UAC3B2E,gBAAgB,EAAE,IAAI;UACtBC,eAAe,EAAE,IAAI;UACrBpE,MAAM,EAAE,IAAI;UACZyF,YAAY,EAAE,IAAI;UAClBP,cAAc,EAAE,IAAI;UACpBD,YAAY,EAAE;QAChB,CAAC,CAAC;QACFS,kBAAkB,EAAC,CACjB;UACE7D,KAAK,EAAE,IAAI;UACXC,cAAc,EAAE,IAAI;UACpBC,aAAa,EAAE,IAAI;UACnBV,aAAa,EAAE,IAAI;UACnB3B,SAAS,EAAE,IAAI;UACfsC,YAAY,EAAE,IAAI;UAClBC,OAAO,EAAE,IAAI;UACbC,WAAW,EAAE,IAAI;UACjBzC,YAAY,EAAE,IAAI;UAClBtB,IAAI,EAAE,IAAI;UACVgE,eAAe,EAAE,IAAI;UACrBwD,QAAQ,EAAE,IAAI;UACdC,QAAQ,EAAE;QACZ,EACD;QAEDC,eAAe,EAAC;UACdvG,EAAE,EAAE,IAAI;UACR+F,UAAU,EAAE,IAAI;UAChBS,YAAY,EAAE,IAAI;UAClB/F,WAAW,EAAE,IAAI;UACjBM,aAAa,EAAE,IAAI;UACnBP,MAAM,EAAE,IAAI;UACZS,QAAQ,EAAE,IAAI;UACdwF,UAAU,EAAE,IAAI;UAChBC,eAAe,EAAE,IAAI;UACrBC,YAAY,EAAE,IAAI;UAClBC,iBAAiB,EAAE,IAAI;UACvBC,OAAO,EAAE,IAAI;UACbC,MAAM,EAAE,IAAI;UACZC,WAAW,EAAE,IAAI;UACjBC,iBAAiB,EAAE,IAAI;UACvBhB,OAAM,EAAI,IAAI;UACdiB,WAAW,EAAE,IAAI;UACjBC,gBAAgB,EAAE,IAAI;UACtBC,mBAAkB,EAAI,IAAI;UAC1BlH,YAAW,EAAI,IAAI;UACnBnB,KAAI,EAAI,IAAI;UACZsI,aAAa,EAAE,IAAI;UACnBC,aAAY,EAAI,IAAI;UACpBC,UAAU,EAAE,IAAI;UAChBC,aAAa,EAAE,IAAI;UACnBC,kBAAkB,EAAE,IAAI;UACxBC,iBAAiB,EAAE,IAAI;UACvBC,YAAY,EAAE,IAAI;UAClBC,kBAAkB,EAAE,IAAI;UACxBC,kBAAkB,EAAE,IAAI;UACxBC,SAAS,EAAE,IAAI;UACfC,OAAO,EAAE,IAAI;UACbC,UAAU,EAAE,IAAI;UAChBC,UAAU,EAAE,IAAI;UAChBC,MAAM,EAAE,IAAI;UACZhE,SAAS,EAAE,IAAI;UACfiE,aAAa,EAAE,IAAI;UACnBvH,WAAW,EAAE,IAAI;UACjB8E,GAAE,EAAI,GAAG;UACTC,GAAE,EAAI;QACR;MACF,CAAC;MACDyC,OAAO,EAAC,CACN;QACEnI,EAAE,EAAE,IAAI;QACR6E,gBAAgB,EAAE,IAAI;QACtBuD,MAAM,EAAE;MACV,CAAC,CACF;MACDC,KAAK,EAAE,CACL;QACErI,EAAE,EAAE,IAAI;QACRsI,IAAI,EAAE;MACR,CAAC;IAEL;EACF,CAAC;EACDC,KAAK,EAAC;IACJzH,SAAS,EAAE,SAAAA,CAAA,EAAY;MAErB,IAAI,CAACsB,KAAI,GAAG,EAAC;MACb,IAAI,CAACpB,IAAG,GAAI,EAAC;MAEb,IAAG,IAAI,CAACgE,cAAc,KAAG,KAAK,EAAC;QAC7B,IAAG,IAAI,CAAClE,SAAS,CAACC,aAAY,KAAMyH,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC,EAAC;UAC1E;UACA,IAAI,CAACxK,KAAK,CAACsI,eAAe,CAACxF,aAAY,GAAI,IAAI,CAACD,SAAS,CAACC,aAAY;UACtE,IAAI,CAAC9C,KAAK,CAACsI,eAAe,CAAC9F,WAAU,GAAI,IAAI,CAACK,SAAS,CAACL,WAAU;UAClE,IAAI,CAACiI,QAAQ,EAAC;QAChB,CAAC,MAAK;UACJC,KAAK,CAAE,4EAA2EH,cAAc,CAACC,OAAO,CAAC,eAAe,CAAE,EAAC;QAC7H;MAIF,CAAC,MAAK;QACJ,IAAI,CAACC,QAAQ,EAAC;MAChB;IAEF,CAAC;IACD1H,IAAI,EAAE,SAAAA,CAAA,EAAY;MAChB;MACA,IAAI,CAAC/C,KAAK,CAACsI,eAAe,CAACtF,QAAO,GAAI,IAAI,CAACD,IAAI,CAACC,QAAO;MACvD,IAAI,CAAChD,KAAK,CAACsI,eAAe,CAAC/F,MAAK,GAAI,IAAI,CAACQ,IAAI,CAACR,MAAK;IAErD,CAAC;IACDuF,UAAU,EAAE,SAAAA,CAAA,EAAY;MACtB,IAAG,IAAI,CAACA,UAAS,KAAK,IAAG,IAAK,IAAI,CAACA,UAAS,KAAM,EAAE,EAAC,CAErD,CAAC,MAAK;QACJ,IAAI,CAAC6C,WAAW,CAAC,IAAI;MACvB;IAEF,CAAC;IACD3J,QAAQ,EAAE,SAAAA,CAAA,EAAY;MAEpB,IAAI,CAACI,MAAK,GAAI,IAAI,CAACJ,QAAO,GAAK,IAAI,CAAC8C,aAAa;MACjD,IAAI,CAACO,kBAAiB,GAAI,IAAI,CAACA,kBAAkB,CAACuG,GAAG,CAACC,IAAG,IAAK;QAC5D,IAAIA,IAAI,CAACvG,KAAI,KAAM,IAAI,CAACzD,KAAK,EAAE;UAC7BgK,IAAI,CAAC7J,QAAO,GAAI,IAAI,CAACA,QAAQ;QAC/B;QACA,OAAO6J,IAAI;MACb,CAAC,CAAC;IAEJ,CAAC;IACD7D,WAAW,EAAE,SAAAA,CAAA,EAAY;MACvB,IAAI,CAAC8D,qBAAqB,CAAC,IAAI,CAACjK,KAAK,EAAC,IAAI,CAACmG,WAAW;IACxD;EACF,CAAC;EACD+D,OAAOA,CAAA,EAAG;IACR,IAAI,CAACnK,IAAG,GAAI2J,cAAc,CAACC,OAAO,CAAC,aAAa;IAChD,IAAI,CAACQ,cAAc,EAAC;IACpB,IAAI,CAACC,QAAQ,EAAC;IACd,IAAI,CAACC,cAAc,EAAC;IACpB,IAAI,CAACC,QAAQ,EAAC;IACd,IAAI,CAACC,UAAU,EAAC;IAChB,IAAI,CAACC,QAAQ,EAAC;IACd,IAAI,CAACC,UAAU,EAAC;;IAEhB;;;IAGA,IAAI,CAACC,OAAO,EAAC;IAEb,IAAIC,MAAK,GAAIC,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;IAC9DF,MAAM,CAACG,KAAK,EAAE;EAChB,CAAC;EACDC,OAAO,EAAC;IAENN,UAAUA,CAAA,EAAE;MAEV,MAAM/K,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,YAAY,CAAC;MACrCvL,IAAI,CAACuL,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC;MAC/BvL,IAAI,CAACuL,MAAM,CAAC,cAAc,EAAEvB,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;MACnEjK,IAAI,CAACuL,MAAM,CAAC,aAAa,EAAGvB,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;MAClE5K,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAC,MAAM;QACV;MAAA,CACD,EACAC,KAAK,CAAC,MAAM;QACX;MAAA,CACD,CAAC;IAER,CAAC;IAED;IACArB,WAAWA,CAACsB,OAAO,EAAC;MAClB,MAAM1L,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC;MACtCvL,IAAI,CAACuL,MAAM,CAAC,YAAY,EAAE,IAAI,CAAChE,UAAU,CAAC;MAC1ClI,OAAO,CAACW,IAAI,EAACP,KAAK,EACb+L,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACgD,kBAAkB,CAAC8H,MAAM,CAAC,CAAC;UAChC,IAAI,CAACnM,KAAK,CAACsI,eAAc,GAAI4D,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC6L,QAAO;UAClD,IAAI,CAACvJ,SAAS,CAACL,WAAU,GAAI,IAAI,CAACxC,KAAK,CAACsI,eAAe,CAAC9F,WAAU;UAClE,IAAI,CAACK,SAAS,CAACC,aAAY,GAAK,IAAI,CAAC9C,KAAK,CAACsI,eAAe,CAACxF,aAAY;UACvE,IAAI,CAACC,IAAI,CAACR,MAAK,GAAK,IAAI,CAACvC,KAAK,CAACsI,eAAe,CAAC/F,MAAK;UACpD,IAAI,CAACQ,IAAI,CAACC,QAAO,GAAI,IAAI,CAAChD,KAAK,CAACsI,eAAe,CAACtF,QAAO;UACvD;;UAGA,IAAI,CAACqB,kBAAiB,GAAI6H,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuE,cAAa;UAErD,IAAI,CAACT,kBAAiB,GAAI,IAAI,CAACA,kBAAkB,CAACuG,GAAG,CAACC,IAAG,IAAK;YAC5D,IAAIA,IAAI,CAACvG,KAAI,KAAM,IAAI,CAACtE,KAAK,CAACsI,eAAe,CAACzH,KAAK,EAAE;cACnDgK,IAAI,CAAChG,QAAO,GAAI,eAAc,GAAI,IAAI,CAAC7E,KAAK,CAACsI,eAAe,CAACR,UAAU;cACvE+C,IAAI,CAAC7J,QAAO,GAAI,IAAI,CAACA,QAAQ;YAC/B,CAAC,MAAK;cACJ6J,IAAI,CAAChG,QAAO,GAAG,EAAC;YAClB;YACA,OAAOgG,IAAI;UACb,CAAC,CAAC;UAEF,IAAG,CAACoB,OAAO,EAAC;YACV,IAAI,CAACI,SAAS,CAAC,IAAI,CAACrM,KAAK,CAACsI,eAAe,CAACC,YAAY;UACxD;QAEF,CAAC,MAAI;UACH,IAAI,CAACV,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD0E,gBAAgBA,CAAA,EAAE;MAEhB,IAAG,IAAI,CAACxJ,IAAG,KAAM,EAAE,EAAC;QAClB2H,KAAK,CAAE,4EAA2EH,cAAc,CAACC,OAAO,CAAC,eAAe,CAAE,EAAC;QAC3H;MACF;MAEA,IAAG,IAAI,CAACzJ,UAAS,KAAK,EAAE,EAAC;QAEvB2J,KAAK,CAAC,gCAAgC;QACtC;MACF;MAEA,IAAI,CAAC1K,KAAK,CAACsI,eAAe,CAAC2B,aAAY,GAAIM,cAAc,CAACC,OAAO,CAAC,aAAa;MAC/E,IAAI,CAACxK,KAAK,CAACsI,eAAe,CAACtC,SAAQ,GAAIuE,cAAc,CAACC,OAAO,CAAC,cAAc;MAE5E,MAAMjK,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,kBAAkB,CAAC;MAC3CvL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAGU,IAAI,CAACC,SAAS,CAAC,IAAI,CAACzM,KAAK,CAACsI,eAAe,CAAC,CAAC;MACpE/H,IAAI,CAACuL,MAAM,CAAC,MAAM,EAAGvB,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACpD5K,OAAO,CAACW,IAAI,EAACP,KAAK,EACb+L,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACyG,UAAS,GAAIoE,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC6L,QAAQ,CAACtE,UAAU;UACnD,IAAI,CAAC6C,WAAW,CAAC,KAAK;QACxB,CAAC,MAAI;UACH,IAAI,CAAC9C,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDsD,QAAQA,CAAA,EAAE;MACR,MAAM5K,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC;MACnClM,OAAO,CAACW,IAAI,EAACP,KAAK,EACb+L,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACrB,KAAK,CAACgI,MAAK,GAAGkE,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACyH,MAAK;QACxC,CAAC,MAAI;UACH,IAAI,CAACH,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDwD,QAAQA,CAAA,EAAE;MACR,MAAM9K,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC;MACnClM,OAAO,CAACW,IAAI,EAACP,KAAK,EACb+L,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC+I,KAAK,GAAE8B,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC6J,KAAI;QAChC,CAAC,MAAI;UACH,IAAI,CAACvC,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDuD,UAAUA,CAAA,EAAE;MACV,MAAM7K,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,YAAY,CAAC;MACrClM,OAAO,CAACW,IAAI,EAACP,KAAK,EACb+L,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACrB,KAAK,CAAC+H,OAAM,GAAGmE,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACwH,OAAM;QAC1C,CAAC,MAAI;UACH,IAAI,CAACF,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD6E,gBAAgBA,CAAA,EAAE;MAChB,IAAI,CAAC7E,OAAM,GAAG,IAAG;MACjB,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAE,UAAU,EAAE,gBAAgB,CAAC;MAC1CvL,IAAI,CAACuL,MAAM,CAAE,kBAAkB,EAAE,KAAK,CAAC;MACvClM,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACrB,KAAK,CAACiI,eAAc,GAAGiE,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuG,WAAU;QACtD,CAAC,MAAI;UACH,IAAI,CAACe,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDoD,QAAQA,CAAA,EAAE;MACR,MAAM1K,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC;MACnClM,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACsL,KAAI,GAAGT,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACoM,KAAI;QAChC,CAAC,MAAI;UACH,IAAI,CAAC9E,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD+E,mBAAmBA,CAACC,KAAK,EAAC;MACxB,IAAI,CAAChF,OAAM,GAAG,IAAG;MACjB,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3B,IAAI,CAAC7L,KAAK,CAACsI,eAAe,CAACtG,YAAW,GAAI6K,KAAK,CAACC,MAAM,CAACnM,KAAI;MAC3DJ,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,mBAAmB,CAAC;MAC5CvL,IAAI,CAACuL,MAAM,CAAC,cAAc,EAAEe,KAAK,CAACC,MAAM,CAACnM,KAAK,CAAC;MAC/Cf,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACrB,KAAK,CAACmI,kBAAiB,GAAG+D,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuE,cAAa;QAC5D,CAAC,MAAI;UACH,IAAI,CAAC+C,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDkF,wBAAwBA,CAACF,KAAK,EAAC;MAC7B;MACA,IAAI,CAACG,oBAAoB,CAACH,KAAK;MAE/B,MAAMtM,IAAG,GAAIiM,IAAI,CAACS,KAAK,CAACJ,KAAK,CAACC,MAAM,CAACnM,KAAK;MAC1C,IAAI,CAACX,KAAK,CAACsI,eAAe,CAACW,gBAAe,GAAI1I,IAAI,CAACoE,WAAU;MAC7D,IAAI,CAAC3E,KAAK,CAACsI,eAAe,CAACY,mBAAkB,GAAK3I,IAAI,CAACgE,cAAa;MACpE,IAAI,CAACvE,KAAK,CAACoB,MAAK,GAAKb,IAAI,CAACuD,aAAY;MACtC,IAAI,CAAC9D,KAAK,CAACsI,eAAe,CAACzH,KAAI,GAAIN,IAAI,CAAC+D,KAAK;IAE/C,CAAC;IAED;IACA4I,QAAQA,CAAA,EAAE;MACR,MAAM3M,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,iBAAiB,CAAC;MAC1ClM,OAAO,CAACW,IAAI,EAACR,OAAO,EACfgM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACtB,OAAM,GAAGmM,GAAG,CAAC3L,IAAI,CAACA,IAAG;QAC5B,CAAC,MAAI;UACH,IAAI,CAACsH,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDsF,OAAOA,CAAA,EAAE;MACP,IAAI,CAACpN,OAAO,CAACwH,OAAM,GAAI,IAAG;MAC1B,IAAI,CAACM,OAAM,GAAI,IAAG;MAClB,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,mBAAmB,CAAC;MAC5CvL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC/L,OAAO,CAACsH,QAAQ,CAAC;MAC9C9G,IAAI,CAACuL,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC/L,OAAO,CAACqH,QAAQ,CAAC;MAClD7G,IAAI,CAACuL,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC/L,OAAO,CAACuH,YAAY,CAAC;MACtD1H,OAAO,CAACW,IAAI,EAACR,OAAO,EACfgM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACtB,OAAO,CAACwH,OAAM,GAAI2E,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC6M,KAAK,CAAChM,MAAK;UAChD,IAAI,CAACiD,kBAAiB,GAAI6H,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuE,cAAa;QACvD,CAAC,MAAI;UACH,IAAI,CAAC+C,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDwF,UAAUA,CAACR,KAAK,EAAC;MACf,MAAMtM,IAAG,GAAIiM,IAAI,CAACS,KAAK,CAACJ,KAAK,CAACC,MAAM,CAACnM,KAAK;MAC1C,IAAI,CAACZ,OAAO,CAACa,IAAG,GAAIL,IAAG;MACvB,IAAI,CAACK,IAAG,GAAI,IAAI,CAACb,OAAO,CAACa,IAAI,CAACA,IAAG;MACjC,IAAI,CAACiC,SAAS,CAACL,WAAU,GAAI,IAAI,CAACzC,OAAO,CAACa,IAAI,CAAC4B,WAAU;MACzD,IAAI,CAACK,SAAS,CAACC,aAAY,GAAI,IAAI,CAAC/C,OAAO,CAACa,IAAI,CAACkC,aAAY;MAE7D,IAAI,CAACC,IAAI,CAACC,QAAO,GAAI,IAAI,CAACjD,OAAO,CAACa,IAAI,CAACoC,QAAO;MAC9C,IAAI,CAACD,IAAI,CAACR,MAAK,GAAI,IAAI,CAACxC,OAAO,CAACa,IAAI,CAAC2B,MAAK;IAC5C,CAAC;IAED;IACAuI,qBAAqBA,CAACxG,KAAK,EAACO,QAAQ,EAAC;MAEnC,IAAI,CAACR,kBAAiB,GAAI,IAAI,CAACA,kBAAkB,CAACuG,GAAG,CAACC,IAAG,IAAK;QAC5D,IAAIA,IAAI,CAACvG,KAAI,KAAMA,KAAK,EAAE;UACvBuG,IAAI,CAAChG,QAAO,GAAIA,QAAQ;QAC3B;QACA,OAAOgG,IAAI;MACb,CAAC,CAAC;IACJ,CAAC;IACDyC,iBAAiBA,CAAChJ,KAAK,EAACO,QAAQ,EAAC;MAE/B,IAAI,CAACR,kBAAiB,GAAI,IAAI,CAACA,kBAAkB,CAACuG,GAAG,CAACC,IAAG,IAAK;QAC5D,IAAIA,IAAI,CAACvG,KAAI,KAAMA,KAAK,EAAE;UACxBuG,IAAI,CAAChG,QAAO,GAAIA,QAAQ;QAC1B,CAAC,MAAK;UACJgG,IAAI,CAAChG,QAAO,GAAG,EAAC;QAClB;QACA,OAAOgG,IAAI;MACb,CAAC,CAAC;MACF,IAAI,CAACwB,SAAS,CAAC,IAAI,CAAC9K,WAAW,CAAC;IAClC,CAAC;IACDyL,oBAAoBA,CAACH,KAAK,EAAC;MACzB,MAAMtM,IAAG,GAAIiM,IAAI,CAACS,KAAK,CAACJ,KAAK,CAACC,MAAM,CAACnM,KAAK;MAC1C,IAAI,CAACE,KAAI,GAAIN,IAAI,CAAC+D,KAAI;MACtB,IAAI,CAACR,aAAY,GAAIvD,IAAI,CAACuD,aAAY;MACtC,IAAI,CAACO,kBAAiB,GAAI,EAAC;MAC3B,IAAI,CAACA,kBAAkB,CAACkJ,IAAI,CAAChN,IAAI;MAEjC,IAAI,CAACa,MAAK,GAAI,IAAI,CAACJ,QAAO,GAAK,IAAI,CAAC8C,aAAa;MACjD,IAAI,CAACO,kBAAiB,GAAI,IAAI,CAACA,kBAAkB,CAACuG,GAAG,CAACC,IAAG,IAAK;QAC5D,IAAIA,IAAI,CAACvG,KAAI,KAAM,IAAI,CAACzD,KAAK,EAAE;UAC7BgK,IAAI,CAAC7J,QAAO,GAAI,IAAI,CAACA,QAAQ;QAC/B;QACA,OAAO6J,IAAI;MACb,CAAC,CAAC;IACJ,CAAC;IACD2C,iBAAiBA,CAACX,KAAK,EAAC;MACtB,MAAM1J,SAAQ,GAAIqJ,IAAI,CAACS,KAAK,CAACJ,KAAK,CAACC,MAAM,CAACnM,KAAK;MAC/C,IAAI,CAACsC,SAAS,CAACE,SAAQ,GAAIA,SAAQ;MACnCsK,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAACzK,SAAS,CAACE,SAAS,CAACC,aAAa,CAAC;MAC9D,IAAI,CAACuK,iBAAiB,EAAC;MACvB,IAAI,CAACC,eAAe,EAAC;IACvB,CAAC;IACDC,kBAAkBA,CAAChB,KAAK,EAAC;MACvB,MAAMlM,KAAI,GAAIkM,KAAK,CAACC,MAAM,CAACnM,KAAI;MAC/B,MAAMmN,MAAK,GAAItB,IAAI,CAACS,KAAK,CAACtM,KAAK,CAAC;MAChC,IAAI,CAACoN,wBAAwB,CAACD,MAAM,CAACrJ,YAAY;IACnD,CAAC;IACDuJ,cAAcA,CAACpH,gBAAgB,EAAC;MAC9B,IAAI,CAACiB,OAAM,GAAG,IAAG;MACjB,IAAI,CAACnB,aAAa,CAACI,WAAW,CAACqF,MAAM,CAAC,CAAC;MACvC,IAAI,CAACrH,cAAc,CAACqH,MAAM,CAAC,CAAC;MAC5B,MAAM5L,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,gBAAgB,CAAC;MACzCvL,IAAI,CAACuL,MAAM,CAAC,kBAAkB,EAAElF,gBAAgB,CAAC;MACjDhH,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACqF,aAAa,CAACI,WAAU,GAAGoF,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuG,WAAU;QAC1D,CAAC,MAAI;UACH,IAAI,CAACe,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDkG,wBAAwBA,CAACtJ,YAAY,EAAC;MACpC,IAAI,CAACoD,OAAM,GAAG,IAAG;MACjB,IAAI,CAAC/C,cAAc,CAACqH,MAAM,CAAC,CAAC;MAC5B,MAAM5L,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,mBAAmB,CAAC;MAC5CvL,IAAI,CAACuL,MAAM,CAAC,cAAc,EAACrH,YAAY,CAAC;MACxC7E,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACyD,cAAa,GAAIoH,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuE,cAAa;QACnD,CAAC,MAAI;UACH,IAAI,CAAC+C,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IAED0D,OAAOA,CAAA,EAAG;MAER;;MAEAtL,CAAC,CAAC,cAAc,CAAC,CAACgO,EAAE,CAAC,OAAO,EAAE,YAAY;QACxChO,CAAC,CAAC,IAAI,CAAC,CAACiO,MAAM,EAAE,CAACA,MAAM,EAAE,CAACC,QAAQ,CAAC,UAAU,CAAC;QAC9ClO,CAAC,CAAC,cAAc,CAAC,CAACkO,QAAQ,CAAC,QAAQ,CAAC;QACpC;QACAzD,KAAK,CAAC,KAAK;QACX;MACF,CAAC,CAAC;;MAGF;;MAEA,MAAM0D,QAAO,GAAI,mBAAmB;MACpC,MAAMC,SAAQ,GAAI,iBAAiB;MAEnC,IAAI5N,OAAM,GAAI;QACZ6N,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE;UAAC/G,GAAG,EAAE4G,QAAQ;UAAE3G,GAAG,EAAE4G;QAAS;MACxC;;MAGA;MACA,IAAIzD,GAAE,GAAI,IAAI4D,MAAM,CAACC,IAAI,CAACC,GAAG,CAACjD,QAAQ,CAACkD,cAAc,CAAC,SAAS,CAAC,EAAElO,OAAO,CAAC;MAE1E,IAAImO,QAAO,GAAI,EAAE;;MAEjB;;MAEA;MACA,SAAUC,YAAYA,CAACC,GAAG,EAAE;QAC1B,MAAMC,sBAAqB,GAAI,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC;QAC7D,OAAOF,sBAAsB,CAACG,MAAM,CAACJ,GAAG;MAC1C;MAEA,SAASK,UAAUA,CAACvE,GAAG,EAAEwE,GAAG,EAAEC,GAAG,EAAE;QACjC,IAAIA,GAAE,IAAKD,GAAG,EAAE;UACd;QACF,OAAO;UACLE,CAAA,GAAId,MAAM,CAACC,IAAI,CAAC5B,KAAK,CAAC0C,WAAW,CAAC3E,GAAG,EAAE,cAAc,EAAE,UAAUiC,KAAK,EAAE;YACtE2B,MAAM,CAACC,IAAI,CAAC5B,KAAK,CAAC2C,cAAc,CAACF,CAAC,CAAC;YACnCH,UAAU,CAACvE,GAAG,EAAEwE,GAAG,EAAEC,GAAE,GAAI,CAAC,CAAC;UAC/B,CAAC,CAAC;UACFI,UAAU,CAAC,YAAY;YACrB7E,GAAG,CAAC8E,OAAO,CAACL,GAAG;UACjB,CAAC,EAAE,EAAE,CAAC,EAAE;QACV;MACF;;MAEAb,MAAM,CAACC,IAAI,CAAC5B,KAAK,CAAC0C,WAAW,CAAC3E,GAAG,EAAE,UAAU,EAAE,UAAUiC,KAAK,EAAG;QAG/D;QACA,KAAK,IAAI8C,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIf,QAAQ,CAACgB,MAAM,EAAED,CAAC,EAAE,EAAE;UACxCf,QAAQ,CAACe,CAAC,CAAC,CAACE,MAAM,CAAC,IAAI,CAAC;QAC1B;;QAEA;;QAEAC,SAAS,CAAC;UAACC,MAAM,EAAElD,KAAK,CAACmD;QAAM,CAAC,CAAC;;QAEjC;;QAEA;QACA,IAAIC,SAAQ,GAAIpD,KAAK,CAACmD,MAAM;;QAE5B;QACAvC,OAAO,CAACC,GAAG,CAACb,KAAK,CAACmD,MAAM,CAAC;QAEzBvC,OAAO,CAACC,GAAG,CAACuC,SAAS,CAACC,QAAQ,EAAE,CAAC;QACjCD,SAAQ,GAAIA,SAAS,CAACC,QAAQ,EAAE;QAChC,IAAIC,QAAQ;QACZ,IAAI9B,SAAS;QACbA,SAAQ,GAAI4B,SAAS,CAACG,SAAS,CAACH,SAAS,CAACI,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;QAC/DF,QAAO,GAAIF,SAAS,CAACG,SAAS,CAAC,CAAC,EAAEH,SAAS,CAACK,OAAO,CAAC,GAAG,CAAC,CAAC;QACzDH,QAAO,GAAIA,QAAQ,CAACC,SAAS,CAACD,QAAQ,CAACE,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;QAE5DhC,SAAQ,GAAIA,SAAS,CAAC+B,SAAS,CAAC,CAAC,EAAE/B,SAAS,CAACiC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1D7C,OAAO,CAACC,GAAG,CAAC,MAAM,GAACyC,QAAQ,CAAC;QAC5B1C,OAAO,CAACC,GAAG,CAAC,OAAO,GAACW,SAAS,CAAC;QAC9B,IAAI,CAACrO,KAAK,CAACsI,eAAe,CAACd,GAAE,GAAI2I,QAAO;QACxC,IAAI,CAACnQ,KAAK,CAACsI,eAAe,CAACb,GAAE,GAAI4G,SAAQ;;QAEzC;QACA;;QAEAc,UAAU,CAACvE,GAAG,EAAE,EAAE,EAAEA,GAAG,CAAC2F,OAAO,EAAE,CAAC;QAElC3F,GAAG,CAAC4F,SAAS,CAAC,IAAIhC,MAAM,CAACC,IAAI,CAACgC,MAAM,CAACN,QAAQ,EAAE9B,SAAS,CAAC,CAAC;QAE1DqC,gBAAgB,CAACP,QAAQ,EAAE9B,SAAS,CAAC;;QAErC;QACApO,CAAC,CAAC,WAAW,CAAC,CAAC0Q,WAAW,CAAC,UAAU,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,UAAU,CAAC;MAExE,CAAC,CAAC0C,IAAI,CAAC,IAAI,CAAC,CAAC;;MAEb;MACA,SAASC,aAAaA,CAAA,EAAG;QACvB,KAAK,IAAInB,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIf,QAAQ,CAACgB,MAAM,EAAED,CAAC,EAAE,EAAE;UACxCf,QAAQ,CAACe,CAAC,CAAC,CAACE,MAAM,CAAC,IAAI,CAAC;QAC1B;MACF;MACA;MACA,SAASC,SAASA,CAACiB,KAAK,EAAClG,IAAI,EAACmG,KAAK,EAAE;QACnC;QACA,IAAIC,MAAK,GAAI,IAAIzC,MAAM,CAACC,IAAI,CAACyC,MAAM,CAAC;UAClCtJ,QAAQ,EAAEmJ,KAAK,CAAChB,MAAM;UACtBnF,GAAG,EAAEA,GAAG;UACRuG,SAAS,EAAE3C,MAAM,CAACC,IAAI,CAAC2C,SAAS,CAACC;UACjC;QACF,CAAC,CAAC;;QAKF,IAAI,CAACN,KAAK,CAACO,OAAO,EAAE;UAClB1C,QAAQ,CAACrB,IAAI,CAAC0D,MAAM,CAAC;QAEvB;QAEA,IAAIF,KAAK,CAACQ,SAAS,EAAE;UACnB;UACAN,MAAM,CAACO,OAAO,CAACT,KAAK,CAACQ,SAAS,CAAC;QAEjC;;QAEA;QACA,IAAIR,KAAK,CAACO,OAAO,EAAE;UACjB;;UAEA,IAAIG,UAAS,GAAI,IAAIjD,MAAM,CAACC,IAAI,CAACiD,UAAU,CAAC;YAC1CJ,OAAO,EAAEP,KAAK,CAACO;UACjB,CAAC,CAAC;UAEFL,MAAM,CAAC1B,WAAW,CAAC,WAAW,EAAE,UAAUjD,CAAC,EAAE;YAE3CmF,UAAU,CAACE,IAAI,CAAC/G,GAAG,EAAEqG,MAAM,CAAC;YAE5B,IAAIhB,SAAQ,GAAI3D,CAAC,CAAC0D,MAAM;YACxBC,SAAQ,GAAIA,SAAS,CAACC,QAAQ,EAAE;YAChC;;YAEA,IAAIC,QAAQ;YACZ,IAAI9B,SAAS;YACbA,SAAQ,GAAI4B,SAAS,CAACG,SAAS,CAACH,SAAS,CAACI,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAC/DF,QAAO,GAAIF,SAAS,CAACG,SAAS,CAAC,CAAC,EAAEH,SAAS,CAACK,OAAO,CAAC,GAAG,CAAC,CAAC;YACzDH,QAAO,GAAIA,QAAQ,CAACC,SAAS,CAACD,QAAQ,CAACE,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAC5DhC,SAAQ,GAAIA,SAAS,CAAC+B,SAAS,CAAC,CAAC,EAAE/B,SAAS,CAACiC,OAAO,CAAC,GAAG,CAAC,CAAC;YAG1D,IAAI,CAACtQ,KAAK,CAACsI,eAAe,CAACd,GAAE,GAAI2I,QAAO;YACxC,IAAI,CAACnQ,KAAK,CAACsI,eAAe,CAACb,GAAE,GAAI4G,SAAQ;YAEzCqC,gBAAgB,CAACP,QAAQ,EAAE9B,SAAS,CAAC;YACrC;UAEF,CAAC,CAAC;;UAEF4C,MAAM,CAAC1B,WAAW,CAAC,OAAO,EAAGjD,CAAC,IAAK;YACjCsF,YAAY,CAACX,MAAM,CAAC;YAEpB,IAAI,CAAC7E,QAAO,GAAIvB,IAAG;YACnB,IAAI,CAACmG,KAAI,GAAIA,KAAI;YAEjB,IAAIf,SAAQ,GAAI3D,CAAC,CAAC0D,MAAM;YACxBC,SAAQ,GAAIA,SAAS,CAACC,QAAQ,EAAE;YAChC;;YAEA,IAAIC,QAAQ;YACZ,IAAI9B,SAAS;YACbA,SAAQ,GAAI4B,SAAS,CAACG,SAAS,CAACH,SAAS,CAACI,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAC/DF,QAAO,GAAIF,SAAS,CAACG,SAAS,CAAC,CAAC,EAAEH,SAAS,CAACK,OAAO,CAAC,GAAG,CAAC,CAAC;YACzDH,QAAO,GAAIA,QAAQ,CAACC,SAAS,CAACD,QAAQ,CAACE,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAC5DhC,SAAQ,GAAIA,SAAS,CAAC+B,SAAS,CAAC,CAAC,EAAE/B,SAAS,CAACiC,OAAO,CAAC,GAAG,CAAC,CAAC;YAE1DI,gBAAgB,CAACP,QAAQ,EAAE9B,SAAS,CAAC;;YAGrC;YACA;;YAEA;YACA,IAAIwD,aAAY,GAAIvF,CAAC,CAAC0D,MAAM;;YAE5B;;YAEA;YACA,IAAI8B,QAAO,GAAI,wCAAwC;YAEvDrE,OAAO,CAACC,GAAG,CAAC+D,UAAU,CAACH,OAAO,CAACpB,QAAQ,EAAE;;YAEzC;YACA,IAAIuB,UAAU,CAACH,OAAO,CAACS,QAAQ,CAAC,MAAM,CAAC,EAAE;cACvC;;cAEAD,QAAO,GAAIL,UAAU,CAACH,OAAO,CAAClB,SAAS,CAACqB,UAAU,CAACH,OAAO,CAAChB,OAAO,CAAC,OAAO,IAAI,CAAC,CAAC;cAChF;cACAwB,QAAO,GAAIA,QAAQ,CAAC1B,SAAS,CAAC,CAAC,EAAE0B,QAAQ,CAACxB,OAAO,CAAC,GAAG,CAAC,CAAC;YAGzD;YAEA,IAAI0B,UAAS,GAAIP,UAAU,CAACH,OAAO,CAACW,MAAM,CAAC,EAAE,CAAC;YAC9C,IAAID,UAAS,GAAIA,UAAU,CAAC5B,SAAS,CAAC,CAAC,EAAE4B,UAAU,CAAC1B,OAAO,CAAC,GAAG,CAAC,CAAC;;YAEjE;YACA,IAAI4B,QAAO,GAAIF,UAAU,CAAC5B,SAAS,CAAC,CAAC,EAAE4B,UAAU,CAAC1B,OAAO,CAAC,GAAG,CAAC,CAAC;;YAE/D;YACA,IAAI6B,gBAAe,GAAIH,UAAU,CAAC5B,SAAS,CAAC4B,UAAU,CAAC3B,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAE5E,IAAI+B,SAAQ,GAAI,IAAIC,SAAS,CAACC,SAAS,CAACC,gBAAgB;YACxDH,SAAS,CAACI,IAAI,EAAC;UAGjB,CAAC,CAAC;;UAEF;UACAvB,MAAM,CAAC1B,WAAW,CAAC,UAAU,EAAE,YAAY;YACzCkC,UAAU,CAACgB,KAAK,CAAC7H,GAAG,EAAEqG,MAAM,CAAC;UAE/B,CAAC,CAAC;QAEJ;MACF;MAEA,IAAIyB,YAAW,GAAIjH,QAAQ,CAACkD,cAAc,CAAC,SAAS,CAAC;;MAErD;MACA+D,YAAY,CAACC,gBAAgB,CAAC,QAAQ,EAAEC,OAAO,CAAC;MAEhD,SAASA,OAAOA,CAACtG,CAAC,EAAE;QAClBA,CAAC,CAACuG,cAAc,EAAE;QAClB,IAAIC,QAAO,GAAIrH,QAAQ,CAACkD,cAAc,CAAC,gBAAgB,CAAC,CAAChO,KAAK;QAC9DoS,KAAK,CAACC,GAAG,CAAC,mDAAmD,EAAE;UAC7DC,MAAM,EAAE;YACNC,OAAO,EAAEJ,QAAQ;YACjBK,GAAG,EAAE;UACP;QAGF,CAAC,EACIpH,IAAI,CAAC,UAAUqH,QAAQ,EAAE;UACxB;UACA3F,OAAO,CAACC,GAAG,CAAC0F,QAAQ,CAAC;;UAErB;UACA,IAAIC,gBAAe,GAAID,QAAQ,CAAC7S,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACC,iBAAiB;UACjE9F,OAAO,CAACC,GAAG,CAAC2F,gBAAgB,CAAC;UAE7B,IAAIG,sBAAqB,GAAI;;8CAEGH,gBAAiB;;aAElD;;UAEC;UACA,IAAII,iBAAgB,GAAIL,QAAQ,CAAC7S,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACI,kBAAkB;UACnE,IAAIC,uBAAsB,GAAI,yBAAwB;UACtD,KAAK,IAAIhE,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAI8D,iBAAiB,CAAC7D,MAAM,EAAED,CAAC,EAAE,EAAE;YACjDgE,uBAAsB,IAAK;;kCAETF,iBAAiB,CAAC9D,CAAC,CAAC,CAACiE,KAAK,CAAC,CAAC,CAAE,cAAaH,iBAAiB,CAAC9D,CAAC,CAAC,CAACkE,SAAS;;iBAE1F;UACH;UACAF,uBAAsB,IAAK,OAAM;;UAEjC;UACA,IAAInM,GAAE,GAAI4L,QAAQ,CAAC7S,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACQ,QAAQ,CAAChB,QAAQ,CAACtL,GAAG;UACxD,IAAIC,GAAE,GAAI2L,QAAQ,CAAC7S,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACQ,QAAQ,CAAChB,QAAQ,CAACrL,GAAG;UAExD,IAAIsM,cAAa,GAAI;;0EAEuCvM,GAAI;2EACHC,GAAI;;aAElE;;UAEC;UACAgE,QAAQ,CAACkD,cAAc,CAAC,mBAAmB,CAAC,CAACqF,SAAQ,GAAIR,sBAAsB;UAC/E/H,QAAQ,CAACkD,cAAc,CAAC,oBAAoB,CAAC,CAACqF,SAAQ,GAAIL,uBAAuB;UACjFlI,QAAQ,CAACkD,cAAc,CAAC,UAAU,CAAC,CAACqF,SAAQ,GAAID,cAAc;QAChE,CAAC,EACA/H,KAAK,CAAC,UAAUiI,KAAK,EAAE;UACtBxG,OAAO,CAACC,GAAG,CAAC0F,QAAQ,CAAC;QACvB,CAAC,CAAC;MACR;MACA;MACA,SAASxB,YAAYA,CAACX,MAAM,EAAE;QAC5B,IAAIA,MAAM,CAACiD,YAAY,EAAC,KAAM,IAAI,EAAE;UAClCjD,MAAM,CAACkD,YAAY,CAAC,IAAI,CAAC;QAC3B,OAAO;UACLlD,MAAM,CAACkD,YAAY,CAAC3F,MAAM,CAACC,IAAI,CAAC2C,SAAS,CAACgD,MAAM,CAAC;UACjD3E,UAAU,CAAC,YAAY;YACrBwB,MAAM,CAACkD,YAAY,CAAC,IAAI,CAAC;UAC3B,CAAC,EAAE,GAAG,CAAC;QACT;MACF;MACA;MACA,SAASzD,gBAAgBA,CAACP,QAAQ,EAAE9B,SAAS,EAAE;QAC7C,MAAMgG,GAAE,GAAI,yCAAyC;QACrD,MAAMC,GAAE,GAAI,CAAC,QAAQ;QACrB,MAAMC,GAAE,GAAI,UAAU;QACtB,IAAIC,GAAE,GAAK,4DAA2DrE,QAAS,IAAG9B,SAAU,QAAOgG,GAAI,EAAC;QACxGI,KAAK,CAACD,GAAG,EACJzI,IAAI,CAACqH,QAAO,IAAKA,QAAQ,CAACsB,IAAI,EAAE,EAChC3I,IAAI,CAACxL,IAAG,IAAK;UACZ,IAAIoU,oBAAmB,GAAI,yBAAyB;UACpDlH,OAAO,CAACC,GAAG,CAACnN,IAAI,CAAC;UACjB,IAAIqU,YAAW,GAAIrU,IAAI,CAAC+S,OAAO,CAAC1D,MAAM;UAEtC,IAAIiF,MAAM;UACV,IAAIhS,SAAS;UACb,IAAIiS,MAAM;UACV,IAAI5B,OAAO;UACX,IAAInQ,IAAI;UACR,IAAIgS,QAAQ;UACZ,IAAIC,YAAY;UAGhB,KAAK,IAAIlG,GAAE,GAAI,CAAC,EAAEA,GAAE,GAAI8F,YAAY,EAAE9F,GAAG,EAAE,EAAE;YAC3C;YACAoE,OAAM,GAAI3S,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACC,iBAAiB;;YAE3C;YACA,IAAI0B,KAAI,GAAI1U,IAAI,CAAC+S,OAAO,CAACxE,GAAG,CAAC,CAAC4E,kBAAkB;YAChDuB,KAAK,CAACC,OAAO,CAACC,IAAG,IAAK;cACpB,IAAIA,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,6BAA6B,CAAC,EAAE;gBACtD;gBACAlP,SAAQ,GAAIsS,IAAI,CAACtB,SAAS;cAG5B;cACA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,SAAS,CAAC,EAAE;gBAClC;;gBAEAqD,OAAM,GAAID,IAAI,CAACtB,SAAS;cAE1B;cAEA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,6BAA6B,CAAC,EAAE;gBACtD;gBACA8C,MAAK,GAAIM,IAAI,CAACtB,SAAS;cAGzB;cACA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,6BAA6B,CAAC,EAAE;gBACtD;gBACAhP,IAAG,GAAIoS,IAAI,CAACtB,SAAS;cAGvB;cACA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,6BAA6B,CAAC,EAAE;gBACtD;gBACAhP,IAAG,GAAIoS,IAAI,CAACtB,SAAS;cAGvB;cACA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,qBAAqB,CAAC,EAAE;gBAC9C;gBACAhP,IAAG,GAAIoS,IAAI,CAACtB,SAAS;cAGvB;cAEA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,OAAO,CAAC,EAAE;gBAChC;gBACA+C,MAAK,GAAIK,IAAI,CAACtB,SAAS;cAGzB;cACA,IAAIsB,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,qBAAqB,CAAC,EAAE;gBAC9C;gBACAiD,YAAW,GAAIG,IAAI,CAACtB,SAAS;cAG/B;YAEF,CAAC,CAAC;UAGJ;UACA;UACA;UACA;UACA;;UAEA5T,CAAC,CAAC,yBAAyB,CAAC,CAACoV,IAAI,CAACtS,IAAI,CAAC;UACvC9C,CAAC,CAAC,mCAAmC,CAAC,CAACoV,IAAI,CAACtS,IAAI,CAAC,CAACoL,QAAQ,CAAC,YAAY,CAAC,CAACwC,WAAW,CAAC,aAAa,CAAC;UACnG;UAEA1Q,CAAC,CAAC,2BAA2B,CAAC,CAACoV,IAAI,CAACP,MAAM,CAAC;UAC3C7U,CAAC,CAAC,qCAAqC,CAAC,CAACoV,IAAI,CAACP,MAAM,CAAC,CAAC3G,QAAQ,CAAC,YAAY,CAAC,CAACwC,WAAW,CAAC,aAAa,CAAC;UACvG;UAEA1Q,CAAC,CAAC,8BAA8B,CAAC,CAACoV,IAAI,CAACxS,SAAS,CAAC;UACjD5C,CAAC,CAAC,wCAAwC,CAAC,CAACoV,IAAI,CAACxS,SAAS,CAAC,CAACsL,QAAQ,CAAC,YAAY,CAAC,CAACwC,WAAW,CAAC,aAAa,CAAC;UAG7G1Q,CAAC,CAAC,4BAA4B,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC;UAC7CjT,CAAC,CAAC,sCAAsC,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC,CAAC/E,QAAQ,CAAC,YAAY,CAAC,CAACwC,WAAW,CAAC,aAAa,CAAC;UACzG1Q,CAAC,CAAC,mCAAmC,CAAC,CAACqV,GAAG,CAACpC,OAAO,CAAC;UAEnDjT,CAAC,CAAC,oCAAoC,CAAC,CAACqV,GAAG,CAACnF,QAAQ,CAAC;UACrDlQ,CAAC,CAAC,qCAAqC,CAAC,CAACqV,GAAG,CAACjH,SAAS,CAAC;UAEvDpO,CAAC,CAAC,sCAAsC,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC;UACvDjT,CAAC,CAAC,sBAAsB,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC;;UAEvC;;UAEAjT,CAAC,CAAC,uBAAuB,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC;UACxCjT,CAAC,CAAC,6BAA6B,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC;UAE9CjT,CAAC,CAAC,sBAAsB,CAAC,CAACoV,IAAI,CAACP,MAAM,CAAC;UACtC7U,CAAC,CAAC,4BAA4B,CAAC,CAACoV,IAAI,CAACP,MAAM,CAAC;UAE5C7U,CAAC,CAAC,4BAA4B,CAAC,CAACoV,IAAI,CAACP,MAAM,CAAC;UAC5C7U,CAAC,CAAC,6BAA6B,CAAC,CAACoV,IAAI,CAACnC,OAAO,CAAC;UAG9C,IAAI+B,KAAI,GAAI1U,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACI,kBAAkB;UAC9CiB,oBAAmB,IAAK;sEACgCpU,IAAI,CAAC+S,OAAO,CAAC,CAAC,CAAC,CAACC,iBAAkB;aAC3F;UACC0B,KAAK,CAACC,OAAO,CAACC,IAAG,IAAK;YACpB;YACA;YACA;YACA;YACA;YACA;;YAEA;YACA;;YAEA,IAAIA,IAAI,CAACvB,KAAK,CAAC7B,QAAQ,CAAC,6BAA6B,CAAC,EAAE;cACtD;cACA4C,oBAAmB,IAAK;;6EAEmCQ,IAAI,CAACtB,SAAU;iBAC3E;cAECpI,QAAQ,CAACkD,cAAc,CAAC,eAAe,CAAC,CAACqF,SAAQ,GAAIW,oBAAoB;YAC3E;YAEAA,oBAAmB,IAAK,OAAO;UACjC,CAAC;QACH,CAAC,EACA3I,KAAK,CAACuJ,GAAE,IAAK9H,OAAO,CAAC+H,IAAI,CAACD,GAAG,CAAC1N,OAAO,CAAC,CAAC;MAC9C;;MAEA;MACA,IAAI+C,GAAG;MACP,IAAI6G,UAAU;MAEd,IAAIgE,KAAI,GAAIhK,QAAQ,CAACkD,cAAc,CAAC,WAAW,CAAC;MAChD,IAAI+G,SAAQ,GAAI,IAAIlH,MAAM,CAACC,IAAI,CAACkH,MAAM,CAACC,SAAS,CAACH,KAAK,CAAC;MACvD7K,GAAG,CAACiL,QAAQ,CAACrH,MAAM,CAACC,IAAI,CAACqH,eAAe,CAACC,QAAQ,CAAC,CAACxI,IAAI,CAACkI,KAAK,CAAC,EAAE;;MAEhE7K,GAAG,CAAC2E,WAAW,CAAC,gBAAgB,EAAE,YAAW;QAC3CmG,SAAS,CAACM,SAAS,CAACpL,GAAG,CAACqL,SAAS,EAAE,CAAC;MACtC,CAAC,CAAC;;MAEF;MACA,IAAIC,OAAM,GAAI,EAAE;MAChB;MACA;;MAEA;MACAjW,CAAC,CAAC,YAAY,CAAC,CAACgO,EAAE,CAAC,OAAO,EAAE,YAAW;QACrChO,CAAC,CAAC,gBAAgB,CAAC,CAACkO,QAAQ,CAAC,UAAU,CAAC;MAC1C,CAAC,CAAC;;MAEF;MACAlO,CAAC,CAAC,YAAY,CAAC,CAACgO,EAAE,CAAC,OAAO,EAAE,YAAW;QACrC6C,aAAa,EAAE;QACf7Q,CAAC,CAAC,cAAc,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC;QACvC1Q,CAAC,CAAC,gBAAgB,CAAC,CAACkO,QAAQ,CAAC,UAAU,CAAC;MAC1C,CAAC,CAAC;;MAEF;MACA;MACAlO,CAAC,CAAC,YAAY,CAAC,CAACgO,EAAE,CAAC,OAAO,EAAE,YAAW;QAErChO,CAAC,CAAC,wCAAwC,CAAC,CAACoV,IAAI,CAAC,cAAc,CAAC,CAAClH,QAAQ,CAAC,aAAa,CAAC,CAACwC,WAAW,CAAC,YAAY,CAAC;QAClH1Q,CAAC,CAAC,sCAAsC,CAAC,CAACoV,IAAI,CAAC,cAAc,CAAC,CAAClH,QAAQ,CAAC,aAAa,CAAC,CAACwC,WAAW,CAAC,YAAY,CAAC;QAChH1Q,CAAC,CAAC,mCAAmC,CAAC,CAACoV,IAAI,CAAC,cAAc,CAAC,CAAClH,QAAQ,CAAC,aAAa,CAAC,CAACwC,WAAW,CAAC,YAAY,CAAC;QAC7G1Q,CAAC,CAAC,qCAAqC,CAAC,CAACoV,IAAI,CAAC,cAAc,CAAC,CAAClH,QAAQ,CAAC,aAAa,CAAC,CAACwC,WAAW,CAAC,YAAY,CAAC;QAG/G,MAAMgF,MAAK,GAAID,SAAS,CAACS,SAAS,EAAE;QACpC1I,OAAO,CAACC,GAAG,CAACiI,MAAM,CAAC;QACnB1V,CAAC,CAAC,gBAAgB,CAAC,CAACkO,QAAQ,CAAC,UAAU,CAAC;QACxClO,CAAC,CAAC,YAAY,CAAC,CAACqV,GAAG,CAAC,EAAE,CAAC;QACvBrV,CAAC,CAAC,cAAc,CAAC,CAACkO,QAAQ,CAAC,QAAQ,CAAC;QACpC2C,aAAa,EAAE;QACf;;QAEAoF,OAAO,CAAChB,OAAO,CAAEjE,MAAM,IAAK;UAC1BA,MAAM,CAACpB,MAAM,CAAC,IAAI,CAAC;QACrB,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF6F,SAAS,CAACnG,WAAW,CAAC,gBAAgB,EAAE,MAAI;QAE1C,MAAMoG,MAAK,GAAID,SAAS,CAACS,SAAS,EAAE;QAEpC,IAAIR,MAAM,CAAC/F,MAAK,IAAK,CAAC,EAAE;UACtB;QACF;;QAEA;QACAsG,OAAO,CAAChB,OAAO,CAAEjE,MAAM,IAAK;UAC1BA,MAAM,CAACpB,MAAM,CAAC,IAAI,CAAC;QAErB,CAAC,CAAC;QACFqG,OAAM,GAAI,EAAE;;QAGZ;QACA,IAAIE,MAAK,GAAI,IAAI5H,MAAM,CAACC,IAAI,CAAC4H,YAAY,EAAE;QAE3CV,MAAM,CAACT,OAAO,CAAC,UAASoB,KAAK,EAAE;UAC7B,IAAI,CAACA,KAAK,CAACxC,QAAQ,EAAE;YACnBrG,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;YAClD;UACF;;UAEA;UACA,MAAM6I,IAAG,GAAI;YACX;YACAC,IAAI,EAAE,IAAIhI,MAAM,CAACC,IAAI,CAACgI,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC;YAClCC,MAAM,EAAE,IAAIlI,MAAM,CAACC,IAAI,CAACkI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;YACnCC,MAAM,EAAE,IAAIpI,MAAM,CAACC,IAAI,CAACkI,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC;YACrCE,UAAU,EAAE,IAAIrI,MAAM,CAACC,IAAI,CAACgI,IAAI,CAAC,EAAE,EAAE,EAAE;UACzC,CAAC;;UAED;UACA,IAAIxF,MAAK,GAAI,IAAIzC,MAAM,CAACC,IAAI,CAACyC,MAAM,CAAC;YAClCtG,GAAG,EAAEA,GAAG;YACRkM,KAAK,EAAER,KAAK,CAACjW,IAAI;YACjBuH,QAAQ,EAAE0O,KAAK,CAACxC,QAAQ,CAAChB,QAAQ;YACjCyD,IAAI,EAAEA,IAAI;YACV1S,WAAW,EAAG,UAAQ,GAAIyS,KAAK,CAACjW,IAAG,GAAK;UAC1C,CAAC;UACD6V,OAAO,CAAC3I,IAAI,CAAC0D,MAAM,CAAC;UAEpB,IAAIQ,UAAS,GAAI,IAAIjD,MAAM,CAACC,IAAI,CAACiD,UAAU,CAAC;YAC1CJ,OAAO,EAAEL,MAAM,CAACpN;UAClB,CAAC,CAAC;UAEFoN,MAAM,CAAC1B,WAAW,CAAC,UAAU,EAAE,YAAW;YACxCkC,UAAU,CAACgB,KAAK,CAAC7H,GAAG,EAAEqG,MAAM,CAAC;UAE/B,CAAC,CAAC;;UAEF;;;;;;;;;;;;;;;;UAuBAW,YAAY,CAACX,MAAM,CAAC;;UAEpB;;UAEAzC,MAAM,CAACC,IAAI,CAAC5B,KAAK,CAAC0C,WAAW,CAAC0B,MAAM,EAAE,OAAO,EAAE,UAAS3E,CAAC,EAAE;YAEzD,IAAIyK,QAAO,GAAIT,KAAK,CAACjW,IAAI;YACzB,IAAI4P,SAAQ,GAAI3D,CAAC,CAAC0D,MAAM;YAExBC,SAAQ,GAAIA,SAAS,CAACC,QAAQ,EAAE;YAIhC,IAAIC,QAAQ;YACZ,IAAI9B,SAAS;YACbA,SAAQ,GAAI4B,SAAS,CAACG,SAAS,CAACH,SAAS,CAACI,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAC/DF,QAAO,GAAIF,SAAS,CAACG,SAAS,CAAC,CAAC,EAAEH,SAAS,CAACK,OAAO,CAAC,GAAG,CAAC,CAAC;YACzDH,QAAO,GAAIA,QAAQ,CAACC,SAAS,CAACD,QAAQ,CAACE,WAAW,CAAC,GAAG,IAAI,CAAC,CAAC;YAC5DhC,SAAQ,GAAIA,SAAS,CAAC+B,SAAS,CAAC,CAAC,EAAE/B,SAAS,CAACiC,OAAO,CAAC,GAAG,CAAC,CAAC;YAE1DI,gBAAgB,CAACP,QAAQ,EAAE9B,SAAS,CAAC;YACrCpO,CAAC,CAAC,WAAW,CAAC,CAAC0Q,WAAW,CAAC,UAAU,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,UAAU,CAAC;YAEtE,IAAI6I,cAAa,GAAI/W,CAAC,CAAC,mCAAmC,CAAC;YAE3D+W,cAAa,GAAI;;+CAEkBD,QAAS;qBACnC;YACTnF,YAAY,CAACX,MAAM,CAAC;YAEpBhR,CAAC,CAAC,cAAc,CAAC,CAACqV,GAAG,CAACnF,QAAQ,GAAC,GAAG,GAAC9B,SAAS;UAI9C,CAAC,CAAC;;UAEF;UACA,IAAIiI,KAAK,CAACxC,QAAQ,CAACmD,QAAQ,EAAE;YAC3B;YACAb,MAAM,CAACc,KAAK,CAACZ,KAAK,CAACxC,QAAQ,CAACmD,QAAQ,CAAC;UACvC,OAAO;YACLb,MAAM,CAACe,MAAM,CAACb,KAAK,CAACxC,QAAQ,CAAChB,QAAQ,CAAC;UACxC;QACF,CAAC,CAAC;QACFlI,GAAG,CAACwM,SAAS,CAAChB,MAAM,CAAC;;QAErB;QACA;QACA;QACA;;QAEA,IAAI,CAACpW,KAAK,CAACsI,eAAe,CAACd,GAAE,GAAImO,MAAM,CAAC,CAAC,CAAC,CAAC7B,QAAQ,CAAChB,QAAQ,CAACtL,GAAG,EAAC;QACjE,IAAI,CAACxH,KAAK,CAACsI,eAAe,CAACb,GAAE,GAAIkO,MAAM,CAAC,CAAC,CAAC,CAAC7B,QAAQ,CAAChB,QAAQ,CAACrL,GAAG,EAAC;MAEnE,CAAC,CAAC;;MAEF;IAEF,CAAC;;IACD;IACA4P,UAAUA,CAAA,EAAE;MACV,MAAM9W,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,YAAY,CAAC;MACrClM,OAAO,CAACW,IAAI,EAACT,IAAI,EACZiM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC0C,OAAM,GAAGmI,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACwD,OAAM;QACpC,CAAC,MAAI;UACH,IAAI,CAAC8D,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDyP,YAAYA,CAAA,EAAE;MACZ,MAAM/W,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC;MACvClM,OAAO,CAACW,IAAI,EAACT,IAAI,EACZiM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC2C,UAAS,GAAGkI,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACyD,UAAS;QAC1C,CAAC,MAAI;UACH,IAAI,CAAC6D,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD+F,eAAeA,CAAA,EAAE;MACf,IAAI,CAAC3J,YAAW,GAAG,EAAC;MACpB,IAAI,CAAChB,SAAS,CAACI,OAAM,GAAI,EAAC;MAC1B,MAAM9C,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,iBAAiB,CAAC;MAC1CvL,IAAI,CAACuL,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC7I,SAAS,CAACC,MAAM,CAACM,UAAU,CAAC;MAC3DjD,IAAI,CAACuL,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC7I,SAAS,CAACE,SAAS,CAACC,aAAa,CAAC;MACpExD,OAAO,CAACW,IAAI,EAACT,IAAI,EACZiM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC4C,YAAW,GAAGiI,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC0D,YAAW;QAC9C,CAAC,MAAI;UACH,IAAI,CAAC4D,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD8F,iBAAiBA,CAAA,EAAE;MACjB,MAAMpN,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,mBAAmB,CAAC;MAC5CvL,IAAI,CAACuL,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC7I,SAAS,CAACC,MAAM,CAACM,UAAU,CAAC;MAC3DjD,IAAI,CAACuL,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC7I,SAAS,CAACE,SAAS,CAACC,aAAa,CAAC;MACpExD,OAAO,CAACW,IAAI,EAACT,IAAI,EACZiM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACD,MAAK,GAAI8K,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC6M,KAAK,CAAChM,MAAK;UACvC,IAAI,CAACiD,kBAAiB,GAAI6H,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACuE,cAAa;QACvD,CAAC,MAAI;UACH,IAAI,CAAC+C,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD0P,aAAa,EAAC,SAAAA,CAAU1M,IAAI,EAACjH,SAAS,EAAC;MACrC,IAAI,CAACD,gBAAe,GAAIkH,IAAG;MAC3B,IAAI,CAACjH,SAAQ,GAAIA,SAAQ;MACzB,IAAI,CAAC4T,cAAc,EAAC;IACtB,CAAC;IACDA,cAAc,EAAE,SAAAA,CAAA,EAAW;MACzB,IAAI,CAACpT,QAAQ,CAAC+H,MAAM,CAAC,IAAI,CAACvI,SAAS,EAAC,CAAC;MAErC,IAAI,CAACmB,WAAU,GAAI,IAAI,CAACX,QAAQ,CAACqT,MAAM,CAAC,CAACrK,KAAK,EAAEvC,IAAI,KAAKuC,KAAI,GAAKsK,MAAM,CAAC7M,IAAI,CAAC/G,aAAa,IAAI4T,MAAM,CAAC7M,IAAI,CAAC7J,QAAQ,CAAE,EAAE,CAAC,CAAC;IAG3H,CAAC;IAED;IACA2W,aAAaA,CAAC9K,KAAK,EAAC;MAClB,IAAI,CAAC9F,cAAa,GAAI8F,KAAK,CAACC,MAAM,CAACnM,KAAI;MACvC;MACA,IAAG,IAAI,CAACoG,cAAa,KAAM,OAAO,EAAC;QACjC;QACA9G,CAAC,CAAC,YAAY,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;QAClE,IAAI,CAACH,cAAc,CAACnB,KAAK,CAACC,MAAM,CAACnM,KAAK;MACxC,OACK,IAAG,IAAI,CAACoG,cAAa,KAAK,KAAK,EAAC;QACnC9G,CAAC,CAAC,WAAW,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;QACjE;QACA,IAAI,CAACH,cAAc,CAACnB,KAAK,CAACC,MAAM,CAACnM,KAAK;QACtC,IAAI,CAAC0W,UAAU,EAAC;QAChB,IAAI,CAACC,YAAY,EAAC;QAClB,IAAI,CAACpM,cAAc,EAAC;MACtB,OACK,IAAG,IAAI,CAACnE,cAAa,KAAM,KAAK,EAAC;QAEpC9G,CAAC,CAAC,cAAc,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;QACpE,IAAI,CAACH,cAAc,CAACnB,KAAK,CAACC,MAAM,CAACnM,KAAK;QACtC,IAAI,CAACuM,QAAQ,EAAC;MAEhB,OACK,IAAG,IAAI,CAACnG,cAAc,KAAG,QAAQ,EAAC;QAAC;QACtC9G,CAAC,CAAC,aAAa,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MACrE,OACK,IAAG,IAAI,CAACpH,cAAc,KAAG,KAAK,EAAC;QAClC9G,CAAC,CAAC,YAAY,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;QAClE,IAAI,CAACjD,cAAc,EAAC;QACpB,IAAI,CAACwB,gBAAgB,EAAC;MACxB,OACK,IAAG,IAAI,CAAC3F,cAAc,KAAG,uBAAuB,EAAC;QACpD9G,CAAC,CAAC,wBAAwB,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MAEhF,OACK,IAAG,IAAI,CAACpH,cAAc,KAAG,wBAAwB,EAAC;QACrD9G,CAAC,CAAC,iBAAiB,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MACzE,OACK,IAAG,IAAI,CAACpH,cAAc,KAAG,QAAQ,EAAC;QAAC;QACtC9G,CAAC,CAAC,aAAa,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MACrE,OACK,IAAG,IAAI,CAACpH,cAAc,KAAG,IAAI,EAAC;QACjC9G,CAAC,CAAC,eAAe,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MACvE,OACK,IAAG,IAAI,CAACpH,cAAc,KAAG,QAAQ,EAAC;QAErC9G,CAAC,CAAC,aAAa,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;QACnE;QACA,IAAI,CAACH,cAAc,EAAC;QACpB,IAAI,CAAC9C,cAAc,EAAC;;QAEpB;QACA;QACA;MACF,OACK,IAAG,IAAI,CAACnE,cAAa,KAAM,SAAS,EAAC;QACxC9G,CAAC,CAAC,oBAAoB,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MAC5E,OACK,IAAG,IAAI,CAACpH,cAAa,KAAK,OAAO,EAAC;QACrC9G,CAAC,CAAC,oBAAoB,CAAC,CAACkO,QAAQ,CAAC,QAAQ;QACzClO,CAAC,CAAC,qBAAqB,CAAC,CAACkO,QAAQ,CAAC,QAAQ;MAC5C,OACK,IAAG,IAAI,CAACpH,cAAa,KAAK,WAAW,EAAC;QACzC9G,CAAC,CAAC,qBAAqB,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;MAC7E,OACK,IAAG,IAAI,CAACpH,cAAa,KAAM,SAAS,EAAC;QACxC9G,CAAC,CAAC,qBAAqB,CAAC,CAACkO,QAAQ,CAAC,QAAQ;MAC5C,OACI;QACFlO,CAAC,CAAC,aAAa,CAAC,CAAC0Q,WAAW,CAAC,QAAQ,CAAC,CAACC,QAAQ,EAAE,CAACzC,QAAQ,CAAC,QAAQ;QACnE,IAAI,CAACH,cAAc,CAACnB,KAAK,CAACC,MAAM,CAACnM,KAAK;MACxC;IAEF,CAAC;IACDuK,cAAcA,CAAA,EAAE;MACd,MAAM3K,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC;MACvClM,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC6C,WAAU,GAAGgI,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC2D,WAAU;QAC5C,CAAC,MAAI;UACH,IAAI,CAAC2D,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD4C,QAAQA,CAAA,EAAE;MACR,IAAI,CAACtG,KAAI,GAAG,EAAC;MACb,IAAI,CAACpB,IAAG,GAAI,EAAC;MACb,MAAMxC,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC;MACnCvL,IAAI,CAACuL,MAAM,CAAC,aAAa,EAAE,IAAI,CAACjJ,SAAS,CAACL,WAAW,CAAC;MACtD5C,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC8C,KAAI,GAAG+H,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC4D,KAAI;QAChC,CAAC,MAAI;UACH,IAAI,CAAC0D,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACD+P,WAAWA,CAAA,EAAE;MACX,IAAG,IAAI,CAACrW,WAAW,IAAE,EAAE,EAAC;QACtB,IAAI,CAACsG,OAAM,GAAI,wBAAuB;QACtC;MACF;MACA,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC;MACtCvL,IAAI,CAACuL,MAAM,CAAC,aAAa,EAAE,IAAI,CAACvK,WAAW,CAAC;MAC5C3B,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UAGpB,IAAI,CAACI,KAAI,GAAIyK,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACsE,QAAQ,CAACpD,KAAI;UACxC,IAAI,CAACD,YAAW,GAAI0K,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACsE,QAAQ,CAACgT,KAAI;UAC/C,IAAI,CAACpW,KAAI,GAAIyK,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACsE,QAAQ,CAACpD,KAAI;UAGxC,IAAI+J,MAAK,GAAIC,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;UACxDF,MAAM,CAACG,KAAK,EAAE;UAEd,IAAI,CAAC9D,OAAM,GAAI,IAAG;QAGpB,CAAC,MAAI;UAEH,IAAI,CAACA,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAE/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDiQ,YAAYA,CAAA,EAAE;MACZ,IAAG,IAAI,CAACvW,WAAU,KAAM,EAAE,EAAC;QACzB,IAAI,CAACsG,OAAM,GAAG,oCAAmC;QACjD;MACF;MACA,IAAG,IAAI,CAACrG,YAAW,KAAM,EAAE,EAAC;QAC1B,IAAI,CAACqG,OAAM,GAAG,4BAA2B;QACzC;MACF;MAEA,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC;MACvCvL,IAAI,CAACuL,MAAM,CAAC,aAAa,EAAE,IAAI,CAACvK,WAAW,CAAC;MAC5ChB,IAAI,CAACuL,MAAM,CAAC,OAAO,EAAE,IAAI,CAACrK,KAAK,CAAC;MAChClB,IAAI,CAACuL,MAAM,CAAC,OAAO,EAAE,IAAI,CAACtK,YAAY,CAAC;MACvCjB,IAAI,CAACuL,MAAM,CAAC,WAAW,EAAEvB,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;MAChE5K,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UAEpB,IAAImK,MAAK,GAAIC,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;UAC7DF,MAAM,CAACG,KAAK,EAAE;UAEd,IAAI,CAAC9D,OAAM,GAAG,IAAG;QACnB,CAAC,MAAI;UACH,IAAI,CAACA,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDmD,cAAcA,CAAA,EAAG;MACf,MAAMzK,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,gBAAgB,CAAC;MACzClM,OAAO,CAACW,IAAI,EAAEV,MAAM,EACfkM,IAAI,CAAEG,GAAG,IAAK;QACb,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC6I,OAAO,CAACiC,MAAM,CAAC,CAAC,CAAC;UACtB,IAAI,CAACjC,OAAM,GAAIgC,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC2J,OAAO;;UAEpC;UACA,IAAI,CAACA,OAAO,CAACgL,OAAO,CAAC,CAACvU,KAAK,EAAEoX,KAAK,KAAK;YACrC,IAAI,IAAI,CAACrQ,YAAW,KAAM/G,KAAK,CAACwJ,MAAM,EAAE;cACtC,IAAI,CAACA,MAAK,GAAI,IAAI,CAACD,OAAO,CAAC6N,KAAK,CAAC;YACnC;UACF,CAAC,CAAC;QACJ,OAAO;UACL,IAAI,CAAClQ,OAAM,GAAIqE,GAAG,CAAC3L,IAAI,CAACsH,OAAO;QACjC;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAIyE,CAAC,CAACzE,OAAO;MAC1B,CAAC,CAAC;IACR,CAAC;IACDmQ,eAAeA,CAAA,EAAE;MACf,MAAMzX,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,gBAAgB,CAAC;MACzClM,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAAC6I,OAAO,CAACiC,MAAM,CAAC,CAAC;UACrB,IAAI,CAACjC,OAAM,GAAIgC,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC2J,OAAM;UACnC;UACA,IAAI,CAACA,OAAO,CAACgL,OAAO,CAAC,CAACvU,KAAK,EAAEoX,KAAK,KAAK;YAErC;YACAtK,OAAO,CAACC,GAAG,CAAE,GAAE,IAAI,CAACuK,YAAY,QAAQtX,KAAK,CAACwJ,MAAO,EAAC,CAAC;YAEvD,IAAI,IAAI,CAACzC,YAAW,KAAM/G,KAAK,CAACwJ,MAAM,EAAE;cACtC,IAAI,CAACA,MAAK,GAAI,IAAI,CAACD,OAAO,CAAC6N,KAAK,CAAC;YACnC;UACF,CAAC,CAAC;QAEJ,CAAC,MAAI;UACH,IAAI,CAAClQ,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ;QACA,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IAEDwE,SAASA,CAAC3I,iBAAiB,EAAC;MAE1B,KAAK,MAAM;QAAEkB,eAAe;QAACN,KAAK;QAAEC,cAAc;QAAET,aAAa;QAAE3B,SAAS;QAAED,YAAY;QAAEuC,YAAY;QAACI,QAAQ;QAAC7D;MAAQ,KAAK,IAAI,CAACqD,kBAAkB,EAAE;QAEtJ,IAAI,CAACD,QAAQ,CAACmJ,IAAI,CAAC;UACjBxM,UAAU,EAAE,IAAI,CAACA,UAAU;UAC3B6D,eAAe;UACfL,cAAc;UACdvD,QAAQ;UACR8C,aAAa,EAAEA,aAAa;UAC5B3B,SAAS;UACTD,YAAY;UACZuC,YAAY;UACZf,iBAAiB,EAAEA,iBAAiB;UACpCY,KAAK;UACLlD,MAAM,EAAG0C,aAAY,GAAI9C,QAAQ;UACjC6D,QAAQ,EAAEA,QAAQ;UAClBjE,IAAI,EAAE,IAAI,CAACA,IAAI;UACf4B,WAAW,EAAC,IAAI,CAACK,SAAS,CAACL,WAAW;UACtCM,aAAa,EAAC,IAAI,CAACD,SAAS,CAACC,aAAa;UAC1CP,MAAM,EAAE,IAAI,CAACQ,IAAI,CAACR,MAAM;UACxBS,QAAQ,EAAE,IAAI,CAACD,IAAI,CAACC,QAAQ;UAC5BkV,IAAI,EAAE3N,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC;UAC3CjJ,WAAW,EAAEgJ,cAAc,CAACC,OAAO,CAAC,oBAAoB,CAAC;UACzDqN,KAAK,EAAEtN,cAAc,CAACC,OAAO,CAAC,cAAc,CAAC;UAC7C2N,mBAAmB,EAAE,IAAI,CAAC5W,WAAW;UACrCsC,WAAW,EAAE,IAAI,CAACA;QACpB,CAAC,CAAC;MAEJ;MAEA,IAAI,CAACkB,WAAU,GAAI,IAAI,CAACX,QAAQ,CAACqT,MAAM,CAAC,CAACrK,KAAK,EAAEvC,IAAI,KAAKuC,KAAI,GAAKsK,MAAM,CAAC7M,IAAI,CAAC/G,aAAa,IAAI4T,MAAM,CAAC7M,IAAI,CAAC7J,QAAQ,CAAE,EAAE,CAAC,CAAC;IAG3H,CAAC;IACDoX,YAAYA,CAAA,EAAE;MAEZ,IAAI,CAACvW,aAAY,GAAI,KAAK;MAC1B,IAAI,CAACD,YAAW,GAAI,IAAI;MACxB,IAAI,CAACD,kBAAiB,GAAI,KAAI;MAC9B,IAAI,CAACD,oBAAmB,GAAI,KAAI;MAChC,IAAI,CAACmG,OAAM,GAAG,mCAAkC;MAChD,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,eAAe,CAAC;MACxCvL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAEU,IAAI,CAACC,SAAS,CAAC,IAAI,CAACrI,QAAQ,CAAC,CAAC;MACtDxE,OAAO,CAACW,IAAI,EAACV,MAAM,EACdkM,IAAI,CAAEG,GAAG,IAAI;QACZ,IAAI,CAACrE,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC7B,IAAIqE,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACS,WAAU,GAAIoK,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC8X,IAAI,CAACvW,WAAU;UAChD,IAAI,CAACa,QAAO,GAAIuJ,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC8X,IAAI,CAAC1V,QAAO;UAC1C,IAAI,CAACqC,WAAW,CAAC5D,MAAK,GAAI8K,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC8X,IAAI,CAACvW,WAAW,CAACQ,WAAU;UACnE,IAAI,CAAC0C,WAAW,CAACE,KAAI,GAAIgH,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAAC8X,IAAI,CAACvW,WAAW,CAACZ,MAAK;UAC7D,IAAI,CAAC8D,WAAW,CAAC7D,SAAQ,GAAI+K,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACU,aAAa,CAACE,SAAQ;UACjE,IAAI,CAAC6D,WAAW,CAACM,kBAAiB,GAAIiF,cAAc,CAACC,OAAO,CAAC,oBAAoB;UACjF,IAAI,CAACxF,WAAW,CAACI,YAAW,GAAImF,cAAc,CAACC,OAAO,CAAC,cAAc;UACrE,IAAI,CAACxF,WAAW,CAACK,WAAU,GAAIkF,cAAc,CAACC,OAAO,CAAC,aAAa;QAErE,CAAC,MAAI;UACH,IAAI,CAAC3C,OAAM,GAAGqE,GAAG,CAAC3L,IAAI,CAACsH,OAAM;QAC/B;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ,IAAI,CAACzE,OAAM,GAAGyE,CAAC,CAACzE,OAAM;MACxB,CAAC,CAAC;IACR,CAAC;IACDyQ,SAASA,CAAA,EAAG;MACVC,YAAY,CAAC,QAAQ,IAAI/L,IAAI,CAACC,SAAS,CAAC;QACtCvL,MAAM,EAAE,IAAI,CAACY,WAAW,CAACZ;MAC3B,CAAC;MACD,MAAMsX,SAAQ,GAAI,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;QAACrY,IAAI,EAAE;MAAM,CAAC,CAAC;MACtDsY,MAAM,CAAChH,IAAI,CAAC6G,SAAS,CAACI,IAAI,EAAE,QAAQ,CAAC;IACvC,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACpT,cAAc,CAACC,SAAQ,IAAK,IAAI,EAAE;QACzCgF,KAAK,CAAC,iBAAiB,CAAC;MAC1B,OAAO;QACL;QACA6N,YAAY,CAAC,QAAQ,IAAI/L,IAAI,CAACC,SAAS,CAAC;UACtC/G,SAAS,EAAE,IAAI,CAACD,cAAc,CAACC;QACjC,CAAC;QACD,MAAM8S,SAAQ,GAAI,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;UAACrY,IAAI,EAAE;QAAS,CAAC,CAAC;QACzDsY,MAAM,CAAChH,IAAI,CAAC6G,SAAS,CAACI,IAAI,EAAE,QAAQ,CAAC;MACvC;IACF,CAAC;IACDE,iBAAiBA,CAAA,EAAE;MACjB,IAAI,CAACjX,aAAY,GAAI,IAAI;MACzB,IAAI,CAACD,YAAW,GAAI,KAAK;MACzB,IAAI,CAACD,kBAAiB,GAAI,KAAK;MAC/B,IAAI,CAACD,oBAAmB,GAAI,KAAI;IAClC,CAAC;IACDqX,sBAAsBA,CAAC5T,WAAW,EAAC;MAEjC,IAAI,CAACH,WAAW,CAACG,WAAU,GAAIA,WAAU;MAEzC,IAAGA,WAAU,KAAM,OAAO,EAAE;QAC1B,IAAI,IAAI,CAAC5D,WAAU,IAAK,IAAI,EAAE;UAC5BmJ,KAAK,CAAC,oBAAoB,CAAC;UAC3B;QACF;MACF;MACA,IAAGvF,WAAU,KAAM,MAAM,EAAE;QACzB,IAAI,IAAI,CAACH,WAAW,CAACC,aAAY,IAAK,IAAI,EAAE;UAC1CyF,KAAK,CAAC,uBAAuB,CAAC;UAC9B;QACF;MAEF;MAEA,IAAI,CAAC7I,aAAY,GAAI,KAAK;MAC1B,IAAI,CAACD,YAAW,GAAI,KAAK;MACzB,IAAI,CAACD,kBAAiB,GAAI,IAAI;MAC9B,IAAI,CAACD,oBAAmB,GAAI,KAAI;IAClC,CAAC;IACDsX,WAAWA,CAAA,EAAG;MACZ,IAAG,IAAI,CAAChU,WAAW,CAACG,WAAU,KAAM,OAAO,EAAE;QAC3C,IAAI,IAAI,CAAC5D,WAAU,IAAK,IAAI,EAAE;UAC5BmJ,KAAK,CAAC,oBAAoB,CAAC;UAC3B;QACF;MACF;MACA,IAAG,IAAI,CAAC1F,WAAW,CAACG,WAAU,KAAM,MAAM,EAAE;QAC1C,IAAI,IAAI,CAACH,WAAW,CAACC,aAAY,IAAK,IAAI,EAAE;UAC1CyF,KAAK,CAAC,uBAAuB,CAAC;UAC9B;QACF;MACF;MACA,IAAI,CAAC7C,OAAM,GAAI,sBAAsB;MACrC,IAAI,CAAC7C,WAAW,CAACzD,WAAU,GAAI,IAAI,CAACA,WAAU;MAE9C,MAAMhB,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC;MACtCvL,IAAI,CAACuL,MAAM,CAAC,aAAa,EAAEU,IAAI,CAACC,SAAS,CAAC,IAAI,CAACzH,WAAW,CAAC,CAAC;MAE5D,IAAImF,MAAK,GAAI,IAAI;MACjB,IAAI,IAAI,CAACnF,WAAW,CAACE,KAAK,CAAC+T,UAAU,CAAC,KAAK,CAAC,EAAE;QAC5C9O,MAAK,GAAInK,KAAK;MAChB;MACA,IAAI,IAAI,CAACgF,WAAW,CAACE,KAAK,CAAC+T,UAAU,CAAC,KAAK,CAAC,EAAE;QAC5C9O,MAAK,GAAIpK,OAAO;MAClB;MAEA,IAAI,IAAI,CAACiF,WAAW,CAACE,KAAK,CAAC+T,UAAU,CAAC,KAAK,CAAC,EAAE;QAC5C9O,MAAK,GAAIrK,IAAI;MACf;MAEA,IAAI,IAAI,CAACkF,WAAW,CAACE,KAAK,CAAC+T,UAAU,CAAC,KAAK,CAAC,EAAE;QAC5C9O,MAAK,GAAItK,MAAM;MACjB;MAEAD,OAAO,CAACW,IAAI,EAAE4J,MAAM,EACf4B,IAAI,CAAEG,GAAG,IAAK;QACb,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACQ,aAAY,GAAI,KAAK;UAC1B,IAAI,CAACD,YAAW,GAAI,KAAK;UACzB;UACA,IAAI,CAAC2D,KAAI,GAAI2T,WAAW,CAAC,MAAM;YAE7B,IAAI,CAACC,YAAY,EAAE;UACrB,CAAC,EAAE,IAAI,CAAC;QACV,OAAO;UACL,IAAI,CAACC,IAAG,GAAI,IAAI;UAChB1O,KAAK,CAACwB,GAAG,CAAC3L,IAAI,CAACsH,OAAO,CAAC;QACzB;MACF,CAAC,EACAmE,KAAK,CAAEM,CAAC,IAAK;QACZ5B,KAAK,CAAC4B,CAAC,CAACzE,OAAO,CAAC;MAClB,CAAC,CAAC;IACR,CAAC;IACDsR,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC3T,YAAW,GAAI6T,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAC,GAAI,CAAC,IAAI;MACpD,IAAG,IAAI,CAAC/T,YAAW,KAAM,CAAC,EAAC;QACzB,IAAI,CAACqC,OAAM,GAAI,sBAAsB;MACvC;MACA,IAAG,IAAI,CAACrC,YAAW,KAAM,CAAC,EAAC;QACzB,IAAI,CAACqC,OAAM,GAAI,uBAAuB;MACxC;MACA,IAAG,IAAI,CAACrC,YAAW,KAAK,CAAC,EAAC;QACxB,IAAI,CAACqC,OAAM,GAAI,wBAAwB;MACzC;MACA,MAAMtH,IAAG,GAAI,IAAIsL,QAAQ,EAAE;MAC3BtL,IAAI,CAACuL,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC;MACvCvL,IAAI,CAACuL,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC9G,WAAW,CAACE,KAAK,CAAC;MAEjDtF,OAAO,CAACW,IAAI,EAAEV,MAAM,EACfkM,IAAI,CAAEG,GAAG,IAAK;QACb,IAAIA,GAAG,CAAC3L,IAAI,CAACc,OAAO,EAAE;UACpB,IAAI,CAACwG,OAAM,GAAI,IAAI;UACnB2R,aAAa,CAAC,IAAI,CAACjU,KAAK,CAAC;UACzB,IAAI,CAACkU,OAAM,GAAI,IAAI;UACnB,IAAI,CAACzU,WAAW,CAAC3D,OAAM,GAAI,KAAK;UAChC,IAAI,CAACqY,WAAU,GAAIxN,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACmZ,WAAW;UAC5C,IAAI,CAACjU,cAAa,GAAIyG,GAAG,CAAC3L,IAAI,CAACA,IAAI,CAACkZ,OAAO,CAAChU,cAAa;UACzD;UACA,IAAI,CAAC9D,kBAAiB,GAAI,KAAI;UAC9B,IAAI,CAACD,oBAAmB,GAAI,IAAG;QACjC;MACF,CAAC,EACAsK,KAAK,CAAEM,CAAC,IAAK;QACZ5B,KAAK,CAAC4B,CAAC,CAACzE,OAAO,CAAC;MAClB,CAAC,CAAC;IACR;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}