{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport { authUrl, biller, execute, getRight, parking, patient, rent, trade } from \"@/api\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport router from \"@/router\";\nexport default {\n  name: 'OutPatientCheckin',\n  components: {\n    NavigationBar\n  },\n  data() {\n    return {\n      invoiceGenerated: false,\n      patientRecord: false,\n      message: null,\n      keyword: '',\n      loading: false,\n      selectedPatient: null,\n      // To store the selected patient\n      patientDetails: {\n        patient: {\n          patientID: null,\n          title: null,\n          names: null,\n          gender: null,\n          idNo: null,\n          phoneNumber: null,\n          email: null,\n          physicalAddress: null,\n          dateOfBirth: null,\n          maritalStatus: null,\n          levelOfEducation: null,\n          occupation: null,\n          religion: null,\n          languages: null,\n          countyID: null,\n          countyName: null,\n          bloodGroup: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID: null,\n          wardName: null,\n          town: null\n        },\n        guarantor: {\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          email: null,\n          physicalAddress: null,\n          town: null,\n          relationship: null\n        },\n        kins: [{\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          address: null,\n          relationShip: null\n        }],\n        nhif: {\n          visitCode: null,\n          number: null,\n          policyholder: null\n        },\n        insurance: {\n          visitCode: null,\n          provider: null,\n          policyNumber: null,\n          authorizationCode: null,\n          policyholder: null\n        },\n        employer: {\n          visitCode: null,\n          companyName: null,\n          companyID: null,\n          authorizationCode: null\n        }\n      },\n      visitEntries: {\n        visitCode: null,\n        idNo: null,\n        names: null,\n        phoneNumber: null,\n        email: null,\n        reasonForVisit: null,\n        description: null,\n        departmentVisiting: null,\n        doctorNurse: null,\n        triage: null,\n        meansOfArrival: null,\n        payment: null\n      },\n      patients: [{\n        id: null,\n        patientID: null,\n        title: null,\n        names: null,\n        phoneNumber: null,\n        physicalAddress: null,\n        gender: null,\n        idNo: null,\n        dateOfBirth: null,\n        maritalStatus: null,\n        levelOfEducation: null,\n        occupation: null,\n        religion: null,\n        languages: null,\n        countyID: null,\n        countyName: null,\n        bloodGroup: null\n      }],\n      subCounties: [{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards: [{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty: {\n        subCountyID: \"\",\n        subCountyName: \"\"\n      },\n      ward: {\n        wardID: \"\",\n        wardName: \"\"\n      },\n      invoiceItem: [{\n        quantity: 1,\n        incomeType: null,\n        feesAndCharge: {\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc: null,\n          costCenterNo: null,\n          zone: null,\n          typeDescription: null\n        },\n        feesAndCharges: [{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc: null,\n          costCenterNo: null,\n          zone: null,\n          typeDescription: null\n        }]\n      }],\n      incomeTypes: [{\n        incomeTypeId: null,\n        incomeTypeDescription: null,\n        incomeTypePrefix: null,\n        fundDescription: null,\n        status: null\n      }],\n      billItem: [],\n      feesAndChargeItems: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: 1\n      }],\n      feesAndCharges: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      amount: 0,\n      feeID: null,\n      unitFeeAmount: 0,\n      totalAmount: 0,\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      billDetails: {\n        id: '',\n        billNo: '',\n        incomeTypeID: '',\n        incomeTypeDescription: '',\n        costCenterNo: '',\n        accountNo: '',\n        feeID: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        wardID: '',\n        subCountyID: '',\n        status: '',\n        dateCreated: ''\n      },\n      billInfo: [],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode: null,\n        sessionNames: null,\n        sessionIdNo: null,\n        sessionPhoneNumber: null\n      },\n      timer: null,\n      randomNumber: null,\n      receiptDetails: {\n        id: '',\n        receiptNo: null,\n        billNo: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        costCenterNo: '',\n        accountNo: '',\n        incomeTypeDescription: '',\n        feeID: '',\n        wardID: '',\n        subCountyID: '',\n        currency: '',\n        source: '',\n        transactionCode: '',\n        paidBy: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        isActive: '',\n        status: ''\n      },\n      receiptInfos: [{\n        id: '',\n        receiptNo: '',\n        billNo: '',\n        billTotal: '',\n        receiptAmount: '',\n        billBalance: '',\n        customer: '',\n        clientPhoneNo: '',\n        description: '',\n        receiptDate: '',\n        printCount: '',\n        wardID: '',\n        subCountyID: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        printedBy: '',\n        updated: '',\n        isActive: '',\n        status: ''\n      }]\n      //Billing Module\n    };\n  },\n\n  methods: {\n    getRight(type) {\n      return getRight(type);\n    },\n    gotTo(route) {\n      sessionStorage.setItem(\"selectedSub\", route);\n      sessionStorage.setItem(\"currentPage\", route);\n      this.$router.push(route);\n    },\n    addKin() {\n      this.patientDetails.kins.push({});\n    },\n    removeKin(position) {\n      this.patientDetails.kins.splice(position, 1);\n    },\n    addPatient() {\n      this.message = null;\n      this.patientDetails.patient.subCountyID = this.subCounty.subCountyID;\n      this.patientDetails.patient.subCountyName = this.subCounty.subCountyName;\n      this.patientDetails.patient.wardName = this.ward.wardName;\n      this.patientDetails.patient.wardID = this.ward.wardID;\n      this.loading = true;\n      const data = new FormData();\n      data.append(\"function\", \"addPatient\");\n      data.append(\"patientDetails\", JSON.stringify(this.patientDetails));\n      execute(data, patient).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.visitEntries.idNo = this.patientDetails.patient.idNo;\n          this.visitEntries.names = this.patientDetails.patient.firstName + '' + this.patientDetails.patient.lastName;\n          this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber;\n          this.visitEntries.idNo = this.patientDetails.patient.idNo;\n          this.generateVisitEntries();\n        } else {}\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    generateVisitEntries() {\n      this.message = null;\n      this.loading = true;\n      this.visitEntries.idNo = this.patientDetails.patient.idNo;\n      this.visitEntries.names = this.patientDetails.patient.names;\n      this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"generateVisitEntries\");\n      data.append(\"visitEntries\", JSON.stringify(this.visitEntries));\n      data.append(\"guarantor\", JSON.stringify(this.patientDetails.guarantor));\n      data.append(\"nhif\", JSON.stringify(this.patientDetails.nhif));\n      data.append(\"insurance\", JSON.stringify(this.patientDetails.insurance));\n      data.append(\"employer\", JSON.stringify(this.patientDetails.employer));\n      execute(data, patient).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.visitEntries = res.data.data.visitEntries;\n          this.addToBill();\n        } else {}\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    getPatient() {\n      this.message = null;\n      this.loading = true;\n      this.patients.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getPatient\");\n      data.append(\"keyword\", this.keyword);\n      execute(data, patient).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.patients = res.data.data.patients;\n          $('.modal').modal('hide');\n          $('#searchResultList').modal('show');\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    getSubCounties() {\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.subCounties = res.data.data.subCounties;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getWards() {\n      this.wards.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.wards = res.data.data.wards;\n          this.ward.wardName = this.patientDetails.patient.wardName;\n          this.ward.wardID = this.patientDetails.patient.wardID;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getPatientDetails(keyword) {\n      this.patientRecord = false;\n      const data = new FormData();\n      data.append(\"function\", \"getPatientDetails\");\n      data.append(\"keyword\", keyword);\n      execute(data, patient).then(res => {\n        sessionStorage.setItem(\"patientIDNo\", \"\");\n        if (res.data.success) {\n          this.patientRecord = true;\n          this.patientDetails.patient = res.data.data.patient;\n          this.patientDetails.patient.languages = JSON.parse(this.patientDetails.patient.languages);\n          this.subCounty.subCountyID = this.patientDetails.patient.subCountyID;\n          this.subCounty.subCountyName = this.patientDetails.patient.subCountyName;\n          if (res.data.data.kins !== null) {\n            this.patientDetails.kins = res.data.data.kins;\n          }\n          if (res.data.data.visitEntries !== null) {\n            this.visitEntries = res.data.data.visitEntries;\n          }\n          if (res.data.data.guarantor !== null) {\n            this.patientDetails.guarantor = res.data.data.guarantor;\n          }\n          if (res.data.data.nhif !== null) {\n            this.patientDetails.nhif = res.data.data.nhif;\n          }\n          if (res.data.data.insurance !== null) {\n            this.patientDetails.insurance = res.data.data.insurance;\n          }\n          if (res.data.data.employer !== null) {\n            this.patientDetails.employer = res.data.data.employer;\n          }\n          this.getWards();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addInvoiceItem() {\n      // Add a new invoice item with its own feesAndCharges\n      this.invoiceItem.push({\n        incomeType: null,\n        feesAndCharge: null,\n        feeAmount: 0,\n        quantity: 1,\n        totalAmount: 0,\n        feesAndCharges: [] // Initialize an empty array for feesAndCharges specific to this row\n      });\n    },\n\n    removeInvoiceItem(position) {\n      this.invoiceItem.splice(position, 1);\n    },\n    selectedIncomeType(event, index) {\n      const selectedIncomeTypeId = event.target.value;\n      const selectedIncomeType = this.incomeTypes.find(income => income.incomeTypeId === selectedIncomeTypeId);\n\n      // Set the incomeType for the current invoiceItem\n      this.invoiceItem[index].incomeType = selectedIncomeType;\n\n      // Fetch and set feesAndCharges specific to this incomeType for this row\n      this.getFeesAndCharges(selectedIncomeType.incomeTypeId, index);\n    },\n    selectedFeeAndCharge(event, index) {\n      const selectedFeeId = event.target.value;\n      const selectedFee = this.invoiceItem[index].feesAndCharges.find(fee => fee.feeId === selectedFeeId);\n\n      // Set the feesAndCharge for the current invoiceItem\n      this.invoiceItem[index].feesAndCharge = selectedFee;\n\n      // Set the fee amount and calculate the total\n      this.invoiceItem[index].feeAmount = selectedFee.unitFeeAmount;\n      this.invoiceItem[index].totalAmount = selectedFee.unitFeeAmount * this.invoiceItem[index].quantity;\n    },\n    getIncomeTypes() {\n      this.feesAndCharges.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.incomeTypes = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndCharges(incomeTypeId, index) {\n      // Fetch fees and charges based on the selected incomeTypeId\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          // Assign the fetched feesAndCharges to the specific invoice item\n          this.invoiceItem[index].feesAndCharges = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    updateTotalAmount(index) {\n      const item = this.invoiceItem[index];\n      // Recalculate totalAmount based on the feeAmount and quantity\n      item.totalAmount = item.feeAmount * item.quantity;\n    },\n    addToBill(revenueStreamItem) {\n      this.billItem.splice(0);\n      for (const item of this.invoiceItem) {\n        const {\n          feesAndCharge,\n          quantity,\n          customer,\n          incomeTypeId\n        } = item;\n        this.billItem.push({\n          fiscalYear: this.fiscalYear,\n          typeDescription: feesAndCharge.typeDescription,\n          feeDescription: feesAndCharge.feeDescription,\n          accountDesc: feesAndCharge.accountDesc,\n          quantity: quantity,\n          unitFeeAmount: feesAndCharge.unitFeeAmount,\n          accountNo: feesAndCharge.accountNo,\n          costCenterNo: feesAndCharge.costCenterNo,\n          incomeTypeId: incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId: feesAndCharge.feeId,\n          amount: feesAndCharge.unitFeeAmount * quantity,\n          customer: this.visitEntries.visitCode,\n          subCountyID: this.subCounty.subCountyID,\n          subCountyName: this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          zone: sessionStorage.getItem(\"zone\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.patientDetails.patient.names,\n          patientID: this.patientDetails.patient.idNo\n        });\n      }\n      this.totalAmount = this.billItem.reduce((total, item) => total + Number(item.unitFeeAmount) * Number(item.quantity), 0);\n    },\n    generateInvoice(action) {\n      if (action === \"print\") {\n        if (!this.invoiceGenerated) {\n          this.generateBill(action);\n        } else {\n          this.printBill();\n        }\n      }\n    },\n    generateBill(action) {\n      this.invoiceGenerated = false;\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data, biller).then(res => {\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.invoiceGenerated = true;\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n          this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\");\n          this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\");\n          this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\");\n          if (action === \"print\") {\n            this.printBill();\n          }\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'bill'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        });\n        const routeData = this.$router.resolve({\n          name: 'receipt'\n        });\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod() {\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n    },\n    showTransactionSummary(paymentMode) {\n      this.paymentData.paymentMode = paymentMode;\n      if (paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false;\n    },\n    makePayment() {\n      if (this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if (this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n      execute(data, stream).then(res => {\n        if (res.data.success) {\n          this.paymentMethod = false;\n          this.paymentPanel = false;\n          //start checking payment\n          this.timer = setInterval(() => {\n            this.checkPayment();\n          }, 3000);\n        } else {\n          this.rate = null;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1;\n      if (this.randomNumber === 1) {\n        this.message = \"Waiting for payment.\";\n      }\n      if (this.randomNumber === 2) {\n        this.message = \"Waiting for payment..\";\n      }\n      if (this.randomNumber === 3) {\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = null;\n          clearInterval(this.timer);\n          this.receipt = true;\n          this.paymentData.success = false;\n          this.transaction = res.data.data.transaction;\n          this.receiptDetails = res.data.data.receipt.receiptDetails;\n          //Close the modal\n          this.transactionSummary = false;\n          this.transactionCompleted = true;\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    }\n  },\n  mounted() {\n    this.getSubCounties();\n    this.getIncomeTypes();\n    const idNo = sessionStorage.getItem(\"patientIDNo\");\n    if (idNo) {\n      this.getPatientDetails(idNo);\n    }\n  }\n};","map":{"version":3,"names":["authUrl","biller","execute","getRight","parking","patient","rent","trade","NavigationBar","router","name","components","data","invoiceGenerated","patientRecord","message","keyword","loading","selectedPatient","patientDetails","patientID","title","names","gender","idNo","phoneNumber","email","physicalAddress","dateOfBirth","maritalStatus","levelOfEducation","occupation","religion","languages","countyID","countyName","bloodGroup","subCountyID","subCountyName","wardID","wardName","town","guarantor","patientIDNo","relationship","kins","address","relationShip","nhif","visitCode","number","policyholder","insurance","provider","policyNumber","authorizationCode","employer","companyName","companyID","visitEntries","reasonForVisit","description","departmentVisiting","doctorNurse","triage","meansOfArrival","payment","patients","id","subCounties","wards","subCounty","ward","invoiceItem","quantity","incomeType","feesAndCharge","feeId","feeDescription","unitOfMeasure","unitFeeAmount","accountNo","incomeTypeId","feeType","accountDesc","costCenterNo","zone","typeDescription","feesAndCharges","incomeTypes","incomeTypeDescription","incomeTypePrefix","fundDescription","status","billItem","feesAndChargeItems","customer","amount","feeID","totalAmount","transactionCompleted","transactionSummary","paymentPanel","paymentMethod","billDetails","billNo","incomeTypeID","detailAmount","receiptAmount","billBalance","dateCreated","billInfo","paymentData","bankReceiptNo","accNo","payBillNo","success","paymentMode","sessionNames","sessionIdNo","sessionPhoneNumber","timer","randomNumber","receiptDetails","receiptNo","currency","source","transactionCode","paidBy","dateModified","createdBy","modifiedBy","isActive","receiptInfos","billTotal","clientPhoneNo","receiptDate","printCount","printedBy","updated","methods","type","gotTo","route","sessionStorage","setItem","$router","push","addKin","removeKin","position","splice","addPatient","FormData","append","JSON","stringify","then","res","firstName","lastName","generateVisitEntries","catch","e","addToBill","getPatient","$","modal","getSubCounties","getWards","getPatientDetails","parse","addInvoiceItem","feeAmount","removeInvoiceItem","selectedIncomeType","event","index","selectedIncomeTypeId","target","value","find","income","getFeesAndCharges","selectedFeeAndCharge","selectedFeeId","selectedFee","fee","getIncomeTypes","updateTotalAmount","item","revenueStreamItem","fiscalYear","getItem","customerPhoneNumber","reduce","total","Number","generateInvoice","action","generateBill","printBill","bill","billGenerated","localStorage","routeData","resolve","window","open","href","printReceipt","alert","showPaymentMethod","showTransactionSummary","makePayment","stream","startsWith","setInterval","checkPayment","rate","Math","floor","random","clearInterval","receipt","transaction","mounted"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/HMIS/hospital-management/src/components/medical-lab/LabStats.vue"],"sourcesContent":["<template>\n\n  <head>\n\n    <meta charset=\"utf-8\" />\n    <title>HOSPITAL MANAGEMENT INFORMATION SYSTEM</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Rental management system by Nouveta LTD\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n    <!-- droping file -->\n    <link href=\"assets/libs/dropzone/min/dropzone.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- DataTables -->\n    <link href=\"assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n\n    <!-- owl.carousel css -->\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.carousel.min.css\">\n\n    <link rel=\"stylesheet\" href=\"assets/libs/owl.carousel/assets/owl.theme.default.min.css\">\n\n    <!-- App Css-->\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n  </head>\n\n  <body data-sidebar=\"dark\">\n\n  <!-- <body data-layout=\"horizontal\" data-topbar=\"dark\"> -->\n  <!-- Loader -->\n  <div id=\"preloader\">\n    <div id=\"status\">\n      <div class=\"spinner-chase\">\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n      </div>\n    </div>\n  </div>\n  <!-- Begin page -->\n\n  <!-- Begin page -->\n  <div id=\"layout-wrapper\">\n\n\n    <!-- ========== Left Sidebar Start ========== -->\n    <NavigationBar/>\n    <!-- Left Sidebar End -->\n\n\n\n    <!-- ============================================================== -->\n    <!-- Start right Content here -->\n    <!-- ============================================================== -->\n    <div class=\"content-minimize\">\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18\">Lab Reports Overview</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"index.html\">Dashboards</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"#\">Medical lab</a></li>\n                    <li class=\"breadcrumb-item active\">Test Setup</li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"card\">\n                <div class=\"card-body bg-soft bg-info border-1 pt-4 border border-primary\">\n                  <div class=\"row\">\n                    <!-- Lab Orders Overview Title -->\n                    <div class=\"col-lg-4\">\n                      <div class=\"d-flex\">\n                        <div class=\"flex-shrink-0 me-3\">\n                          <img src=\"assets/images/users/avatar-1.png\" alt=\"Your Logo\" class=\"avatar-md rounded-circle img-thumbnail\">\n                        </div>\n                        <div class=\"flex-grow-1 align-self-center\">\n                          <div class=\"text-muted\">\n                            <p class=\"mb-2\">Lab Orders Overview - Homa Bay County Hospital</p>\n                            <h5 class=\"mb-1\">Quick Stats on Medical Lab Orders</h5>\n                            <p class=\"mb-0\">Summary of recent lab orders providing insight into the hospital’s medical testing activities.</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Quick Stats -->\n                    <div class=\"col-lg-8 align-self-center\">\n                      <div class=\"text-lg-left mt-4 mt-lg-0 text-black\">\n                        <div class=\"row\">\n                          <!-- New Orders -->\n                          <div class=\"col-6 col-sm-4 col-md-2\">\n                            <div data-toggle=\"tooltip\" title=\"Newly Created Lab Orders\">\n                              <div class=\"avatar-xs mb-3\">\n                                                                <span class=\"avatar-title rounded-circle bg-info font-size-16\">\n                                                                    <i class=\"mdi mdi-playlist-plus text-white\"></i>\n                                                                </span>\n                              </div>\n                              <p class=\"text-muted text-truncate mb-2\">New Orders</p>\n                              <h5 class=\"mb-0\">480</h5>\n                            </div>\n                          </div>\n                          <!-- Acknowledged Patients -->\n                          <div class=\"col-6 col-sm-4 col-md-2\">\n                            <div data-toggle=\"tooltip\" title=\"Patients whose Lab Orders were acknowledged\">\n                              <div class=\"avatar-xs mb-3\">\n                                                                <span class=\"avatar-title rounded-circle bg-primary font-size-16\">\n                                                                    <i class=\"mdi mdi-account-multiple-outline text-white\"></i>\n                                                                </span>\n                              </div>\n                              <p class=\"text-muted text-truncate mb-2\">Acknowledged Patients</p>\n                              <h5 class=\"mb-0\">1,200</h5>\n                            </div>\n                          </div>\n                          <!-- Collected Samples -->\n                          <div class=\"col-6 col-sm-4 col-md-2\">\n                            <div data-toggle=\"tooltip\" title=\"Samples collected from patients for lab analysis\">\n                              <div class=\"avatar-xs mb-3\">\n                                                                <span class=\"avatar-title rounded-circle bg-danger font-size-16\">\n                                                                    <i class=\"mdi mdi-flask-outline text-white\"></i>\n                                                                </span>\n                              </div>\n                              <p class=\"text-muted text-truncate mb-2\">Collected Samples</p>\n                              <h5 class=\"mb-0\">850</h5>\n                            </div>\n                          </div>\n                          <!-- Released Results -->\n                          <div class=\"col-6 col-sm-4 col-md-2 d-none d-md-block\">\n                            <div data-toggle=\"tooltip\" title=\"Results that have been processed and released\">\n                              <div class=\"avatar-xs mb-3\">\n                                                                <span class=\"avatar-title rounded-circle bg-warning font-size-16\">\n                                                                    <i class=\"mdi mdi-check-all text-white\"></i>\n                                                                </span>\n                              </div>\n                              <p class=\"text-muted text-truncate mb-2\">Released Results</p>\n                              <h5 class=\"mb-0\">700</h5>\n                            </div>\n                          </div>\n                          <!-- Tests Pending Review -->\n                          <div class=\"col-6 col-sm-4 col-md-2\">\n                            <div data-toggle=\"tooltip\" title=\"Samples that are pending review before final results are released\">\n                              <div class=\"avatar-xs mb-3\">\n                                                                <span class=\"avatar-title rounded-circle bg-success font-size-16\">\n                                                                    <i class=\"mdi mdi-magnify text-white\"></i>\n                                                                </span>\n                              </div>\n                              <p class=\"text-muted text-truncate mb-2\">Tests Pending Review</p>\n                              <h5 class=\"mb-0\">950</h5>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <!-- end row -->\n                </div>\n              </div>\n            </div>\n\n            <div class=\"col-sm-12 col-md-4\">\n              <div class=\"card \">\n                <div class=\"card-header bg-white border-bottom\">\n\n\n                  <div class=\"clearfix\">\n                    <div class=\"float-end mb-3\">\n                      <div class=\"input-group input-group-sm\">\n                        <select class=\"form-select form-select-sm\">\n                          <option value=\"\" disabled>Select Lab</option>\n                          <option value=\"all-labs\" selected>All Labs</option>\n                          <option value=\"inpatient-lab\">Inpatient Lab</option>\n                          <option value=\"outpatient-lab\">Outpatient Lab</option>\n                          <option value=\"mch-lab\">MCH Lab</option>\n                        </select>\n                        <label class=\"input-group-text\">Lab</label>\n                      </div>\n                    </div>\n                    <h4 class=\"card-title text-uppercase text-black\">Lab test Error Rate</h4>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"\">\n\n\n                    <div id=\"lab-error-rate-gauge\"></div>\n                    <div class=\"d-flex mt-3\">\n                      <div>\n                        <div class=\"avatar-xs me-3\">\n                          <span class=\"avatar-title rounded-circle bg-warning bg-soft text-warning font-size-18\">\n                                                        <i class=\"mdi mdi-alert\"></i>\n                                                    </span>\n                        </div>\n                      </div>\n                      <div class=\"flex-grow-1\">\n                        <div>\n                          <h5 class=\"font-size-14\">Caution!</h5>\n                          <p class=\"text-muted\">The current lab error rate is at <strong class=\"text-warning\">10%</strong>. While within acceptable limits, it’s approaching the critical threshold. Continuous monitoring and corrective actions are recommended to prevent further increase.</p>\n                        </div>\n                      </div>\n                    </div>\n\n\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"col-sm-12 col-md-8\">\n              <div class=\"card bg-soft bg-\">\n                <div class=\"card-header bg-transparent border-bottom border-succes\">\n                  <div class=\"d-sm-flex flex-wrap\">\n                    <h4 class=\"card-title mb-4 text-black text-uppercase\">Laboratory Test Breakdown by Gender</h4>\n                    <div class=\"ms-auto\">\n                      <ul class=\"nav nav-pills text-uppercase\">\n                        <li class=\"nav-item\">\n                          <a class=\"nav-link active\" href=\"javascript:void(0);\">Week</a>\n                        </li>\n                        <li class=\"nav-item\">\n                          <a class=\"nav-link\" href=\"javascript:void(0);\">Month</a>\n                        </li>\n                        <li class=\"nav-item\">\n                          <a class=\"nav-link\" href=\"javascript:void(0);\">Year</a>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"row\">\n\n                    <div class=\"col-12\">\n                      <div id=\"TestTypeGraph\"></div>\n                    </div>\n\n                    <div class=\"col-12 mt-3\">\n                      <div class=\"row\">\n                        <div class=\"col-sm-6 col-md-6\">\n                          <div class=\"bg-soft p-3 stat-cont female-stat\">\n                            <div class=\"d-flex\">\n                              <h1><i class=\"fas fa-female\"></i></h1>\n                              <div>\n                                <h2 class=\"mb-0 fw-thin fs-1\">60%</h2>\n                                <p class=\"fw-bold text-uppercase fs-5 mb-0\">Female-Based Tests</p>\n                                <p><strong>Total Tests Conducted: 300 of 500</strong><br>Tests conducted between <strong>1 June 2024</strong> and <strong>31 June 2024</strong></p>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div class=\"col-sm-6 col-md-6\">\n                          <div class=\"bg-soft p-3 stat-cont male-stat\">\n                            <div class=\"d-flex\">\n                              <h1><i class=\"fas fa-male\"></i></h1>\n                              <div>\n                                <h2 class=\"mb-0 fw-thin fs-1\">40%</h2>\n                                <p class=\"fw-bold text-uppercase fs-5 mb-0\">Male-Based Tests</p>\n                                <p><strong>Total Tests Conducted: 200 of 500</strong><br>Tests conducted between <strong>1 June 2024</strong> and <strong>31 June 2024</strong></p>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n\n            <div class=\"col-sm-12 col-md-5 col-lg-4\">\n              <div class=\"card\">\n                <div class=\"card-header bg-transparent border-bottom border-succes\">\n                  <div class=\"d-sm-flex flex-wrap\">\n                    <h4 class=\"card-title text-black text-uppercase\">Top Performers</h4>\n\n                  </div>\n\n                </div>\n                <div class=\"card-body\">\n                  <div id=\"\">\n                    <table class=\"table align-middle mb-0 table-sm\">\n                      <tbody>\n                      <tr>\n                        <td>\n                          <h5 class=\"font-size-14 mb-1\">John Doe</h5>\n                          <p class=\"text-muted mb-0\">Lab Technician</p>\n                        </td>\n\n                        <td>\n                          <div id=\"radialchart-1\" data-colors='[\"--bs-primary\"]' class=\"apex-charts\"></div>\n                        </td>\n                        <td>\n                          <p class=\"text-muted mb-1\">Tests</p>\n                          <h5 class=\"mb-0\">37 %</h5>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <h5 class=\"font-size-14 mb-1\">Jane Smith</h5>\n                          <p class=\"text-muted mb-0\">Pathologist</p>\n                        </td>\n\n                        <td>\n                          <div id=\"radialchart-2\" data-colors='[\"--bs-success\"]' class=\"apex-charts\"></div>\n                        </td>\n                        <td>\n                          <p class=\"text-muted mb-1\">Tests</p>\n                          <h5 class=\"mb-0\">72 %</h5>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <h5 class=\"font-size-14 mb-1\">David Lee</h5>\n                          <p class=\"text-muted mb-0\">Radiologist</p>\n                        </td>\n\n                        <td>\n                          <div id=\"radialchart-3\" data-colors='[\"--bs-danger\"]' class=\"apex-charts\"></div>\n                        </td>\n                        <td>\n                          <p class=\"text-muted mb-1\">Tests</p>\n                          <h5 class=\"mb-0\">54 %</h5>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <h5 class=\"font-size-14 mb-1\">Emily Clark</h5>\n                          <p class=\"text-muted mb-0\">Microbiologist</p>\n                        </td>\n\n                        <td>\n                          <div id=\"radialchart-4\" data-colors='[\"--bs-warning\"]' class=\"apex-charts\"></div>\n                        </td>\n                        <td>\n                          <p class=\"text-muted mb-1\">Tests</p>\n                          <h5 class=\"mb-0\">60 %</h5>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <h5 class=\"font-size-14 mb-1\">Michael Johnson</h5>\n                          <p class=\"text-muted mb-0\">Biomedical Engineer</p>\n                        </td>\n\n                        <td>\n                          <div id=\"radialchart-5\" data-colors='[\"--bs-info\"]' class=\"apex-charts\"></div>\n                        </td>\n                        <td>\n                          <p class=\"text-muted mb-1\">Tests</p>\n                          <h5 class=\"mb-0\">85 %</h5>\n                        </td>\n                      </tr>\n                      </tbody>\n                    </table>\n\n                  </div>\n                </div>\n                <div class=\"card-footer bg-transparent border-top\">\n                  <div class=\"text-center\">\n                    <a href=\"javascript: void(0);\" class=\"btn btn-primary waves-effect waves-light\"> View More</a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"col-sm-12 col-md-7 col-lg-8\">\n              <div class=\"card\">\n                <div class=\"card-header bg-transparent border-bottom border-succes\">\n                  <div class=\"d-sm-flex flex-wrap\">\n                    <h4 class=\"card-title text-black text-uppercase\">Average Turnaround Time</h4>\n                    <div class=\"ms-auto\">\n                      <ul class=\"nav nav-pills text-uppercase\">\n                        <li class=\"nav-item\">\n                          <a class=\"nav-link active\" href=\"javascript:void(0);\">Week</a>\n                        </li>\n                        <li class=\"nav-item\">\n                          <a class=\"nav-link\" href=\"javascript:void(0);\">Month</a>\n                        </li>\n                        <li class=\"nav-item\">\n                          <a class=\"nav-link\" href=\"javascript:void(0);\">Year</a>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                </div>\n                <div class=\"card-body\">\n                  <div id=\"containerAvgTime\"></div>\n                </div>\n              </div>\n            </div>\n\n\n\n\n\n          </div>\n\n          <!-- end row -->\n        </div>\n        <!-- container-fluid -->\n      </div>\n      <!-- End Page-content -->\n\n      <!-- receipting modal -->\n      <div class=\"modal fade receipting-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Food Handler Certificate Details</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-6\">\n                  <address>\n                    <strong class=\"text-capitalize\">Patient Details</strong><br>\n                    Mrs Jane Doe<br>\n                    <a href=\"mailto:email@mail.com\">email@mail.com</a>, <a href=\"tel:+254704549859\">0704 549 859</a><br>\n\n                    <br>\n                    Valid From 1 Mar 2022, 10:20 AM\n                    <br>\n                    <span class=\"pr-2\">Valid Till 2 Mar 2023, 10:20 AM </span>\n                    <span class=\"badge rounded-pill bg-success text-uppercase me-3\">Active</span>\n\n                  </address>\n                </div>\n\n                <div class=\"col-6 text-right\">\n                  <address>\n                    <strong class=\"text-capitalize\">Location Details</strong><br>\n                    Street/Road: Mombasa Road<br>\n                    Plot No.: 122202/1250<br>\n                    Building: The Tower. Floor: 12. Door/Stall No.: 123<br/>\n                    Subcounty: CBD. Ward: Mututu\n\n\n                  </address>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"hori-timeline mt-4\">\n                    <div class=\"owl-carousel owl-theme  navs-carousel events timeline-carousel\" id=\"timeline-carousel\">\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">12 Sep 2023 10:09 AM</div>\n                            <h5 class=\"mb-4\">Application</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted text-capitalize\">Self Service Portal</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">13 Sep 2023 10:09 AM</div>\n                            <h5 class=\"mb-4\">Lab Test</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3 text-capitalize\">\n                            <p class=\"text-muted\">Dr Mary Jane at Taifa Clinic</p>\n                            <a href=\"PrintDocs/health-result-slip-master/health-result-slip-master/slip33.html\" target=\"_blank\" type=\"button\" class=\"btn btn-link waves-effect\"><i class=\"mdi mdi-eye-outline\"></i> View Result Slip</a>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">14 Sep 2023 12:57 PM</div>\n                            <h5 class=\"mb-4\">Approved</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">Mary Max</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div class=\"item event-list\">\n                        <div>\n                          <div class=\"event-date\">\n                            <div class=\"text-primary mb-1\">15 Sep 2023 12:54 PM</div>\n                            <h5 class=\"mb-4\">Certification</h5>\n                          </div>\n                          <div class=\"event-down-icon\">\n                            <i class=\"bx bx-down-arrow-circle h1 text-primary down-arrow-icon\"></i>\n                          </div>\n\n                          <div class=\"mt-3 px-3\">\n                            <p class=\"text-muted\">Certifcate Issued By Kiprop Tanui</p>\n                          </div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-sm-6 text-sm-end d-none\">\n                  <address class=\"mt-2 mt-sm-0\">\n                    <strong>Payment Method</strong><br>\n                    <span class=\"fw-medium\">MPESA</span><br>\n                    Phone No. 0704 549 859<br> <br>\n                    On 1 Mar 2022, 10:20 AM\n                  </address>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"py-2 mt-3\">\n                  <h3 class=\"font-size-15 fw-bold\">ND12368</h3>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"table-responsive\">\n                  <table class=\"table table-nowrap vertical-align-middle\">\n                    <thead class=\"bg-light\">\n                    <tr>\n                      <th>More Details</th>\n                      <th class=\"text-end\"></th>\n\n                    </tr>\n                    </thead>\n\n                    <tbody>\n                    <tr title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Serial Number</p>\n                      </td>\n                      <td class=\"\">12WER345</td>\n\n                    </tr>\n\n                    <tr title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Business Owner(s)</p>\n                      </td>\n                      <td class=\"\">John Doe Kamau, James Kuria Kimotho</td>\n\n                    </tr>\n\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Profession/Occupation</p>\n\n                      </td>\n                      <td class=\"\">Food Processing</td>\n\n                    </tr>\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Application Date</p>\n\n                      </td>\n                      <td class=\"\">5 Jan 2022 10:09 AM</td>\n\n                    </tr>\n\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Date Approved</p>\n\n                      </td>\n                      <td class=\"\">11 Jan 2022 09:54 AM</td>\n\n                    </tr>\n\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Days To Expiry</p>\n\n                      </td>\n                      <td class=\"\">134 Days</td>\n\n                    </tr>\n\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Amount Paid</p>\n\n                      </td>\n                      <td class=\"text-uppercase\">KES 1,000</td>\n\n                    </tr>\n\n\n\n\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"PrintDocs/Food-handler/health-permit.html\" target=\"_blank\" type=\"button\" class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"mdi mdi-printer font-size-16 align-middle me-2\"></i> Print Certificate\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of receipting modal -->\n\n      <!-- invoice details -->\n      <div class=\"modal fade invoice-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Invoice Details</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"col-12\">\n                <address>\n                  <strong>Billed To:</strong><br>\n                  Kelvin Njuguna<br>\n                  email@mail.com, 0704 549 859<br>\n                  Hse No. 410, 90 Degrees By Tsavo\n                  <br><br>\n                  1 Mar 2022, 10:20 AM\n                </address>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"py-2 mt-3\">\n                  <h3 class=\"font-size-15 fw-bold\">Invoice Details ( <span class=\"text-primary fw-medium\">No. 1237</span> )</h3>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"table-responsive\">\n                  <table class=\"table table-nowrap\">\n                    <thead>\n                    <tr>\n                      <th style=\"width: 70px;\">No.</th>\n                      <th>Item</th>\n                      <th class=\"text-end\">Amount</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                      <td>01</td>\n                      <td>Rent Deposit</td>\n                      <td class=\"text-end\">KES 24,500</td>\n                    </tr>\n\n                    <tr>\n                      <td>02</td>\n                      <td>Monthly Rent</td>\n                      <td class=\"text-end\">KES 12,000</td>\n                    </tr>\n\n                    <tr>\n                      <td>03</td>\n                      <td>TAX (18%)</td>\n                      <td class=\"text-end\">KES 250</td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"2\" class=\"text-end\">Total</td>\n                      <td class=\"text-end fw-bold\">KES 36,750</td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"2\" class=\"text-end\">Paid</td>\n                      <td class=\"text-end  fw-bold\">KES 0.00</td>\n                    </tr>\n\n                    <tr>\n                      <td colspan=\"2\" class=\"border-0 text-end\">\n                        <strong>Balance</strong></td>\n                      <td class=\"border-0 text-end\">\n                        <h5 class=\"m-0 text-uppercase fw-bold\">KES 36,750</h5>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"col-12 d-none\">\n                <div class=\"table-resposive p-4 px-2 pt-2 overflow-visible\">\n                  <table class=\"w-100\">\n                    <tbody>\n                    <tr data-id=\"1\">\n                      <td>\n                        <label for=\"\" class=\"\">Payment Method</label>\n                        <select class=\"form-control selectpicker w-100 payment-method\" data-style=\"btn-secondary w-100\" data-live-search=\"true\" title=\"Select payment Method\">\n                          <option value=\"Mpesa\">MPESA</option>\n                          <option value=\"Cash\">CASH</option>\n                        </select>\n                      </td>\n                      <td class=\"px-3 \">\n                        <div class=\"phone-num d-none\">\n                          <label for=\"\">Phone No.</label>\n                          <input type=\"text \" class=\"form-control w-100 d-flex \" placeholder=\"Phone No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                        </div>\n\n                      </td>\n                      <td class=\"px-3\">\n                        <label for=\"\">Amount To Be Paid</label>\n                        <input type=\"text \" class=\"form-control w-100 d-flex\" placeholder=\"KES\" spellcheck=\"false\" data-ms-editor=\"true\">\n\n                      </td>\n                      <td class=\"text-right float-right\">\n                        <div class=\"d-flex flex-column\">\n                          <label class=\"opacity-0\">Something</label>\n                          <a href=\"#\" class=\"btn btn-primary w-md waves-effect waves-light\">Submit</a>\n                        </div>\n                      </td>\n\n\n                    </tr>\n                    </tbody>\n                  </table>\n\n                </div>\n              </div>\n              <div class=\"float-end\">\n                <a href=\"javascript:window.print()\" class=\"btn btn-success waves-effect waves-light me-1\"><i class=\"mdi mdi-printer font-16px\"></i></a>\n                <a href=\"javascript: void(0);\" class=\"btn btn-primary w-md waves-effect waves-light\">Receive Payment</a>\n              </div>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- invoice details -->\n\n      <!-- patients details modal -->\n      <div class=\"modal fade patient-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-md modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Add A bed to the ward</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"Bed Number\">Bed Number</label>\n                    <input type=\"text\" class=\"form-control mb-3\" placeholder=\"Enter Bed Number\">\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"Bed Number\">Bed Type</label>\n                    <select class=\"form-control selectpicker w-100 payment-method\" data-live-search=\"true\" title=\"Select Bed Type\">\n                      <option value=\"fowler\">Fowler bed</option>\n                      <option value=\"electric\">Electric bed</option>\n                      <option value=\"stretcher\">Stretcher</option>\n                      <option value=\"low\">Low bed</option>\n                      <option value=\"low_air_loss\">Low air loss bed</option>\n                      <option value=\"Other\">Other ...</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <button class=\"btn btn-primary w-100\">Save Changes</button>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of patieonts details modal -->\n\n      <!-- kin details modal -->\n      <div class=\"modal fade kin-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Jane's Kin Details</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"col-12\">\n                <div class=\"table-responsive\">\n                  <table class=\"table table-nowrap vertical-align-middle\">\n\n\n                    <tbody>\n\n                    <tr title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Relationship with patient</p>\n                      </td>\n                      <td class=\"\">Brother</td>\n\n                    </tr>\n\n                    <tr title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Full Names</p>\n                      </td>\n                      <td class=\"\">Alex Kinoti Livondo</td>\n\n                    </tr>\n\n                    <tr title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Phone Number</p>\n                      </td>\n                      <td class=\"\">\n                        <a href=\"tel:+254712345678\">0712 345 678</a>\n                      </td>\n\n                    </tr>\n\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Email Address</p>\n\n                      </td>\n                      <td class=\"\"><a href=\"mailto:Alex@kinoti.com\">Alex@kinoti.com</a></td>\n\n                    </tr>\n                    <tr >\n                      <td>\n                        <p class=\"the-bill-item mb-0 p-0 m-0 fw-semibold\">Physical Address</p>\n\n                      </td>\n                      <td class=\"\">Near Mount Kilimanjaro Joint</td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer d-none\">\n\n              <a href=\"PrintDocs/Food-handler/health-permit.html\" target=\"_blank\" type=\"button\" class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"mdi mdi-printer font-size-16 align-middle me-2\"></i> Print Certificate\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of kin details modal -->\n\n      <!-- Patient registration -->\n      <div class=\"modal fade \" id=\"registerCustomer\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n        <div class=\"modal-dialog modal-dialog-centered modal-lg\">\n          <div class=\"modal-content \">\n\n\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">New Ward Registration</h5>\n              <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n\n            <div class=\"modal-body steps-container\">\n              <div class=\"mb-4 the-step patient-info active\">\n                <div class=\"avatar-md mx-auto mb-4 d-none\">\n                  <div class=\"avatar-title bg-light rounded-circle text-primary h1 \">\n                    <i class=\"mdi mdi-account-multiple-plus \"></i>\n                  </div>\n                </div>\n\n                <div class=\"row  text-left\">\n                  <div class=\"col-12\">\n                    <form>\n                      <div class=\"row \">\n                        <div class=\"col-12 mb-3\">\n                          <div class=\"row\">\n                            <div class=\"col-6\">\n                              <label for=\"\">Ward Name</label>\n                              <input type=\"text \" class=\"form-control two-step \" placeholder=\"Enter the Ward's Name\">\n                            </div>\n\n                            <div class=\"col-6 mb-3\">\n                              <div class=\"\">\n                                <label for=\"digit1-input \" class=\"\">Ward Type</label>\n                                <select class=\"form-control selectpicker bg-white select-revenue\" title=\"Select Ward\">\n                                  <option value=\"General ward\">General ward</option>\n                                  <option value=\" Intensive care unit (ICU)\"> Intensive care unit (ICU)</option>\n                                  <option value=\" Maternity ward\"> Maternity ward</option>\n                                  <option value=\" Pediatric ward\"> Pediatric ward</option>\n                                  <option value=\"Psychiatric ward\">Psychiatric ward</option>\n\n                                </select>\n                              </div>\n                            </div>\n\n                            <div class=\"col-6 mb-3\">\n                              <div class=\"\">\n                                <label for=\"digit1-input \" class=\"\">Ward's Location</label>\n                                <input type=\"text\" class=\"form-control\" placeholder=\"ie floor number, room number, wing etc\">\n                              </div>\n                            </div>\n\n                            <div class=\"col-6 mb-3\">\n                              <div class=\"\">\n                                <label for=\"digit1-input \" class=\"\">Number of Rooms</label>\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Number of Rooms/Cubicals\">\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                      </div>\n\n\n                    </form>\n\n                  </div>\n                </div>\n              </div>\n              <div class=\"mb-4 the-step next-of-kin-modal d-none\">\n                <h4 class=\"text-primary text-capitalize\">Next Of Kin Details</h4>\n                <div class=\"row\">\n\n                  <div class=\"col-12 mb-4\">\n                    <label for=\"\" class=\"text-capitalize\">Relationship with Patient Being registerd</label>\n                    <select class=\"form-control selectpicker bg-white select-revenue\" title=\"Select Next Of Kin's Relationship with the patient being registered\" data-live-search=\"true\">\n                      <option value=\"\">Mother</option>\n                      <option value=\"\">Father</option>\n                      <option value=\"\">Daughter</option>\n\n                      <option value=\"\">Son</option>\n                      <option value=\"\">Sister</option>\n                      <option value=\"\">Brother</option>\n\n                      <option value=\"\">Friend</option>\n                      <option value=\"\">Uncle</option>\n                      <option value=\"\">Aunt</option>\n                    </select>\n                  </div>\n\n                  <div class=\"col-12 \">\n                    <div class=\"\">\n                      <label for=\"digit1-input \" class=\"\">Next Of Kin Full Names</label>\n                    </div>\n                  </div>\n\n\n                  <div class=\"col-12 mb-3\">\n                    <div class=\"row\">\n                      <div class=\"col-4\">\n                        <input type=\"text \" class=\"form-control two-step \" placeholder=\"First Name\">\n                      </div>\n\n                      <div class=\"col-4\">\n                        <input type=\"text \" class=\"form-control two-step \" placeholder=\"Middle Name\">\n                      </div>\n\n                      <div class=\"col-4\">\n                        <input type=\"text \" class=\"form-control two-step \" placeholder=\"Last Name\">\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"col-12 \">\n                    <div class=\"\">\n                      <label for=\"digit1-input \" class=\"\">Next Of Kin Contact information</label>\n                    </div>\n                  </div>\n\n\n                  <div class=\"col-12 mb-3\">\n                    <div class=\"row\">\n                      <div class=\"col-6\">\n                        <input type=\"text\" class=\"form-control two-step \" placeholder=\"Phone Number\">\n                      </div>\n\n                      <div class=\"col-6\">\n                        <input type=\"email\" class=\"form-control two-step \" placeholder=\"Email address\">\n                      </div>\n\n\n                    </div>\n                  </div>\n\n                  <div class=\"col-12 mb-3\">\n                    <div class=\"\">\n                      <label for=\"digit1-input \" class=\"\">Physical Address</label>\n                      <textarea name=\"\" id=\"\"  class=\"form-control\" placeholder=\"Enter Address\"></textarea>\n                    </div>\n                  </div>\n\n                </div>\n              </div>\n            </div>\n\n            <div class=\"modal-footer d-flex\">\n              <div class=\"d-none\">\n                <button data-toggle=\"modal\" data-target=\"#subscribeModal\" data-dismiss=\"modal\" type=\"button\" class=\"btn btn-link waves-effect\">Back To Patient Search</button>\n              </div>\n              <div class=\"d-flex modal-next-prev-container\">\n                <button type=\"button\" class=\"btn btn-outline-secondary btn-prev waves-effect waves-effect waves-light me-3\">\n                  <i class=\"bx bx-left-arrow-alt font-size-16 align-middle me-2\"></i> Previouse\n                </button>\n\n                <button type=\"button\" class=\"btn btn-primary waves-effect waves-effect waves-light btn-next\">\n                  Next <i class=\"bx bx-right-arrow-alt font-size-16 align-middle me-2\"></i>\n                </button>\n\n                <button type=\"button\" class=\"btn btn-submit btn-success d-none ml-3 ms-3 waves-effect waves-effect waves-light btn-next\">\n                  <i class=\"bx bx-check-double font-size-16 align-middle me-2\"></i> Submit Application\n                </button>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Patient registration -->\n\n      <footer class=\"footer \">\n        <div class=\"container-fluid \">\n          <div class=\"row \">\n            <div class=\"col-sm-6 \">\n             Hospital Management Information System\n            </div>\n            <div class=\"col-sm-6 \">\n              <div class=\"text-sm-end d-sm-block \">\n                Developed by Levetot.\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n    <!-- end main content-->\n\n  </div>\n  <!-- END layout-wrapper -->\n\n  <!-- Right bar overlay-->\n  <div class=\"rightbar-overlay \"></div>\n\n\n  </body>\n\n\n</template>\n\n<script>\n/* eslint-disable */\n\nimport {authUrl, biller, execute, getRight, parking, patient, rent, trade} from \"@/api\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport router from \"@/router\";\nexport default {\n  name: 'OutPatientCheckin',\n  components: {\n    NavigationBar\n\n  },\n\n  data() {\n    return {\n      invoiceGenerated: false,\n      patientRecord: false,\n      message:null,\n      keyword:'',\n      loading: false,\n      selectedPatient: null, // To store the selected patient\n      patientDetails:{\n        patient:{\n          patientID:null,\n          title: null,\n          names: null,\n          gender: null,\n          idNo: null,\n          phoneNumber:null,\n          email:null,\n          physicalAddress:null,\n          dateOfBirth: null,\n          maritalStatus: null,\n          levelOfEducation: null,\n          occupation: null,\n          religion: null,\n          languages\t: null,\n          countyID: null,\n          countyName: null,\n          bloodGroup: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID:null,\n          wardName: null,\n          town: null\n        },\n        guarantor:{\n          patientIDNo: null,\n          idNo:null,\n          names:null,\n          phoneNumber: null,\n          email\t: null,\n          physicalAddress: null,\n          town: null,\n          relationship: null\n        },\n        kins:[{\n          patientIDNo: null,\n          idNo: null,\n          names: null,\n          phoneNumber: null,\n          address:null,\n          relationShip: null\n        }],\n        nhif:{\n          visitCode: null,\n          number:null,\n          policyholder:null\n        },\n        insurance:{\n          visitCode:null,\n          provider: null,\n          policyNumber:null,\n          authorizationCode:null,\n          policyholder:null\n        },\n        employer:{\n          visitCode:null,\n          companyName: null,\n          companyID:null,\n          authorizationCode:null\n        }\n\n      },\n      visitEntries:{\n        visitCode:null,\n        idNo:null,\n        names:null,\n        phoneNumber:null,\n        email: null,\n        reasonForVisit:null,\n        description:null,\n        departmentVisiting:null,\n        doctorNurse:null,\n        triage:null,\n        meansOfArrival:null,\n        payment:null,\n\n      },\n      patients: [{\n        id: null,\n        patientID: null,\n        title: null,\n        names:  null,\n        phoneNumber: null,\n        physicalAddress:null,\n        gender: null,\n        idNo:  null,\n        dateOfBirth:  null,\n        maritalStatus:  null,\n        levelOfEducation:  null,\n        occupation:  null,\n        religion: null,\n        languages: null,\n        countyID: null,\n        countyName:  null,\n        bloodGroup:  null,\n      }],\n      subCounties:[{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards:[{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      subCounty:{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      },\n      ward:{\n        wardID: \"\",\n        wardName: \"\"\n      },\n      invoiceItem:[{\n        quantity: 1,\n        incomeType:null,\n        feesAndCharge:{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc:null ,\n          costCenterNo:null,\n          zone: null,\n          typeDescription: null\n        },\n        feesAndCharges:[{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc:null ,\n          costCenterNo:null,\n          zone: null,\n          typeDescription: null\n        }]\n      }],\n      incomeTypes:[{\n        incomeTypeId: null,\n        incomeTypeDescription:null,\n        incomeTypePrefix: null,\n        fundDescription: null,\n        status: null}],\n      billItem:[],\n      feesAndChargeItems:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null,\n        customer: null,\n        quantity: 1\n      }],\n      feesAndCharges:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      amount:0,\n      feeID:null,\n      unitFeeAmount:0,\n      totalAmount:0,\n\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      billDetails:{\n        id:'',\n        billNo:'',\n        incomeTypeID:'',\n        incomeTypeDescription:'',\n        costCenterNo:'',\n        accountNo:'',\n        feeID:'',\n        detailAmount:'',\n        receiptAmount:'',\n        billBalance:'',\n        wardID:'',\n        subCountyID:'',\n        status:'',\n        dateCreated:''\n      },\n      billInfo:[],\n      paymentData: {\n        bankReceiptNo: null,\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode:null,\n        sessionNames:null,\n        sessionIdNo:null,\n        sessionPhoneNumber:null\n      },\n      timer: null,\n      randomNumber: null,\n      receiptDetails: {\n        id: '',\n        receiptNo: null,\n        billNo: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        costCenterNo: '',\n        accountNo: '',\n        incomeTypeDescription: '',\n        feeID: '',\n        wardID: '',\n        subCountyID:'',\n        currency: '',\n        source: '',\n        transactionCode: '',\n        paidBy: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        isActive: '',\n        status: ''\n      },\n      receiptInfos: [\n        {\n          id: '',\n          receiptNo: '',\n          billNo: '',\n          billTotal: '',\n          receiptAmount: '',\n          billBalance: '',\n          customer: '',\n          clientPhoneNo: '',\n          description: '',\n          receiptDate: '',\n          printCount: '',\n          wardID: '',\n          subCountyID: '',\n          dateCreated: '',\n          dateModified: '',\n          createdBy: '',\n          modifiedBy: '',\n          printedBy: '',\n          updated: '',\n          isActive: '',\n          status: ''\n        }],\n      //Billing Module\n\n    }\n  },\n\n  methods:{\n\n    getRight(type){\n      return getRight(type)\n    },\n\n    gotTo(route){\n      sessionStorage.setItem(\"selectedSub\",route)\n      sessionStorage.setItem(\"currentPage\",route)\n      this.$router.push(route);\n\n    },\n\n    addKin(){\n      this.patientDetails.kins.push({})\n    },\n    removeKin(position){\n      this.patientDetails.kins.splice(position,1)\n    },\n\n\n    addPatient(){\n      this.message = null\n\n      this.patientDetails.patient.subCountyID = this.subCounty.subCountyID\n      this.patientDetails.patient.subCountyName = this.subCounty.subCountyName\n\n      this.patientDetails.patient.wardName = this.ward.wardName\n      this.patientDetails.patient.wardID = this.ward.wardID\n\n      this.loading = true\n      const data = new FormData();\n      data.append(\"function\", \"addPatient\");\n      data.append(\"patientDetails\", JSON.stringify(this.patientDetails));\n      execute(data,patient)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n              this.visitEntries.idNo = this.patientDetails.patient.idNo\n              this.visitEntries.names = this.patientDetails.patient.firstName +'' +  this.patientDetails.patient.lastName\n              this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber\n              this.visitEntries.idNo = this.patientDetails.patient.idNo\n\n              this.generateVisitEntries()\n\n            }else{\n\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    generateVisitEntries(){\n      this.message = null\n      this.loading = true\n      this.visitEntries.idNo = this.patientDetails.patient.idNo\n      this.visitEntries.names = this.patientDetails.patient.names\n      this.visitEntries.phoneNumber = this.patientDetails.patient.phoneNumber\n      const data = new FormData();\n      data.append(\"function\", \"generateVisitEntries\");\n      data.append(\"visitEntries\", JSON.stringify(this.visitEntries));\n      data.append(\"guarantor\", JSON.stringify(this.patientDetails.guarantor));\n      data.append(\"nhif\", JSON.stringify(this.patientDetails.nhif));\n      data.append(\"insurance\", JSON.stringify(this.patientDetails.insurance));\n      data.append(\"employer\", JSON.stringify(this.patientDetails.employer));\n      execute(data,patient)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n\n              this.visitEntries = res.data.data.visitEntries;\n\n              this.addToBill()\n\n            }else{\n\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    getPatient(){\n      this.message = null\n      this.loading = true\n      this.patients.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getPatient\");\n      data.append(\"keyword\", this.keyword);\n      execute(data,patient)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n              this.patients = res.data.data.patients\n\n              $('.modal').modal('hide');\n\n              $('#searchResultList').modal('show');\n\n            }else{\n              this.message = res.data.message\n            }\n          })\n          .catch((e) => {\n            //alert(e.message);\n            this.message =e.message\n          });\n    },\n    getSubCounties(){\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.subCounties =res.data.data.subCounties\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getWards(){\n      this.wards.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.wards =res.data.data.wards\n\n              this.ward.wardName = this.patientDetails.patient.wardName\n              this.ward.wardID = this.patientDetails.patient.wardID\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getPatientDetails(keyword){\n      this.patientRecord = false\n      const data = new FormData();\n      data.append(\"function\", \"getPatientDetails\");\n      data.append(\"keyword\", keyword);\n      execute(data,patient)\n          .then((res) =>{\n            sessionStorage.setItem(\"patientIDNo\",\"\")\n\n            if (res.data.success) {\n              this.patientRecord = true\n              this.patientDetails.patient = res.data.data.patient\n              this.patientDetails.patient.languages = JSON.parse(this.patientDetails.patient.languages)\n              this.subCounty.subCountyID = this.patientDetails.patient.subCountyID\n              this.subCounty.subCountyName = this.patientDetails.patient.subCountyName\n\n              if (res.data.data.kins !== null) {\n                this.patientDetails.kins = res.data.data.kins\n              }\n              if (res.data.data.visitEntries !== null) {\n                this.visitEntries = res.data.data.visitEntries\n              }\n              if (res.data.data.guarantor !== null) {\n                this.patientDetails.guarantor = res.data.data.guarantor;\n              }\n              if (res.data.data.nhif !== null) {\n                this.patientDetails.nhif = res.data.data.nhif;\n              }\n\n              if (res.data.data.insurance !== null) {\n                this.patientDetails.insurance = res.data.data.insurance;\n              }\n\n              if (res.data.data.employer !== null) {\n                this.patientDetails.employer = res.data.data.employer;\n              }\n\n              this.getWards()\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    addInvoiceItem() {\n      // Add a new invoice item with its own feesAndCharges\n      this.invoiceItem.push({\n        incomeType: null,\n        feesAndCharge: null,\n        feeAmount: 0,\n        quantity: 1,\n        totalAmount: 0,\n        feesAndCharges: [] // Initialize an empty array for feesAndCharges specific to this row\n      });\n    },\n    removeInvoiceItem(position){\n      this.invoiceItem.splice(position,1)\n    },\n\n    selectedIncomeType(event, index) {\n      const selectedIncomeTypeId = event.target.value;\n      const selectedIncomeType = this.incomeTypes.find(income => income.incomeTypeId === selectedIncomeTypeId);\n\n      // Set the incomeType for the current invoiceItem\n      this.invoiceItem[index].incomeType = selectedIncomeType;\n\n      // Fetch and set feesAndCharges specific to this incomeType for this row\n      this.getFeesAndCharges(selectedIncomeType.incomeTypeId, index);\n    },\n    selectedFeeAndCharge(event, index) {\n      const selectedFeeId = event.target.value;\n      const selectedFee = this.invoiceItem[index].feesAndCharges.find(fee => fee.feeId === selectedFeeId);\n\n      // Set the feesAndCharge for the current invoiceItem\n      this.invoiceItem[index].feesAndCharge = selectedFee;\n\n      // Set the fee amount and calculate the total\n      this.invoiceItem[index].feeAmount = selectedFee.unitFeeAmount;\n      this.invoiceItem[index].totalAmount = selectedFee.unitFeeAmount * this.invoiceItem[index].quantity;\n    },\n    getIncomeTypes(){\n      this.feesAndCharges.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.incomeTypes =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndCharges(incomeTypeId, index) {\n      // Fetch fees and charges based on the selected incomeTypeId\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              // Assign the fetched feesAndCharges to the specific invoice item\n              this.invoiceItem[index].feesAndCharges = res.data.data.feesAndCharges;\n            } else {\n              this.message = res.data.message;\n            }\n          })\n          .catch((e) => {\n            this.message = e.message;\n          });\n    },\n    updateTotalAmount(index) {\n      const item = this.invoiceItem[index];\n      // Recalculate totalAmount based on the feeAmount and quantity\n      item.totalAmount = item.feeAmount * item.quantity;\n    },\n    addToBill(revenueStreamItem) {\n\n      this.billItem.splice(0)\n\n      for (const item of this.invoiceItem) {\n        const { feesAndCharge, quantity, customer, incomeTypeId } = item;\n\n        this.billItem.push({\n          fiscalYear: this.fiscalYear,\n          typeDescription: feesAndCharge.typeDescription,\n          feeDescription: feesAndCharge.feeDescription,\n          accountDesc: feesAndCharge.accountDesc,\n          quantity: quantity,\n          unitFeeAmount: feesAndCharge.unitFeeAmount,\n          accountNo: feesAndCharge.accountNo,\n          costCenterNo: feesAndCharge.costCenterNo,\n          incomeTypeId: incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId: feesAndCharge.feeId,\n          amount: feesAndCharge.unitFeeAmount * quantity,\n          customer: this.visitEntries.visitCode,\n          subCountyID: this.subCounty.subCountyID,\n          subCountyName: this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"sessionIdNo\"),\n          phoneNumber: sessionStorage.getItem(\"sessionPhoneNumber\"),\n          names: sessionStorage.getItem(\"sessionNames\"),\n          zone: sessionStorage.getItem(\"zone\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.patientDetails.patient.names,\n          patientID: this.patientDetails.patient.idNo,\n        });\n      }\n\n      this.totalAmount = this.billItem.reduce((total, item) => total + (Number(item.unitFeeAmount) * Number(item.quantity)), 0);\n    },\n    generateInvoice(action){\n\n      if(action === \"print\"){\n        if(!this.invoiceGenerated){\n          this.generateBill(action)\n        }else {\n          this.printBill()\n        }\n      }\n\n    },\n    generateBill(action){\n\n      this.invoiceGenerated = false\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data,biller)\n          .then((res) =>{\n            this.message =res.data.message\n            if (res.data.success) {\n              this.invoiceGenerated = true\n              this.billDetails = res.data.data.bill.billDetails\n              this.billInfo = res.data.data.bill.billInfo\n              this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n              this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n              this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n              this.paymentData.sessionPhoneNumber = sessionStorage.getItem(\"sessionPhoneNumber\")\n              this.paymentData.sessionNames = sessionStorage.getItem(\"sessionNames\")\n              this.paymentData.sessionIdNo = sessionStorage.getItem(\"sessionIdNo\")\n\n              if(action === \"print\"){\n                this.printBill()\n              }\n\n\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      })\n      const routeData = this.$router.resolve({name: 'bill'});\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        })\n        const routeData = this.$router.resolve({name: 'receipt'});\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod(){\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false\n    },\n    showTransactionSummary(paymentMode){\n\n      this.paymentData.paymentMode = paymentMode\n\n      if(paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n\n      }\n\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false\n    },\n    makePayment() {\n      if(this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      if(this.paymentData.paymentMode === \"BANK\") {\n        if (this.paymentData.bankReceiptNo == null) {\n          alert(\"Enter Bank Receipt No\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber\n\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n\n      execute(data, stream)\n          .then((res) => {\n            if (res.data.success) {\n              this.paymentMethod = false;\n              this.paymentPanel = false;\n              //start checking payment\n              this.timer = setInterval(() => {\n\n                this.checkPayment();\n              }, 3000);\n            } else {\n              this.rate = null;\n              alert(res.data.message);\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1\n      if(this.randomNumber === 1){\n        this.message = \"Waiting for payment.\";\n      }\n      if(this.randomNumber === 2){\n        this.message = \"Waiting for payment..\";\n      }\n      if(this.randomNumber ===3){\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.message = null;\n              clearInterval(this.timer);\n              this.receipt = true;\n              this.paymentData.success = false;\n              this.transaction = res.data.data.transaction;\n              this.receiptDetails = res.data.data.receipt.receiptDetails\n              //Close the modal\n              this.transactionSummary = false\n              this.transactionCompleted = true\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    }\n  },\n  mounted() {\n    this.getSubCounties();\n    this.getIncomeTypes();\n\n    const idNo = sessionStorage.getItem(\"patientIDNo\");\n    if (idNo) {\n      this.getPatientDetails(idNo);\n    }\n  }\n\n};\n\n</script>\n\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}