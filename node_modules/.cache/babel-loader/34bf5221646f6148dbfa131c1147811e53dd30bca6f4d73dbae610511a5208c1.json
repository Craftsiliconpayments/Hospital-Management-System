{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation\";\nimport router from \"@/router\";\nimport { biller, execute, getRight } from \"@/api\";\nexport default {\n  name: \"AddUser\",\n  components: {\n    NavigationBar\n  },\n  data() {\n    return {\n      isChecked: false,\n      incomeTypePrefix: '',\n      totalSources: 0,\n      loading: false,\n      permission: \"\",\n      incomeTypes: [],\n      departmentID: '',\n      incomeTypeDescription: '',\n      fundDescription: '',\n      message: null,\n      id: '',\n      update: \"false\",\n      departments: [],\n      department: '',\n      stream: {\n        id: null,\n        incomeTypePrefix: null,\n        stream: null\n      },\n      streams: [{\n        stream: {\n          id: \"1\",\n          incomeTypePrefix: \"PKN\",\n          stream: \"PARKING\"\n        },\n        incomeType: [{\n          incomeTypeId: \"99\",\n          incomeTypeDescription: \"Daily parking\",\n          incomeTypePrefix: \"PKN\",\n          fundDescription: null,\n          status: \"1\",\n          departmentID: \"3\",\n          zoneCategory: \"Parking\",\n          zoneCategoryID: \"9\",\n          onUssd: \"1\",\n          dailyTargets: null,\n          monthlyTargets: null,\n          financialYearTargets: null,\n          brimsCode: \"\"\n        }]\n      }],\n      incomeType: {\n        incomeTypeId: \"99\",\n        incomeTypeDescription: \"Daily parking\",\n        incomeTypePrefix: \"PKN\",\n        fundDescription: null,\n        status: \"1\",\n        departmentID: \"3\",\n        zoneCategory: \"Parking\",\n        zoneCategoryID: \"9\",\n        onUssd: \"1\",\n        dailyTargets: null,\n        monthlyTargets: null,\n        financialYearTargets: null,\n        brimsCode: \"\"\n      }\n    };\n  },\n  computed: {},\n  watch: {},\n  mounted() {\n    this.permission = sessionStorage.getItem(\"permission\");\n    this.getMainStreamsDetails();\n    this.menuAccess();\n  },\n  methods: {\n    menuAccess() {\n      const data = new FormData();\n      data.append(\"function\", \"menuAccess\");\n      data.append(\"menu\", \"Revenue streams\");\n      data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n      data.append(\"sessionIdNo\", sessionStorage.getItem(\"sessionIdNo\"));\n      execute(data, biller).then(() => {\n        // alert(res.data.message);\n      }).catch(() => {\n        // alert(e.message);\n      });\n    },\n    getRight(type) {\n      return getRight(type);\n    },\n    gotTo(route) {\n      router.push(route);\n    },\n    selectedMainStream(item) {\n      this.stream = item.stream;\n    },\n    clear() {\n      this.stream.id = null;\n      this.stream.incomeTypePrefix = null;\n      this.stream.stream = null;\n      this.getMainStreamsDetails();\n    },\n    toAlpha(num) {\n      let alpha = \"\";\n      while (num > 0) {\n        let remainder = (num - 1) % 26;\n        alpha = String.fromCharCode(97 + remainder) + alpha; // Use 97 for lowercase 'a' and 65 for uppercase\n        num = Math.floor((num - 1) / 26);\n      }\n      return alpha;\n    },\n    deleteItem(item) {\n      this.stream = item.stream;\n      // Display a confirmation dialog\n      const isConfirmed = window.confirm(`Are you sure you want to delete ${this.stream.stream}?`);\n\n      // Check the user's choice\n      if (isConfirmed) {\n        this.deleteMainStreams();\n      } else {\n        // User clicked \"No,\" do nothing or provide feedback\n        console.log(`Deletion of ${this.stream.stream} canceled.`);\n      }\n    },\n    selectedIncomeType(incomeType) {\n      this.incomeType = incomeType;\n    },\n    handleCheckboxChange(item) {\n      // Call the function when the checkbox state changes\n      this.onCheckboxChange(item.stream.stream, item.stream.printable);\n    },\n    onCheckboxChange(streamName, isChecked) {\n      const data = new FormData();\n      data.append(\"function\", \"updateStreamPrintable\");\n      data.append(\"printable\", isChecked.toString());\n      data.append(\"stream\", streamName);\n      execute(data, biller).then(res => {\n        if (res.data.success) {} else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    updateRevenueStream() {\n      this.message = null;\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"updateRevenueStream\");\n      data.append(\"departmentID\", this.incomeType.departmentID);\n      data.append(\"incomeTypeId\", this.incomeType.incomeTypeId);\n      data.append(\"incomeTypeDescription\", this.incomeType.incomeTypeDescription);\n      data.append(\"incomeTypePrefix\", this.incomeTypePrefix);\n      data.append(\"ussd\", this.incomeType.onUssd);\n      data.append(\"brimsCode\", this.incomeType.brimsCode);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = res.data.message;\n          this.clear();\n          //this.departments = res.data.data.departments\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    addMainStreams() {\n      if (this.streamName === '') {\n        this.message = 'Fill in stream Name ';\n        return;\n      }\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"addMainStreams\");\n      data.append(\"stream\", JSON.stringify(this.stream));\n      execute(data, biller).then(res => {\n        this.clear();\n        if (res.data.success) {\n          this.update = false;\n          this.streamName = \"\";\n          this.incomeTypePrefix = \"\";\n          this.clear();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    getMainStreamsDetails() {\n      this.loading = true;\n      const data = new FormData();\n      data.append(\"function\", \"getMainStreamsDetails\");\n      execute(data, biller).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.streams.splice(0);\n          this.streams = res.data.data.streams;\n          this.totalSources = this.streams.reduce((total, stream) => total + stream.incomeType.length, 0);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    },\n    deleteMainStreams() {\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"deleteMainStreams\");\n      data.append(\"stream\", JSON.stringify(this.stream));\n      execute(data, biller).then(res => {\n        this.clear();\n        if (res.data.success) {\n          this.getMainStreamsDetails();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        //alert(e.message);\n        this.message = e.message;\n      });\n    }\n  }\n};","map":{"version":3,"names":["NavigationBar","router","biller","execute","getRight","name","components","data","isChecked","incomeTypePrefix","totalSources","loading","permission","incomeTypes","departmentID","incomeTypeDescription","fundDescription","message","id","update","departments","department","stream","streams","incomeType","incomeTypeId","status","zoneCategory","zoneCategoryID","onUssd","dailyTargets","monthlyTargets","financialYearTargets","brimsCode","computed","watch","mounted","sessionStorage","getItem","getMainStreamsDetails","menuAccess","methods","FormData","append","then","catch","type","gotTo","route","push","selectedMainStream","item","clear","toAlpha","num","alpha","remainder","String","fromCharCode","Math","floor","deleteItem","isConfirmed","window","confirm","deleteMainStreams","console","log","selectedIncomeType","handleCheckboxChange","onCheckboxChange","printable","streamName","toString","res","success","e","updateRevenueStream","addMainStreams","JSON","stringify","splice","reduce","total","length"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/HMIS/hospital-management/src/components/systemsettings/RevenueStream.vue"],"sourcesContent":["<template>\n\n<head>\n\n    <meta charset=\"utf-8\" />\n    <title>Revenue Streams</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Keep your finances and membership up to date\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna Ndungu\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n    <!-- droping file -->\n    <link href=\"assets/libs/dropzone/min/dropzone.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <link href=\"assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/spectrum-colorpicker2/spectrum.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/bootstrap-timepicker/css/bootstrap-timepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link rel=\"stylesheet\" href=\"assets/libs/%40chenfengyuan/datepicker/datepicker.min.css\">\n\n    <!-- DataTables -->\n    <link href=\"assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- App Css-->\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n\n</head>\n\n<body @contextmenu.prevent data-sidebar=\"dark\">\n\n\n    <!-- Begin page -->\n    <div id=\"layout-wrapper\">\n\n        <NavigationBar/>\n\n        <!-- ============================================================== -->\n        <!-- Start right Content here -->\n        <!-- ============================================================== -->\n         <div id=\"content\" class=\"content-minimize\">\n\n            <div class=\"page-content\">\n                <div class=\"container-fluid\">\n\n                    <!-- start page title -->\n                    <div class=\"row\">\n                        <div class=\"col-12\">\n                            <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                                <h4 class=\"mb-sm-0 font-size-18\">Revenue Streams</h4>\n\n                                <div class=\"page-title-right\">\n                                    <ol class=\"breadcrumb m-0\">\n                                        <li class=\"breadcrumb-item\"><a href=\"javascript: void(0);\">Dashboard</a></li>\n                                        <li class=\"breadcrumb-item active\">Set Ups </li>\n                                        <li class=\"breadcrumb-item active\">Revenue Streams</li>\n                                    </ol>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                    <!-- end page title -->\n                    <div class=\"row\">\n                        <div class=\"col-12\">\n                            <div class=\"card\">\n\n                                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom\">\n                                    <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n                                        <h4 class=\"mb-0\">Revenue Streams</h4>\n                                        <div v-if=\"getRight('CREATE REVENUE STREAM')\" class=\"d-flex\">\n                                            <a href=\"#\" type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector\" data-bs-toggle=\"modal\" data-bs-target=\".add-modal\">\n                                                <i class=\"mdi mdi-account-multiple-plus-outline  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add Stream</span>\n                                            </a>\n                                        </div>\n\n\n                                    </div>\n                                </div>\n\n                               <p style=\"margin-left: 20px; margin-top: 20px\">The Check Box <input type=\"checkbox\" checked disabled/> allows the invoice to be printed on the app\n                               </p>\n\n                                <div class=\"card-body\">\n                                    <div class=\"table-responsive\">\n                                        <table class=\"table align-middle  table-nowrap table-hover dt-responsive contacts-table\" id=\"\">\n                                            <thead class=\"table-dark\">\n                                                <th colspan=\"4\">\n                                                    Revenue Streams\n                                                </th>\n                                            </thead>\n                                            <tfoot class=\"table-dark\">\n                                                <tr>\n\n                                                    <th colspan=\"2\">{{streams.length}} Revenue Streams</th>\n                                                    <th colspan=\"2\">{{totalSources}} Sources</th>\n                                                </tr>\n                                            </tfoot>\n\n                                            <tbody style=\"cursor: pointer;\" v-for=\"(item, index) in streams\" :value=\"item\" :key=\"index\">\n                                                <tr class=\"table-light\">\n                                                    <th style=\"width: 50px;\">{{index+1}}.</th>\n                                                  <th colspan=\"2\">\n                                                    {{ item.stream.stream }}\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        v-model=\"item.stream.printable\"\n                                                        @change=\"handleCheckboxChange(item)\">\n\n                                                  </th>\n\n                                                    <td >\n                                                        <button v-if=\"getRight('EDIT REVENUE STREAM')\" style=\"margin-right: 5px\" @click=\"selectedMainStream(item)\" class=\"btn btn-sm btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\".add-modal\">\n                                                            Edit\n                                                        </button>\n\n                                                        <button v-if=\"getRight('DELETE REVENUE STREAM')\" @click=\"deleteItem(item)\" class=\"btn btn-sm btn-danger\">\n                                                            Delete\n                                                        </button>\n                                                    </td>\n                                                </tr>\n\n                                                <tr  v-for=\"(item2, index2) in item.incomeType\" :value=\"item\" :key=\"index2\" class=\" \" >\n                                                    <th style=\"width: 50px;\"> </th>\n\n                                                    <th colspan=\"2\">({{toAlpha(index2+1)}}) {{item2.incomeTypeDescription}}</th>\n                                                    <th v-if=\"getRight('EDIT REVENUE STREAM')\" class=\"text-right\"> <button style=\"margin-right: 5px\" @click=\"selectedIncomeType(item2)\" class=\"btn btn-sm btn-success\" data-bs-toggle=\"modal\" data-bs-target=\".edit-rev-source\">\n                                                        Edit\n                                                    </button></th>\n\n                                                </tr>\n\n                                            </tbody>\n                                        </table>\n\n\n                                        <div v-if=\"loading\" class=\"card-body px-5 d-flex flex-column justify-items-center align-items-center text-center d-flex justify-content-center\">\n                                            <div class=\"p-5 py-0 pt-3\">\n                                                <div class=\"p-5\">\n                                                    <div class=\"spinner-border text-info m-1\" role=\"status\">\n                                                        <span class=\"sr-only text-uppercase\">Loading...</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <h4 class=\"text-uppercase\">Loading Data</h4>\n                                            <div class=\"col-sm-12 col-md-8 col-lg-5\">\n                                                <p>We are fetching the data for you. It will be ready soon. Please wait and have fun. Thank you for your interest.</p>\n\n                                            </div>\n                                        </div>\n\n                                        <div v-if=\"streams.length<1 & loading === false\" class=\"card-body d-sm-none d-md-block px-5 d-flex flex-column justify-items-center align-items-center text-center\">\n                                            <div class=\"p-5 py-0 pt-3\">\n                                                <img :src=\"'./assets/images/no-results.png'\" class=\"img mb-4\"  alt=\"No search results\"/>\n                                            </div>\n                                            <h4>No Results To Show</h4>\n                                            <p>Sorry, we could not find any results that match your search or filter criteria. Please try using different keywords or filters.</p>\n                                        </div>\n\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <!-- end col -->\n                    </div>\n\n\n\n\n\n                </div>\n                <!-- container-fluid -->\n            </div>\n            <!-- End Page-content -->\n\n            <!-- registration and editing modal -->\n            <div class=\"modal fade add-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog modal-md modal-dialog-centered\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Register Revenue Stream</h5>\n                            <button @click=\"clear()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <div class=\"row\">\n                                <div class=\"col-12\">\n                                    <label for=\"\">Revenue Stream Name</label>\n                                    <input v-model=\"stream.stream\" type=\"text\" class=\"form-control\" placeholder=\"Revenue Stream Name\">\n                                </div>\n\n                                <div class=\"col-12\">\n                                    <label for=\"\">Income Type Prefix</label>\n                                    <input v-model=\"stream.incomeTypePrefix\" type=\"text\" class=\"form-control\" placeholder=\"Income Type Prefix\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                           <button  data-bs-dismiss=\"modal\" @click=\"addMainStreams()\" class=\"btn btn-primary w-100\" title=\"Click to save\">DONE</button>\n                        </div>\n                    </div>\n                    <!-- /.modal-content -->\n                </div>\n                <!-- /.modal-dialog -->\n            </div>\n            <!-- end of edditing modal -->\n\n            <!-- Edit reveneu stream -->\n            <div class=\"modal fade edit-rev-source\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog modal-md modal-dialog-centered\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Edit Revenue Source</h5>\n                            <button @click=\"clear()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <div class=\"row\">\n\n                                <div class=\"form-group\" style=\"margin-top: 20px\">\n                                    <label>Revenue Source<strong class=\"text-danger\">*</strong></label>\n                                    <select v-model=\"incomeTypePrefix\" class=\"form-control bg-white\" title=\"Select Revenue Stream\" data-live-search=\"true\">\n                                        <option value=\"\">Select Revenue Type</option>\n                                        <option v-for=\"(item, index) in streams\" :key=\"`${index}`\" :value=\"JSON.stringify(item.stream)\">{{item.stream.stream}}</option>\n                                    </select>\n\n\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button  data-bs-dismiss=\"modal\" @click=\"updateRevenueStream()\" class=\"btn btn-primary w-100\" title=\"Click to save\">SAVE</button>\n                        </div>\n                    </div>\n                    <!-- /.modal-content -->\n                </div>\n                <!-- /.modal-dialog -->\n            </div>\n            <!-- end of reveneu modal -->\n\n\n            <footer class=\"footer \">\n                <div class=\"container-fluid \">\n                    <div class=\"row \">\n                        <div class=\"col-sm-6 \">\n    </div>\n    <div class=\"col-sm-6 \">\n        <div class=\"text-sm-end d-sm-block \">\n            Best Birdy Billing system.\n        </div>\n    </div>\n    </div>\n    </div>\n    </footer>\n    </div>\n    <!-- end main content-->\n\n    </div>\n    <!-- END layout-wrapper -->\n\n    <!-- Right bar overlay-->\n    <div class=\"rightbar-overlay \"></div>\n\n    </body>\n\n</template>\n\n<script>\n    /* eslint-disable */\n    import NavigationBar from \"@/components/Navigation\";\n    import router from \"@/router\";\n    import {biller, execute, getRight} from \"@/api\";\n    export default {\n        name: \"AddUser\",\n        components: {NavigationBar},\n        data() {\n            return{\n                 isChecked: false,\n                incomeTypePrefix:'',\n                totalSources:0,\n                loading: false,\n                permission:\"\",\n                incomeTypes:[],\n                departmentID:'',\n                incomeTypeDescription:'',\n                fundDescription:'',\n                message: null,\n                id:'',\n                update:\"false\",\n                departments:[],\n                department:'',\n                stream: {\n                    id: null,\n                    incomeTypePrefix: null,\n                    stream: null\n                },\n                streams: [{\n                        stream: {\n                            id: \"1\",\n                            incomeTypePrefix: \"PKN\",\n                            stream: \"PARKING\"\n                        },\n                        incomeType: [\n                            {\n                                incomeTypeId: \"99\",\n                                incomeTypeDescription: \"Daily parking\",\n                                incomeTypePrefix: \"PKN\",\n                                fundDescription: null,\n                                status: \"1\",\n                                departmentID: \"3\",\n                                zoneCategory: \"Parking\",\n                                zoneCategoryID: \"9\",\n                                onUssd: \"1\",\n                                dailyTargets: null,\n                                monthlyTargets: null,\n                                financialYearTargets: null,\n                                brimsCode: \"\"\n                            }]}],\n\n                incomeType:\n                    {\n                        incomeTypeId: \"99\",\n                        incomeTypeDescription: \"Daily parking\",\n                        incomeTypePrefix: \"PKN\",\n                        fundDescription: null,\n                        status: \"1\",\n                        departmentID: \"3\",\n                        zoneCategory: \"Parking\",\n                        zoneCategoryID: \"9\",\n                        onUssd: \"1\",\n                        dailyTargets: null,\n                        monthlyTargets: null,\n                        financialYearTargets: null,\n                        brimsCode: \"\"\n                    }\n            }\n        },\n        computed: {\n\n\n        },\n        watch: {\n\n        },\n\n        mounted() {\n            this.permission = sessionStorage.getItem(\"permission\")\n            this.getMainStreamsDetails()\n          this.menuAccess()\n        },\n        methods:{\n          menuAccess(){\n\n            const data = new FormData();\n            data.append(\"function\", \"menuAccess\");\n            data.append(\"menu\", \"Revenue streams\");\n            data.append(\"sessionNames\", sessionStorage.getItem(\"sessionNames\"));\n            data.append(\"sessionIdNo\",  sessionStorage.getItem(\"sessionIdNo\"));\n            execute(data,biller)\n                .then(() => {\n                  // alert(res.data.message);\n                })\n                .catch(() => {\n                  // alert(e.message);\n                });\n\n          },\n            getRight(type){\n                return getRight(type)\n            },\n            gotTo(route){\n                router.push(route)\n            },\n            selectedMainStream(item){\n                this.stream = item.stream\n\n            },\n\n            clear(){\n                this.stream.id =null\n                this.stream.incomeTypePrefix =null\n                this.stream.stream =null\n                this.getMainStreamsDetails()\n            },\n            toAlpha(num) {\n                let alpha = \"\";\n                while (num > 0) {\n                    let remainder = (num - 1) % 26;\n                    alpha = String.fromCharCode(97 + remainder) + alpha; // Use 97 for lowercase 'a' and 65 for uppercase\n                    num = Math.floor((num - 1) / 26);\n                }\n                return alpha;\n            },\n            deleteItem(item) {\n                this.stream = item.stream\n                // Display a confirmation dialog\n                const isConfirmed = window.confirm(`Are you sure you want to delete ${this.stream.stream}?`);\n\n                // Check the user's choice\n                if (isConfirmed) {\n                    this.deleteMainStreams()\n                } else {\n                    // User clicked \"No,\" do nothing or provide feedback\n                    console.log(`Deletion of ${this.stream.stream} canceled.`);\n                }\n            },\n\n            selectedIncomeType(incomeType){\n                this.incomeType =  incomeType;\n            },\n          handleCheckboxChange(item) {\n            // Call the function when the checkbox state changes\n            this.onCheckboxChange(item.stream.stream, item.stream.printable);\n          },\n          onCheckboxChange(streamName, isChecked) {\n\n            const data = new FormData();\n            data.append(\"function\", \"updateStreamPrintable\");\n            data.append(\"printable\", isChecked.toString());\n            data.append(\"stream\", streamName);\n            execute(data,biller)\n                .then((res) =>{\n                  if (res.data.success) {\n\n                  }else{\n                    this.message =res.data.message\n                  }\n                })\n                .catch((e) => {\n                  //alert(e.message);\n                  this.message =e.message\n                });\n\n          },\n\n            updateRevenueStream(){\n                this.message = null\n                this.message = null\n                const data = new FormData();\n                data.append(\"function\", \"updateRevenueStream\");\n                data.append(\"departmentID\", this.incomeType.departmentID);\n                data.append(\"incomeTypeId\", this.incomeType.incomeTypeId);\n                data.append(\"incomeTypeDescription\", this.incomeType.incomeTypeDescription);\n                data.append(\"incomeTypePrefix\", this.incomeTypePrefix);\n                data.append(\"ussd\", this.incomeType.onUssd);\n                data.append(\"brimsCode\", this.incomeType.brimsCode);\n                execute(data,biller)\n                    .then((res) =>{\n                        if (res.data.success) {\n                            this.message =res.data.message\n                            this.clear()\n                            //this.departments = res.data.data.departments\n                        }else{\n                            this.message =res.data.message\n                        }\n                    })\n                    .catch((e) => {\n                        //alert(e.message);\n                        this.message =e.message\n                    });\n\n            },\n            addMainStreams(){\n                if(this.streamName===''){\n                   this.message ='Fill in stream Name '\n                    return\n                }\n                this.message = null\n                const data = new FormData();\n                data.append(\"function\", \"addMainStreams\");\n                data.append(\"stream\", JSON.stringify(this.stream));\n                execute(data,biller)\n                    .then((res) =>{\n                        this.clear()\n                        if (res.data.success) {\n                            this.update = false\n                            this.streamName = \"\"\n                            this.incomeTypePrefix = \"\"\n                            this.clear()\n                        }else{\n                            this.message =res.data.message\n                        }\n                    })\n                    .catch((e) => {\n                        //alert(e.message);\n                        this.message =e.message\n                    });\n            },\n            getMainStreamsDetails(){\n                this.loading = true\n                const data = new FormData();\n                data.append(\"function\", \"getMainStreamsDetails\");\n                execute(data,biller)\n                    .then((res) =>{\n                        this.loading = false\n                        if (res.data.success) {\n                            this.streams.splice(0)\n                            this.streams = res.data.data.streams\n                            this.totalSources =  this.streams.reduce((total, stream) => total + stream.incomeType.length, 0);\n                        }else{\n                            this.message =res.data.message\n                        }\n                    })\n                    .catch((e) => {\n                        //alert(e.message);\n                        this.message =e.message\n                    });\n            },\n\n            deleteMainStreams(){\n                this.message = null\n                const data = new FormData();\n                data.append(\"function\", \"deleteMainStreams\");\n                data.append(\"stream\", JSON.stringify(this.stream));\n                execute(data,biller)\n                    .then((res) =>{\n                        this.clear()\n                        if (res.data.success) {\n                            this.getMainStreamsDetails()\n                        }else{\n                            this.message =res.data.message\n                        }\n                    })\n                    .catch((e) => {\n                        //alert(e.message);\n                        this.message =e.message\n                    });\n            },\n\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}