{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport { execute, executeDownload, getRight, rent } from \"@/api\";\nimport ToolBarHousing from \"@/components/housing/ToolBarHousing.vue\";\nimport NavigationBar from \"@/components/Navigation.vue\";\nexport default {\n  components: {\n    ToolBarHousing,\n    NavigationBar\n  },\n  name: \"HousingRegister\",\n  data() {\n    return {\n      category: '',\n      loading: true,\n      // set the initial current page as 1\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      summary: {\n        count: 0,\n        total: 0\n      },\n      download: 'Download Report',\n      search: '',\n      totalRecords: 0,\n      totalReceiptAmount: 0,\n      totalUnit: 0,\n      totalOccupied: 0,\n      totalVaccant: 0,\n      totalArreas: 0,\n      properties: [{\n        propertyID: null,\n        property: null,\n        noOfOccupiedUnits: null,\n        noOfEmptyUnits: null,\n        noOfUnits: null,\n        totalArrears: null\n      }],\n      unitCategories: [{\n        id: null,\n        category: null,\n        count: null\n      }]\n    };\n  },\n  mounted() {\n    this.getProperties();\n    this.getUnitCategory();\n  },\n  watch: {\n    //pagination code\n    // define a watcher for the pageSize property\n    pageSize(newPageSize) {\n      this.getProperties();\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.summary.count;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n    },\n    search: function () {\n      this.getProperties();\n    }\n  },\n  methods: {\n    //pagination code\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n      // return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getProperties();\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getProperties();\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getProperties();\n      }\n    },\n    getRight(type) {\n      return getRight(type);\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num);\n    },\n    getProperties() {\n      this.loading = true;\n      this.properties.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getProperties\");\n      data.append(\"search\", this.search);\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      execute(data, rent).then(res => {\n        this.loading = false;\n        if (res.data.success) {\n          this.properties = res.data.data.properties;\n          this.totalReceiptAmount = res.data.data.summary.totalReceiptAmount;\n          this.totalRecords = res.data.data.summary.totalRecords;\n          this.totalUnit = this.properties.reduce((acc, cur) => {\n            let value = Number(cur.noOfUnits);\n            return acc + value;\n          }, 0);\n          this.totalOccupied = this.properties.reduce((acc, cur) => {\n            let value = Number(cur.noOfOccupiedUnits);\n            return acc + value;\n          }, 0);\n          this.totalVaccant = this.properties.reduce((acc, cur) => {\n            let value = Number(cur.noOfEmptyUnits);\n            return acc + value;\n          }, 0);\n          this.totalArreas = this.properties.reduce((acc, cur) => {\n            let value = Number(cur.totalArrears);\n            return acc + value;\n          }, 0);\n          this.summary.count = res.data.data.summary.totalRecords;\n          this.summary.total = res.data.data.summary.totalReceiptAmount;\n          this.totalPages = Math.ceil(this.summary.count / this.pageSize);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    gotTo(route, propertyID) {\n      sessionStorage.setItem(\"propertyID\", propertyID);\n      this.$router.push(route);\n    },\n    downloadProperties() {\n      this.download = \"Please wait..\";\n      const data = new FormData();\n      data.append(\"function\", \"downloadProperties\");\n      executeDownload(data, rent).then(response => {\n        this.download = \"Download Report\";\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(response.data);\n        link.download = \"Rent.csv\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      });\n    },\n    getUnitCategory() {\n      this.unitCategories.splice(0);\n      const data = new FormData();\n      data.append(\"function\", \"getUnitCategory\");\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.unitCategories = res.data.data.unitCategories;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addUnitCategory() {\n      // Ask for confirmation\n      if (!confirm(\"Are you sure you want to add this category?\")) {\n        return; // Do nothing if the user cancels\n      }\n\n      // If confirmation is given, proceed with adding the category\n      const data = new FormData();\n      data.append(\"function\", \"addUnitCategory\");\n      data.append(\"category\", this.category);\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.getUnitCategory();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    deleteUnitCategory(category) {\n      // Ask for confirmation\n      if (!confirm(\"Are you sure you want to remove this category?\")) {\n        return; // Do nothing if the user cancels\n      }\n\n      // If confirmation is given, proceed with adding the category\n      const data = new FormData();\n      data.append(\"function\", \"deleteUnitCategory\");\n      data.append(\"category\", category);\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.getUnitCategory();\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    }\n  }\n};","map":{"version":3,"names":["execute","executeDownload","getRight","rent","ToolBarHousing","NavigationBar","components","name","data","category","loading","currentPage","totalPages","pageSize","summary","count","total","download","search","totalRecords","totalReceiptAmount","totalUnit","totalOccupied","totalVaccant","totalArreas","properties","propertyID","property","noOfOccupiedUnits","noOfEmptyUnits","noOfUnits","totalArrears","unitCategories","id","mounted","getProperties","getUnitCategory","watch","newPageSize","totalItems","newTotalPages","Math","ceil","methods","pagination","maxVisibleButtons","pages","start","floor","end","i","push","unshift","prevPage","nextPage","goToPage","page","type","numberFormat","num","britishNumberFormatter","Intl","NumberFormat","format","splice","FormData","append","then","res","success","reduce","acc","cur","value","Number","message","catch","e","gotTo","route","sessionStorage","setItem","$router","downloadProperties","response","link","document","createElement","href","URL","createObjectURL","body","appendChild","click","removeChild","addUnitCategory","confirm","deleteUnitCategory"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/biller/meru-biller/src/components/housing/HousingRegister.vue"],"sourcesContent":["<template>\n\n  <head>\n\n    <meta charset=\"utf-8\" />\n    <title>Hotline Transporters Sacco | All invoices</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta content=\"Rental management system by Nouveta LTD\" name=\"description\" />\n    <meta content=\"Kelvin Njuguna\" name=\"author\" />\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n    <!-- droping file -->\n    <link href=\"assets/libs/dropzone/min/dropzone.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- DataTables -->\n    <link href=\"assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- App Css-->\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n  </head>\n\n  <body @contextmenu.prevent data-sidebar=\"dark\">\n\n  <!-- Begin page -->\n  <div id=\"layout-wrapper\">\n\n\n    <NavigationBar/>\n\n\n\n\n    <!-- ============================================================== -->\n    <!-- Start right Content here -->\n    <!-- ============================================================== -->\n    <div  class=\"content-minimize\">\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18\">Housing and Stall rentals</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"index.html\">Dashboards</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"housing-quick-stat.html\">Housing</a></li>\n                    <li class=\"breadcrumb-item\"><a href=\"#\">Rentals Register</a></li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n\n          <!-- tool bar -->\n          <ToolBarHousing/>\n          <!-- end page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"card\">\n                <div class=\"card-header bg-white  w-100 border-bottom d-flex justify-content-between align-items-center\">\n                  <h4 class=\"card-title text-uppercase\">\n                    Rents Register\n                  </h4>\n                  <div class=\"d-flex\">\n\n                    <a @click=\"gotTo('housing-new')\" href=\"javascript: void(0);\" type=\"button\" class=\"btn btn-success text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"bx bx-plus font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add Property</span>\n                    </a>\n\n                    <button data-bs-toggle=\"modal\" data-bs-target=\".add-block-modal\" type=\"button\" class=\"btn btn-secondary text-uppercase dropdown-toggle option-selector me-3\">\n                      <i class=\"bx bx-list-plus font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Add Unit Category</span>\n                    </button>\n\n\n\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"row\">\n                    <div class=\"col-xl-3 col-sm-6\">\n                      <div class=\"card shadow-none border\">\n                        <div class=\"card-body p-3\">\n                          <div class=\"\">\n\n                            <div class=\"avatar-xs me-3 mb-3\">\n                              <div class=\"avatar-title bg-transparent rounded\">\n                                <i class=\"mdi mdi-cash-remove font-size-24 text-danger\"></i>\n                              </div>\n                            </div>\n                            <div class=\"d-flex\">\n                              <div class=\"overflow-hidden me-auto\">\n                                <h5 class=\"font-size-14 text-truncate mb-1\"><a href=\"javascript: void(0);\" class=\"text-body\">Outstanding Arrears</a></h5>\n                                <p class=\"text-muted text-truncate mb-0\">{{numberFormat(totalArreas)}}</p>\n                              </div>\n                              <div class=\"align-self-end ms-2\">\n                                <p class=\"text-muted mb-0\">{{numberFormat(totalUnit)}} UNITS</p>\n                              </div>\n                            </div>\n\n                          </div>\n                        </div>\n\n                      </div>\n                    </div>\n\n                    <div class=\"col-xl-3 col-sm-6\">\n                      <div class=\"card shadow-none border\">\n                        <div class=\"card-body p-3\">\n                          <div class=\"\">\n\n                            <div class=\"avatar-xs me-3 mb-3\">\n                              <div class=\"avatar-title bg-transparent rounded\">\n                                <i class=\"mdi mdi-account-cash-outline font-size-24 text-success\"></i>\n                              </div>\n                            </div>\n                            <div class=\"d-flex\">\n                              <div class=\"overflow-hidden me-auto\">\n                                <h5 class=\"font-size-14 text-truncate mb-1\"><a href=\"javascript: void(0);\" class=\"text-body\">This Month's Collections</a></h5>\n                                <p class=\"text-muted text-truncate mb-0\">{{numberFormat(totalReceiptAmount)}}</p>\n                              </div>\n                              <div class=\"align-self-end ms-2\">\n                                <p class=\"text-muted mb-0\">{{numberFormat(totalRecords)}} UNITS</p>\n                              </div>\n                            </div>\n\n                          </div>\n                        </div>\n\n                      </div>\n                    </div>\n\n                    <div class=\"col-xl-3 col-sm-6\">\n                      <div class=\"card shadow-none border\">\n                        <div class=\"card-body p-3\">\n                          <div class=\"\">\n\n                            <div class=\"avatar-xs me-3 mb-3\">\n                              <div class=\"avatar-title bg-transparent rounded\">\n                                <i class=\"mdi mdi-home-group font-size-24 text-dark\"></i>\n                              </div>\n                            </div>\n                            <div class=\"d-flex\">\n                              <div class=\"overflow-hidden me-auto\">\n                                <h5 class=\"font-size-14 text-truncate mb-1\"><a href=\"javascript: void(0);\" class=\"text-body\">Number Of Units</a></h5>\n                                <p class=\"text-muted text-truncate mb-0\">{{numberFormat(totalUnit)}} Units</p>\n                              </div>\n                              <div class=\"align-self-end ms-2 d-none\">\n                                <p class=\"text-muted mb-0\">34 UNITS</p>\n                              </div>\n                            </div>\n\n                          </div>\n                        </div>\n\n                      </div>\n                    </div>\n\n                    <div class=\"col-xl-3 col-sm-6\">\n                      <div class=\"card shadow-none border\">\n                        <div class=\"card-body p-3\">\n                          <div class=\"\">\n\n                            <div class=\"avatar-xs me-3 mb-3\">\n                              <div class=\"avatar-title bg-transparent rounded\">\n                                <i class=\"mdi mdi-home-export-outline font-size-24 text-warning\"></i>\n                              </div>\n                            </div>\n                            <div class=\"d-flex\">\n                              <div class=\"overflow-hidden me-auto\">\n                                <h5 class=\"font-size-14 text-truncate mb-1\"><a href=\"javascript: void(0);\" class=\"text-body\">Vacant Units</a></h5>\n                                <p class=\"text-muted text-truncate mb-0\">{{numberFormat(totalVaccant)}} Units</p>\n                              </div>\n                              <div class=\"align-self-end ms-2 d-none\">\n                                <p class=\"text-muted mb-0\">34 UNITS</p>\n                              </div>\n                            </div>\n\n                          </div>\n                        </div>\n\n                      </div>\n                    </div>\n\n\n                  </div>\n                </div>\n                <div class=\"card-header bg-white pt-0 pr-0 p-0 d-flex justify-content-between align-items-center w-100 border-bottom\">\n\n                  <div class=\"btn-toolbar p-3 d-flex justify-content-between align-items-center w-100\" role=\"toolbar\">\n                    <div class=\"flex-grow-1\">\n                      <div class=\"search-box mb-0 me-3\">\n                        <div class=\"position-relative\">\n                          <input v-model=\"search\" type=\"text\" class=\"form-control bg-light border-light rounded\" placeholder=\"Search...\" fdprocessedid=\"husj3l\">\n                          <i class=\"bx bx-search-alt search-icon\"></i>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div class=\"d-flex\">\n<!--                      <button  data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector me-3 text-capitalize\">\n                        <i class=\"bx bxs-download  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Download Report</span>\n                      </button>   -->\n\n                      <button  @click=\"downloadProperties()\" type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector me-3 text-capitalize\">\n                        <i class=\"bx bxs-download  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">{{download}}</span>\n                      </button>\n\n                    </div>\n\n\n                  </div>\n                  <div class=\"btn-toolbar p-3 align-items-center d-none animated delete-tool-bar\" role=\"toolbar\">\n                    <button type=\"button\"  data-bs-toggle=\"modal\" data-bs-target=\".download-modal\" class=\"btn btn-primary waves-effect btn-label waves-light me-3\"><i class=\"mdi mdi-printer label-icon\"></i> Print Selected Invoices</button>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"table-responsive overflow-visible\">\n\n                    <table class=\"table align-middle table-hover  contacts-table table-striped \" id=\"\">\n                      <thead class=\"table-light\">\n                      <tr class=\"table-dark\">\n                        <th>#</th>\n                        <th scope=\"col\">Market/Estate</th>\n                        <th>No. Of Rentals</th>\n                        <th>Occupied</th>\n                        <th>Vacant</th>\n                        <th scope=\"col\" class=\"text-right\">Arrears</th>\n                        <th></th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      <tr :key=\"index\" :value=\"item\" v-for=\"(item, index) in properties\">\n                        <td class=\"text-capitalize text-nowrap\"><strong>{{index+1}}.</strong></td>\n                        <td class=\"text-capitalize text-nowrap\">\n                          <a @click=\"gotTo('housing-detail',item.propertyID)\" href=\"javascript: void(0);\">{{item.property}}</a>\n                        </td>\n                        <td class=\"text-capitalize text-nowrap\">{{numberFormat(item.noOfUnits)}}</td>\n                        <td class=\"text-capitalize text-nowrap\">{{numberFormat(item.noOfOccupiedUnits)}}</td>\n                        <td class=\"text-capitalize text-nowrap\">{{numberFormat(item.noOfEmptyUnits)}}</td>\n                        <td class=\"text-capitalize text-nowrap text-right\">{{numberFormat(item.totalArrears)}}</td>\n                        <td>\n                          <div class=\"d-flex justify-content-end\">\n                            <a @click=\"gotTo('housing-detail',item.propertyID)\" type=\"button\" href=\"javascript: void(0);\" class=\"btn btn-primary btn-sm waves-effect waves-light text-nowrap me-3\">View Details</a>\n                            <div class=\"dropdown\">\n                              <div class=\"dropdown-menu dropdown-menu-end \">\n                                <a class=\"dropdown-item \" data-bs-toggle=\"modal\" data-bs-target=\".receipting-modal\" href=\"# \"><i class=\"font-size-15 mdi mdi-eye me-3 \"></i>View</a>\n                                <a class=\"dropdown-item \" href=\"# \"><i class=\"font-size-15 mdi mdi-printer me-3 \"></i>Print</a>\n                                <a class=\"dropdown-item \" href=\"# \"><i class=\"font-size-15 mdi mdi-email me-3 \"></i>Send Email Reminder</a>\n                                <a class=\"dropdown-item \" href=\"# \"><i class=\"font-size-15 mdi mdi-chat me-3 \"></i>Send SMS Reminder</a>\n\n                              </div>\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                      </tbody>\n                      <tfoot class=\"table-dark\">\n                      <tr>\n\n                        <th colspan=\"2\">\n                          {{numberFormat(properties.length)}}\n                        </th>\n                        <th>\n                          {{numberFormat(totalUnit)}}\n                        </th>\n                        <th>{{numberFormat(totalOccupied)}}</th>\n                        <th>\n                          {{numberFormat(totalVaccant)}}\n                        </th>\n\n                        <td class=\"text-nowrap text-right \" colspan=\"\">\n                          <span class=\"fw-semibold \">{{numberFormat(totalArreas)}}</span>\n                        </td>\n                        <td></td>\n\n                      </tr>\n\n                      </tfoot>\n                    </table>\n\n                    <div v-if=\"loading\" class=\"card-body px-5 d-flex flex-column justify-items-center align-items-center text-center d-flex justify-content-center\">\n                      <div class=\"p-5 py-0 pt-3\">\n                        <div class=\"p-5\">\n                          <div class=\"spinner-border text-info m-1\" role=\"status\">\n                            <span class=\"sr-only text-uppercase\">Loading...</span>\n                          </div>\n                        </div>\n                      </div>\n                      <h4 class=\"text-uppercase\">Loading Data</h4>\n                      <div class=\"col-sm-12 col-md-8 col-lg-5\">\n                        <p>We are fetching the data for you. It will be ready soon. Please wait and have fun. Thank you for your interest.</p>\n\n                      </div>\n                    </div>\n\n                    <div v-if=\"properties.length<1 & loading === false\" class=\"card-body d-sm-none d-md-block px-5 d-flex flex-column justify-items-center align-items-center text-center\">\n                      <div class=\"p-5 py-0 pt-3\">\n                        <img :src=\"'./assets/images/no-results.png'\" class=\"img mb-4\"  alt=\"No search results\"/>\n                      </div>\n                      <h4>No Results To Show</h4>\n                      <p>Sorry, we could not find any results that match your search or filter criteria. Please try using different keywords or filters.</p>\n                    </div>\n\n                  </div>\n\n                </div>\n\n                <div class=\"card-footer bg-white\">\n                  <nav aria-label=\"Page navigation example \"\n                       class=\"d-flex align-items-center justify-content-between\">\n\n                    <div class=\"d-flex align-items-center\">\n                                            <span class=\"pr-3 pb-0 mb-0 font-13px\">\n                                                <span>Rows Per Page</span>\n                                            </span>\n                      <select class=\"form-select w-auto font-13px \" v-model=\"pageSize\">\n                        <option value=\"10\">10 Rows</option>\n                        <option value=\"25\">25 Rows</option>\n                        <option value=\"50\">50 Rows</option>\n                        <option value=\"100\">100 Rows</option>\n                        <option value=\"150\">150 Rows</option>\n                        <option value=\"200\">200 Rows</option>\n                        <option value=\"5000\">5000 Rows</option>\n                        <option value=\"10000\">10000 Rows</option>\n                        <option value=\"100000000000\">All Rows</option>\n                      </select>\n                    </div>\n\n                    <ul class=\"pagination\">\n                      <!-- add a class of disabled and an attribute of disabled when the current page is the first page -->\n                      <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                        <a class=\"page-link\" tabindex=\"-1\" @click=\"prevPage\" :disabled=\"currentPage === 1\">Previous</a>\n                      </li>\n                      <!-- replace the v-for directive with the pagination function call -->\n                      <li v-for=\"page in pagination(currentPage, totalPages, 3)\" :key=\"page\" class=\"page-item\" :class=\"{ active: currentPage === page }\">\n                        <!-- check if the page is an ellipsis and display it as plain text -->\n                        <span v-if=\"page === '...'\" class=\"page-link\">{{ page }}</span>\n                        <!-- otherwise, display it as a clickable link -->\n                        <a v-else class=\"page-link\" @click=\"goToPage(page)\">{{ page }}</a>\n                      </li>\n                      <!-- add a class of disabled and an attribute of disabled when the current page is the last page -->\n                      <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                        <a class=\"page-link\"  @click=\"nextPage\" :disabled=\"currentPage === totalPages\">Next</a>\n                      </li>\n                    </ul>\n\n\n                  </nav>\n                </div>\n\n              </div>\n            </div>\n            <!-- end col -->\n          </div>\n\n          <!-- end row -->\n        </div>\n        <!-- container-fluid -->\n      </div>\n      <!-- End Page-content -->\n\n      <!-- receipting modal -->\n      <div class=\"modal fade download-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-md modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Download Report</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <address>\n                    <strong class=\"text-capitalize\">Report Title</strong><br>\n                    Revenue Collections By Subcounties in Homabay County\n                  </address>\n                </div>\n\n                <div class=\"col-12\">\n                  <label><strong>Report Date Range</strong></label>\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"row\">\n                    <div class=\"col-xl-6 col-sm-6\">\n                      <div class=\"mb-3\">\n                        <label class=\"form-label\">Date From</label>\n                        <input class=\"form-control\" placeholder=\"Start date\" type=\"date\">\n                      </div>\n                    </div>\n\n                    <div class=\"col-xl-6 col-sm-6\">\n                      <div class=\"mb-3\">\n                        <label class=\"form-label\">Date To</label>\n                        <input class=\"form-control\" placeholder=\"Start date\" type=\"date\">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"col-12\">\n                  <label><strong>Select File Type</strong></label>\n                  <select class=\"form-select\">\n                    <option>Select Document Type</option>\n                    <option>PDF file</option>\n                    <option>Excel File</option>\n                  </select>\n                </div>\n\n                <div class=\"col-12\">\n                  <button  type=\"button\" class=\"btn btn-primary dropdown-toggle option-selector text-capitalize w-100 mt-5\">\n                    <i class=\"bx bxs-download  font-size-16\"></i> <span class=\"pl-1 d-md-inline\">Download Report</span>\n                  </button>\n                </div>\n\n              </div>\n\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of receipting modal -->\n\n      <!-- invoice details -->\n      <div class=\"modal fade invoice-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"myLargeModalLabel\">Invoice Details</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"col-12\">\n                <address>\n                  <strong>Billed To:</strong><br>\n                  Kelvin Njuguna<br>\n                  email@mail.com, 0704 549 859<br>\n                  Hse No. 410, 90 Degrees By Tsavo\n                  <br><br>\n                  1 Mar 2022, 10:20 AM\n                </address>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"py-2 mt-3\">\n                  <h3 class=\"font-size-15 fw-bold\">Invoice Details ( <span class=\"text-primary fw-medium\">No. 1237</span> )</h3>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"table-responsive\">\n                  <table class=\"table table-nowrap\">\n                    <thead>\n                    <tr>\n                      <th style=\"width: 70px;\">No.</th>\n                      <th>Item</th>\n                      <th class=\"text-end\">Amount</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                      <td>01</td>\n                      <td>Rent Deposit</td>\n                      <td class=\"text-end\">KES 24,500</td>\n                    </tr>\n\n                    <tr>\n                      <td>02</td>\n                      <td>Monthly Rent</td>\n                      <td class=\"text-end\">KES 12,000</td>\n                    </tr>\n\n                    <tr>\n                      <td>03</td>\n                      <td>TAX (18%)</td>\n                      <td class=\"text-end\">KES 250</td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"2\" class=\"text-end\">Total</td>\n                      <td class=\"text-end fw-bold\">KES 36,750</td>\n                    </tr>\n                    <tr>\n                      <td colspan=\"2\" class=\"text-end\">Paid</td>\n                      <td class=\"text-end  fw-bold\">KES 0.00</td>\n                    </tr>\n\n                    <tr>\n                      <td colspan=\"2\" class=\"border-0 text-end\">\n                        <strong>Balance</strong></td>\n                      <td class=\"border-0 text-end\">\n                        <h5 class=\"m-0 text-uppercase fw-bold\">KES 36,750</h5>\n                      </td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"col-12 d-none\">\n                <div class=\"table-resposive p-4 px-2 pt-2 overflow-visible\">\n                  <table class=\"w-100\">\n                    <tbody>\n                    <tr data-id=\"1\">\n                      <td>\n                        <label for=\"\" class=\"\">Payment Method</label>\n                        <select class=\"form-control selectpicker w-100 payment-method\" data-style=\"btn-secondary w-100\" data-live-search=\"true\" title=\"Select payment Method\">\n                          <option value=\"Mpesa\">MPESA</option>\n                          <option value=\"Cash\">CASH</option>\n                        </select>\n                      </td>\n                      <td class=\"px-3 \">\n                        <div class=\"phone-num d-none\">\n                          <label for=\"\">Phone No.</label>\n                          <input type=\"text \" class=\"form-control w-100 d-flex \" placeholder=\"Phone No.\" spellcheck=\"false\" data-ms-editor=\"true\">\n                        </div>\n\n                      </td>\n                      <td class=\"px-3\">\n                        <label for=\"\">Amount To Be Paid</label>\n                        <input type=\"text \" class=\"form-control w-100 d-flex\" placeholder=\"KES\" spellcheck=\"false\" data-ms-editor=\"true\">\n\n                      </td>\n                      <td class=\"text-right float-right\">\n                        <div class=\"d-flex flex-column\">\n                          <label class=\"opacity-0\">Something</label>\n                          <a href=\"#\" class=\"btn btn-primary w-md waves-effect waves-light\">Submit</a>\n                        </div>\n                      </td>\n\n\n                    </tr>\n                    </tbody>\n                  </table>\n\n                </div>\n              </div>\n              <div class=\"float-end\">\n                <a href=\"javascript:window.print()\" class=\"btn btn-success waves-effect waves-light me-1\"><i class=\"mdi mdi-printer font-16px\"></i></a>\n                <a href=\"javascript: void(0);\" class=\"btn btn-primary w-md waves-effect waves-light\">Receive Payment</a>\n              </div>\n            </div>\n\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- invoice details -->\n\n      <!-- uploading an excel -->\n      <div class=\"modal fade upload-plot-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Upload Plots</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"\" class=\"text-uppercase mb-3\">Upload Excel Sheet</label>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div>\n                    <form action=\"#\" class=\"dropzone\">\n                      <div class=\"fallback\">\n                        <input name=\"file\" type=\"file\" multiple=\"multiple\">\n                      </div>\n                      <div class=\"dz-message needsclick\">\n                        <div class=\"mb-3\">\n                          <i class=\"display-4 text-muted bx bxs-cloud-upload\"></i>\n                        </div>\n\n                        <h4>Drop files here or click to upload.</h4>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"PrintDocs/Trade-Permit/permit.html\" target=\"_blank\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of uploading excel -->\n\n\n      <!-- uploading an excel -->\n      <div class=\"modal fade upload-plot-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Upload Propertise</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"form-group\">\n                    <label for=\"\" class=\"text-uppercase mb-3\">Upload Excel Sheet</label>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <div>\n                    <form action=\"#\" class=\"dropzone\">\n                      <div class=\"fallback\">\n                        <input name=\"file\" type=\"file\" multiple=\"multiple\">\n                      </div>\n                      <div class=\"dz-message needsclick\">\n                        <div class=\"mb-3\">\n                          <i class=\"display-4 text-muted bx bxs-cloud-upload\"></i>\n                        </div>\n\n                        <h4>Drop files here or click to upload.</h4>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a href=\"PrintDocs/Trade-Permit/permit.html\" target=\"_blank\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- end of uploading excel -->\n\n      <!-- adding category -->\n      <div class=\"modal fade add-block-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\"\n           aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered \">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-uppercase\" id=\"myLargeModalLabel\">Add A category</h5>\n\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <p class=\"text-capitalize\">\n                    Enter the category Name for the category you want added\n                  </p>\n                  <div>\n                    <label class=\"form-label text-uppercase\">Enter Category name</label>\n                    <input v-model=\"category\" class=\"form-control\" type=\"text\" placeholder=\"Name of Category\" >\n                  </div>\n\n                  <div class=\"mt-3\">\n                    <table class=\"table align-middle table-nowrap table-hover dt-responsive contacts-table dataTable no-footer table-sm\" id=\"\">\n                      <thead class=\"table-light\">\n                      <tr>\n\n                        <th>#</th>\n                        <th scope=\"col\">Category</th>\n                        <th scope=\"col\">Number of Units</th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                      <tr :key=\"index\" :value=\"item\" v-for=\"(item, index) in unitCategories\">\n\n                        <td>\n                          {{index+1}}.\n                        </td>\n                        <td class=\"text-uppercase\" @click=\"deleteUnitCategory(item.category)\">\n                          <a  href=\"javascript: void(0);\" > {{item.category}} </a>\n                        </td>\n                        <td>\n                          {{item.count}}\n                        </td>\n\n\n                      </tr>\n\n                      </tbody>\n                    </table>\n                  </div>\n\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n\n              <a @click=\"addUnitCategory()\" type=\"button\"\n                 class=\"btn btn-primary waves-effect waves-light\">\n                <i class=\"bx bx-check font-size-16 align-middle me-2\"></i> Submit\n              </a>\n            </div>\n          </div>\n          <!-- /.modal-content -->\n        </div>\n        <!-- /.modal-dialog -->\n      </div>\n      <!-- Adding category -->\n\n\n\n      <footer class=\"footer \">\n        <div class=\"container-fluid \">\n          <div class=\"row \">\n\n          </div>\n        </div>\n      </footer>\n    </div>\n    <!-- end main content-->\n\n  </div>\n  <!-- END layout-wrapper -->\n\n  <!-- Right bar overlay-->\n  <div class=\"rightbar-overlay \"></div>\n\n\n  </body>\n\n\n</template>\n\n\n<script>\nimport { execute, executeDownload, getRight, rent} from \"@/api\";\nimport ToolBarHousing from \"@/components/housing/ToolBarHousing.vue\";\nimport NavigationBar from \"@/components/Navigation.vue\";\n\nexport default {\n  components: {ToolBarHousing, NavigationBar},\n  name: \"HousingRegister\",\n  data() {\n    return {\n      category:'',\n      loading: true,\n      // set the initial current page as 1\n      currentPage: 1,\n      // set the total number of pages as 10 (you can change this according to your data source)\n      totalPages: 0,\n      // set the number of items per page as 5 (you can change this according to your preference)\n      pageSize: 10,\n      summary: {\n        count: 0,\n        total: 0\n      },\n\n      download:'Download Report',\n      search:'',\n      totalRecords:0,\n      totalReceiptAmount:0,\n      totalUnit:0,\n      totalOccupied:0,\n      totalVaccant:0,\n      totalArreas:0,\n\n      properties: [\n        {\n          propertyID: null,\n          property:  null,\n          noOfOccupiedUnits:  null,\n          noOfEmptyUnits:  null,\n          noOfUnits: null,\n          totalArrears:  null\n        }\n      ],\n      unitCategories:[{\n        id: null,\n        category: null,\n        count:null\n      }]\n    }\n  },\n  mounted() {\n    this.getProperties()\n    this.getUnitCategory()\n  },\n  watch:{\n    //pagination code\n    // define a watcher for the pageSize property\n    pageSize(newPageSize) {\n      this.getProperties()\n      // get the total number of items from your data source (you can change this according to your logic)\n      const totalItems = this.summary.count;\n      // calculate the new total pages by dividing the total items by the new page size and rounding up\n      const newTotalPages = Math.ceil(totalItems / newPageSize);\n      // update the totalPages data property with the new value\n      this.totalPages = newTotalPages;\n      // reset the current page to 1\n      this.currentPage = 1;\n\n    },\n    \n    search: function () {\n      this.getProperties()\n    }\n  },\n  methods:{\n    //pagination code\n    pagination(currentPage, totalPages, maxVisibleButtons) {\n      //initialize an empty array for the pages\n      let pages = [];\n      //calculate the start and end indices of the visible buttons\n      let start = currentPage - Math.floor(maxVisibleButtons / 2);\n      let end = currentPage + Math.floor(maxVisibleButtons / 2);\n      //adjust the start and end indices if they are out of bounds\n      if (start < 1) {\n        start = 1;\n        end = start + maxVisibleButtons - 1;\n        if (end > totalPages) {\n          end = totalPages;\n        }\n      }\n      if (end > totalPages) {\n        end = totalPages;\n        start = end - maxVisibleButtons + 1;\n        if (start < 1) {\n          start = 1;\n        }\n      }\n      //loop through the start and end indices and push the pages to the array\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      //add an ellipsis at the beginning if there are more pages before the start index\n      if (start > 1) {\n        pages.unshift(\"...\");\n      }\n      //add an ellipsis at the end if there are more pages after the end index\n      if (end < totalPages) {\n        pages.push(\"...\");\n      }\n// return the array of pages\n      return pages;\n    },\n    // define a method to go to the previous page\n    prevPage() {\n      // check if the current page is not the first page\n      if (this.currentPage > 1) {\n        // decrement the current page by 1\n        this.currentPage--;\n        this.getProperties()\n      }\n    },\n    // define a method to go to the next page\n    nextPage() {\n      // check if the current page is not the last page\n      if (this.currentPage < this.totalPages) {\n        // increment the current page by 1\n        this.currentPage++;\n        this.getProperties()\n      }\n    },\n    // define a method to go to a specific page\n    goToPage(page) {\n      // check if the page is valid and not equal to the current page\n      if (page > 0 && page <= this.totalPages && page !== this.currentPage) {\n        // set the current page to the given page\n        this.currentPage = page;\n        this.getProperties()\n      }\n    },\n    \n    getRight(type){\n      return getRight(type)\n    },\n    numberFormat(num) {\n      const britishNumberFormatter = new Intl.NumberFormat(\"en-GB\");\n      return britishNumberFormatter.format(num)\n    },\n    getProperties(){\n      this.loading = true\n      this.properties.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getProperties\");\n      data.append(\"search\", this.search);\n      data.append(\"page\", this.currentPage);\n      data.append(\"rows_per_page\", this.pageSize);\n      execute(data,rent)\n          .then((res) =>{\n            this.loading = false\n            if (res.data.success) {\n              this.properties = res.data.data.properties\n              this.totalReceiptAmount = res.data.data.summary.totalReceiptAmount;\n              this.totalRecords = res.data.data.summary.totalRecords;\n\n\n\n              this.totalUnit = this.properties.reduce((acc, cur) => {\n                let value = Number(cur.noOfUnits);\n                return acc + value;\n              }, 0);\n\n              this.totalOccupied = this.properties.reduce((acc, cur) => {\n                let value = Number(cur.noOfOccupiedUnits);\n                return acc + value;\n              }, 0);\n\n              this.totalVaccant = this.properties.reduce((acc, cur) => {\n                let value = Number(cur.noOfEmptyUnits);\n                return acc + value;\n              }, 0);\n\n              this.totalArreas = this.properties.reduce((acc, cur) => {\n                let value = Number(cur.totalArrears);\n                return acc + value;\n              }, 0);\n\n              this.summary.count = res.data.data.summary.totalRecords\n              this.summary.total = res.data.data.summary.totalReceiptAmount\n              this.totalPages =  Math.ceil(this.summary.count / this.pageSize);\n\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    gotTo(route,propertyID){\n      sessionStorage.setItem(\"propertyID\",propertyID)\n      this.$router.push(route);\n    },\n    downloadProperties(){\n      this.download =\"Please wait..\"\n      const data = new FormData();\n      data.append(\"function\", \"downloadProperties\");\n      executeDownload(data,rent).then(response => {\n        this.download =\"Download Report\"\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(response.data);\n        link.download = \"Rent.csv\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      });\n    },\n    getUnitCategory(){\n      this.unitCategories.splice(0)\n      const data = new FormData();\n      data.append(\"function\", \"getUnitCategory\");\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.unitCategories =res.data.data.unitCategories\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    addUnitCategory() {\n      // Ask for confirmation\n      if (!confirm(\"Are you sure you want to add this category?\")) {\n        return; // Do nothing if the user cancels\n      }\n\n      // If confirmation is given, proceed with adding the category\n      const data = new FormData();\n      data.append(\"function\", \"addUnitCategory\");\n      data.append(\"category\", this.category);\n      execute(data, rent)\n          .then((res) => {\n            if (res.data.success) {\n              this.getUnitCategory();\n            } else {\n              this.message = res.data.message;\n            }\n          })\n          .catch((e) => {\n            this.message = e.message;\n          });\n    },\n    deleteUnitCategory(category) {\n      // Ask for confirmation\n      if (!confirm(\"Are you sure you want to remove this category?\")) {\n        return; // Do nothing if the user cancels\n      }\n\n      // If confirmation is given, proceed with adding the category\n      const data = new FormData();\n      data.append(\"function\", \"deleteUnitCategory\");\n      data.append(\"category\", category);\n      execute(data, rent)\n          .then((res) => {\n            if (res.data.success) {\n              this.getUnitCategory();\n            } else {\n              this.message = res.data.message;\n            }\n          })\n          .catch((e) => {\n            this.message = e.message;\n          });\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}