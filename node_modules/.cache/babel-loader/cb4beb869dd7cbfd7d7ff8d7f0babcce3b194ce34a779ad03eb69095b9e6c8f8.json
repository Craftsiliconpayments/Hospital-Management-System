{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport NavigationBar from \"@/components/Navigation.vue\";\nimport { execute, biller, rent, parking, trade } from \"@/api\";\nimport $ from 'jquery';\nexport default {\n  name: \"BillNew\",\n  components: {\n    NavigationBar\n  },\n  data() {\n    return {\n      confirmCash: false,\n      phoneNumber: '',\n      customerName: '',\n      email: '',\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      billDetails: {\n        id: '',\n        billNo: '',\n        incomeTypeID: '',\n        incomeTypeDescription: '',\n        costCenterNo: '',\n        accountNo: '',\n        feeID: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        wardID: '',\n        subCountyID: '',\n        status: '',\n        dateCreated: ''\n      },\n      billInfo: [],\n      briefDescription: '',\n      subCounty: null,\n      ward: null,\n      houseItem: {\n        estate: null,\n        houseType: {\n          id: null,\n          houseTypeCode: null,\n          houseType: null\n        },\n        houseNo: {\n          id: null,\n          houseNumberCode: null,\n          houseNumber: null,\n          houseTypeCode: null,\n          houseType: null,\n          estateCode: null,\n          estateName: null\n        }\n      },\n      revenueStreamItem: {},\n      selectedBillItem: {},\n      itemIndex: '',\n      description: '',\n      amount: '',\n      wardID: '',\n      subCountyID: '',\n      houseNumberCode: '',\n      houseTypeCode: '',\n      estateCode: '',\n      estates: [{\n        id: \"\",\n        estateCode: \"\",\n        estateName: \"\"\n      }],\n      houseTypes: [{\n        id: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\"\n      }],\n      houseNumbers: [{\n        id: \"\",\n        houseNumberCode: \"\",\n        houseNumber: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\",\n        estateCode: \"\",\n        estateName: \"\"\n      }],\n      subCounties: [{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards: [{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      billItem: [],\n      feesAndChargeItems: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      feesAndCharges: [{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc: null,\n        costCenterNo: null,\n        zone: null,\n        typeDescription: null\n      }],\n      totalAmount: 0,\n      paymentData: {\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode: null\n      },\n      timer: null,\n      randomNumber: null,\n      receiptDetails: {\n        id: '',\n        receiptNo: null,\n        billNo: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        costCenterNo: '',\n        accountNo: '',\n        incomeTypeDescription: '',\n        feeID: '',\n        wardID: '',\n        subCountyID: '',\n        currency: '',\n        source: '',\n        transactionCode: '',\n        paidBy: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        isActive: '',\n        status: ''\n      },\n      receiptInfos: [{\n        id: '',\n        receiptNo: '',\n        billNo: '',\n        billTotal: '',\n        receiptAmount: '',\n        billBalance: '',\n        customer: '',\n        clientPhoneNo: '',\n        description: '',\n        receiptDate: '',\n        printCount: '',\n        wardID: '',\n        subCountyID: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        printedBy: '',\n        updated: '',\n        isActive: '',\n        status: ''\n      }],\n      //Billing Module\n      billingModule: {\n        incomeType: {\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes: [{\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        }]\n      },\n      selectedStream: 'Others',\n      //Parking Module\n      parking: {\n        zones: [],\n        categories: [],\n        durations: [],\n        category: null,\n        zoneCode: null,\n        numberPlate: null,\n        durationCode: null,\n        charges: null\n      },\n      message: null,\n      //Trade\n      businessID: null,\n      trade: {\n        amount: null,\n        tonnage: [],\n        floors: [],\n        tradeCategories: [{\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null,\n          departmentID: null,\n          zoneCategoryID: null,\n          zoneCategory: null\n        }],\n        tradeSubCategories: [{\n          feeId: null,\n          feeDescription: null,\n          unitOfMeasure: null,\n          unitFeeAmount: null,\n          accountNo: null,\n          incomeTypeId: null,\n          feeType: null,\n          accountDesc: null,\n          costCenterNo: null,\n          zone: null,\n          typeDescription: null,\n          prorated: null,\n          duration: null\n        }],\n        businessDetails: {\n          id: null,\n          businessID: null,\n          businessName: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID: null,\n          wardName: null,\n          plotNumber: null,\n          physicalAddress: null,\n          buildingName: null,\n          buildingOccupancy: null,\n          floorNo: null,\n          roomNo: null,\n          premiseSize: null,\n          numberOfEmployees: null,\n          tonnage: null,\n          businessDes: null,\n          businessCategory: null,\n          businessSubCategory: null,\n          incomeTypeID: null,\n          feeID: null,\n          businessEmail: null,\n          postalAddress: null,\n          postalCode: null,\n          businessPhone: null,\n          contactPersonNames: null,\n          contactPersonIDNo: null,\n          businessRole: null,\n          contactPersonPhone: null,\n          contactPersonEmail: null,\n          fullNames: null,\n          ownerID: null,\n          ownerPhone: null,\n          ownerEmail: null,\n          kraPin: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          lat: 0.0,\n          lng: 0.0\n        }\n      }\n    };\n  },\n  watch: {\n    subCounty: function () {\n      //Trade demographics\n      this.trade.businessDetails.subCountyName = this.subCounty.subCountyName;\n      this.trade.businessDetails.subCountyID = this.subCounty.subCountyID;\n      this.getWards();\n    },\n    ward: function () {\n      //Trade demographics\n      this.trade.businessDetails.wardName = this.ward.wardName;\n      this.trade.businessDetails.wardID = this.ward.wardID;\n    }\n  },\n  mounted() {\n    this.getIncomeTypes();\n    this.getSubCounties();\n    this.getFloor();\n    this.getTradeCategory();\n    this.getTonnage();\n    const modal = new bootstrap.Modal(document.getElementById('subscribeModal'));\n    modal.show();\n  },\n  methods: {\n    //TRADE\n    getBusiness() {\n      const data = new FormData();\n      data.append(\"function\", \"getBusiness\");\n      data.append(\"function\", \"getBusiness\");\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.trade.floors = res.data.data.floors;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    registerBusiness() {\n      this.trade.businessDetails.createdByIDNo = sessionStorage.getItem(\"idNo\");\n      this.trade.businessDetails.createdBy = sessionStorage.getItem(\"names\");\n      const data = new FormData();\n      data.append(\"function\", \"registerBusiness\");\n      data.append(\"business\", JSON.stringify(this.trade.businessDetails));\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.addToBill(\"Business Permit\", res.data.data.business.businessID);\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFloor() {\n      const data = new FormData();\n      data.append(\"function\", \"getFloor\");\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.trade.floors = res.data.data.floors;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getTonnage() {\n      const data = new FormData();\n      data.append(\"function\", \"getTonnage\");\n      execute(data, trade).then(res => {\n        if (res.data.success) {\n          this.trade.tonnage = res.data.data.tonnage;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getTradeCategory() {\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      data.append(\"incomeTypePrefix\", \"SBP\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.trade.tradeCategories = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getTradeSubCategory(event) {\n      this.message = null;\n      const data = new FormData();\n      this.trade.businessDetails.incomeTypeID = event.target.value;\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", event.target.value);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.trade.tradeSubCategories = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedTradeSubCategory(event) {\n      //set fee and charges\n      this.selectedFeeAndCharge(event);\n      const data = JSON.parse(event.target.value);\n      this.trade.businessDetails.businessCategory = data.accountDesc;\n      this.trade.businessDetails.businessSubCategory = data.feeDescription;\n      this.trade.amount = data.unitFeeAmount;\n      this.trade.businessDetails.feeID = data.feeId;\n    },\n    //PARKING\n    getZones() {\n      const data = new FormData();\n      data.append(\"function\", \"getZones\");\n      execute(data, parking).then(res => {\n        if (res.data.success) {\n          this.parking = res.data.data;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getRate() {\n      this.parking.charges = null;\n      this.message = null;\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"zoneCode\", this.parking.zoneCode);\n      data.append(\"categoryCode\", this.parking.category);\n      data.append(\"durationCode\", this.parking.durationCode);\n      execute(data, parking).then(res => {\n        if (res.data.success) {\n          this.parking.charges = res.data.data.total.amount;\n          this.feesAndChargeItems = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectZone() {\n      this.getRate();\n    },\n    //BILLER\n    selectedFeeAndCharge(event) {\n      const data = JSON.parse(event.target.value);\n      this.amount = data.unitFeeAmount;\n      this.feesAndChargeItems = [];\n      this.feesAndChargeItems.push(data);\n    },\n    selectedHouseType(event) {\n      const houseType = JSON.parse(event.target.value);\n      this.houseItem.houseType = houseType;\n      console.log('Error: ', this.houseItem.houseType.houseTypeCode);\n      this.getFeesAndCharges();\n      this.getHouseNumbers();\n    },\n    selectedIncomeType(event) {\n      const value = event.target.value;\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId);\n    },\n    getIncomeTypes() {\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.billingModule.incomeTypes = res.data.data.incomeTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndChargesBilling(incomeTypeId) {\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", incomeTypeId);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.feesAndCharges = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    //RENTS\n    getEstates() {\n      const data = new FormData();\n      data.append(\"function\", \"getEstates\");\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.estates = res.data.data.estates;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getHouseType() {\n      const data = new FormData();\n      data.append(\"function\", \"getHouseType\");\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.houseTypes = res.data.data.houseTypes;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getHouseNumbers() {\n      this.houseNumbers = [];\n      this.houseItem.houseNo = '';\n      const data = new FormData();\n      data.append(\"function\", \"getHouseNumbers\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.houseNumbers = res.data.data.houseNumbers;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getFeesAndCharges() {\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data, rent).then(res => {\n        if (res.data.success) {\n          this.amount = res.data.data.total.amount;\n          this.feesAndChargeItems = res.data.data.feesAndCharges;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    selectedIndex: function (item, itemIndex) {\n      this.selectedBillItem = item;\n      this.itemIndex = itemIndex;\n      this.removeFromBill();\n    },\n    removeFromBill: function () {\n      this.totalAmount -= this.billItem[this.itemIndex].unitFeeAmount;\n      this.billItem.splice(this.itemIndex, 1);\n    },\n    //Main\n    selectRevenue(event) {\n      this.selectedStream = event.target.value;\n      //alert(this.value);\n      if (this.selectedStream === \"Rent\") {\n        $('.Rent-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        //RENT\n        this.getEstates();\n        this.getHouseType();\n        this.getSubCounties();\n      }\n      if (this.selectedStream === \"Parking\") {\n        $('.parking-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        this.getZones();\n      }\n      if (this.selectedStream === \"Health\") {\n        $('.health-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"Trade\") {\n        $('.trade-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        this.getSubCounties();\n        this.getTradeCategory();\n      }\n      if (this.selectedStream === \"Register New Business\") {\n        $('.register-new-business').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"Renew License Business\") {\n        $('.renew-business').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"Liquor\") {\n        $('.liquor-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"Landrates\") {\n        $('.landrate-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"Others\") {\n        $('.others-rev').removeClass(\"d-none\").siblings().addClass('d-none');\n        //Billing Module\n        this.getIncomeTypes();\n        this.getSubCounties();\n\n        // $('.rev-options-cont').children('.row').each(function(index) {\n        //     $(this).addClass('d-none')\n        // });\n      }\n\n      if (this.selectedStream === \"SEASONAL\") {\n        $('.seasonal-duration').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"DAILY\") {\n        $('.seasonal-duration').addClass(\"d-none\");\n        $('.offstreet-duration').addClass(\"d-none\");\n      }\n      if (this.selectedStream === \"OFFSTREET\") {\n        $('.offstreet-duration').removeClass(\"d-none\").siblings().addClass('d-none');\n      }\n      if (this.selectedStream === \"PENALTY\") {\n        $('.offstreet-duration').addClass(\"d-none\");\n      }\n    },\n    getSubCounties() {\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.subCounties = res.data.data.subCounties;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getWards() {\n      this.wards = [];\n      this.ward = '';\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.wards = res.data.data.wards;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    getCustomer() {\n      const data = new FormData();\n      data.append(\"function\", \"getCustomer\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.email = res.data.data.customer.email;\n          this.customerName = res.data.data.customer.names;\n          this.email = res.data.data.customer.email;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addCustomers() {\n      const data = new FormData();\n      data.append(\"function\", \"addCustomers\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      data.append(\"email\", this.email);\n      data.append(\"names\", this.customerName);\n      data.append(\"createdBy\", sessionStorage.getItem(\"names\"));\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = res.data.message;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    addToBill(revenueStreamItem, customer) {\n      for (const {\n        typeDescription,\n        feeId,\n        feeDescription,\n        unitFeeAmount,\n        accountNo,\n        costCenterNo,\n        incomeTypeId\n      } of this.feesAndChargeItems) {\n        this.totalAmount += parseFloat(unitFeeAmount);\n        this.billItem.push({\n          typeDescription,\n          feeDescription,\n          unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId,\n          amount: unitFeeAmount,\n          customer: customer,\n          zone: sessionStorage.getItem(\"zone\"),\n          subCountyID: this.subCounty.subCountyID,\n          subCountyName: this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"idNo\"),\n          phoneNumber: sessionStorage.getItem(\"phoneNumber\"),\n          names: sessionStorage.getItem(\"names\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.description\n        });\n      }\n    },\n    generateBill() {\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n      this.message = \"Generating Bill...please wait... \";\n      const data = new FormData();\n      data.append(\"function\", \"generateBill3\");\n      data.append(\"billItem\", JSON.stringify(this.billItem));\n      execute(data, biller).then(res => {\n        this.message = res.data.message;\n        if (res.data.success) {\n          this.billDetails = res.data.data.bill.billDetails;\n          this.billInfo = res.data.data.bill.billInfo;\n          this.paymentData.amount = res.data.data.bill.billDetails.billBalance;\n          this.paymentData.accNo = res.data.data.bill.billDetails.billNo;\n          this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo;\n        } else {\n          this.message = res.data.message;\n        }\n      }).catch(e => {\n        this.message = e.message;\n      });\n    },\n    printBill() {\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      });\n      const routeData = this.$router.resolve({\n        name: 'bill'\n      });\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        });\n        const routeData = this.$router.resolve({\n          name: 'receipt'\n        });\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod() {\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false;\n    },\n    showTransactionSummary(paymentMode) {\n      this.paymentData.paymentMode = paymentMode;\n      if (paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false;\n    },\n    makePayment() {\n      if (this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber;\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n      execute(data, stream).then(res => {\n        if (res.data.success) {\n          this.paymentMethod = false;\n          this.paymentPanel = false;\n          //start checking payment\n          this.timer = setInterval(() => {\n            this.checkPayment();\n          }, 3000);\n        } else {\n          this.rate = null;\n          alert(res.data.message);\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1;\n      if (this.randomNumber === 1) {\n        this.message = \"Waiting for payment.\";\n      }\n      if (this.randomNumber === 2) {\n        this.message = \"Waiting for payment..\";\n      }\n      if (this.randomNumber === 3) {\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n      execute(data, biller).then(res => {\n        if (res.data.success) {\n          this.message = null;\n          clearInterval(this.timer);\n          this.receipt = true;\n          this.paymentData.success = false;\n          this.transaction = res.data.data.transaction;\n          this.receiptDetails = res.data.data.receipt.receiptDetails;\n          //Close the modal\n          this.transactionSummary = false;\n          this.transactionCompleted = true;\n        }\n      }).catch(e => {\n        alert(e.message);\n      });\n    }\n  }\n};","map":{"version":3,"names":["NavigationBar","execute","biller","rent","parking","trade","$","name","components","data","confirmCash","phoneNumber","customerName","email","transactionCompleted","transactionSummary","paymentPanel","paymentMethod","billDetails","id","billNo","incomeTypeID","incomeTypeDescription","costCenterNo","accountNo","feeID","detailAmount","receiptAmount","billBalance","wardID","subCountyID","status","dateCreated","billInfo","briefDescription","subCounty","ward","houseItem","estate","houseType","houseTypeCode","houseNo","houseNumberCode","houseNumber","estateCode","estateName","revenueStreamItem","selectedBillItem","itemIndex","description","amount","estates","houseTypes","houseNumbers","subCounties","subCountyName","wards","wardName","billItem","feesAndChargeItems","feeId","feeDescription","unitOfMeasure","unitFeeAmount","incomeTypeId","feeType","accountDesc","zone","typeDescription","feesAndCharges","totalAmount","paymentData","accNo","payBillNo","success","paymentMode","timer","randomNumber","receiptDetails","receiptNo","currency","source","transactionCode","paidBy","dateModified","createdBy","modifiedBy","isActive","receiptInfos","billTotal","customer","clientPhoneNo","receiptDate","printCount","printedBy","updated","billingModule","incomeType","incomeTypePrefix","fundDescription","incomeTypes","selectedStream","zones","categories","durations","category","zoneCode","numberPlate","durationCode","charges","message","businessID","tonnage","floors","tradeCategories","departmentID","zoneCategoryID","zoneCategory","tradeSubCategories","prorated","duration","businessDetails","businessName","plotNumber","physicalAddress","buildingName","buildingOccupancy","floorNo","roomNo","premiseSize","numberOfEmployees","businessDes","businessCategory","businessSubCategory","businessEmail","postalAddress","postalCode","businessPhone","contactPersonNames","contactPersonIDNo","businessRole","contactPersonPhone","contactPersonEmail","fullNames","ownerID","ownerPhone","ownerEmail","kraPin","createdByIDNo","lat","lng","watch","getWards","mounted","getIncomeTypes","getSubCounties","getFloor","getTradeCategory","getTonnage","modal","bootstrap","Modal","document","getElementById","show","methods","getBusiness","FormData","append","then","res","catch","e","registerBusiness","sessionStorage","getItem","JSON","stringify","addToBill","business","getTradeSubCategory","event","target","value","selectedTradeSubCategory","selectedFeeAndCharge","parse","getZones","getRate","total","selectZone","push","selectedHouseType","console","log","getFeesAndCharges","getHouseNumbers","selectedIncomeType","result","getFeesAndChargesBilling","getEstates","getHouseType","selectedIndex","item","removeFromBill","splice","selectRevenue","removeClass","siblings","addClass","getCustomer","names","addCustomers","parseFloat","idNo","customerPhoneNumber","generateBill","bill","billGenerated","printBill","localStorage","routeData","$router","resolve","window","open","href","printReceipt","alert","showPaymentMethod","showTransactionSummary","makePayment","stream","startsWith","setInterval","checkPayment","rate","Math","floor","random","clearInterval","receipt","transaction"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/homabaytest/county-biller/src/components/NewBill.vue"],"sourcesContent":["<template>\n<div>\n  <head>\n    <!-- App favicon -->\n    <link rel=\"shortcut icon\" href=\"assets/images/favicon.svg\">\n\n    <link href=\"assets/libs/select2/css/select2.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <link href=\"assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/spectrum-colorpicker2/spectrum.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/bootstrap-timepicker/css/bootstrap-timepicker.min.css\" rel=\"stylesheet\" type=\"text/css\">\n    <link href=\"assets/libs/bootstrap-touchspin/jquery.bootstrap-touchspin.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link rel=\"stylesheet\" href=\"assets/libs/%40chenfengyuan/datepicker/datepicker.min.css\">\n\n\n\n    <!-- Bootstrap Css -->\n    <link href=\"assets/css/bootstrap.min.css\" id=\"bootstrap-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- Bootstrap select styling -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css\">\n    <!-- Icons Css -->\n    <link href=\"assets/css/icons.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- App Css-->\n    <link href=\"assets/css/app.min.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n    <!-- custom Css-->\n    <link href=\"assets/css/custom.css\" id=\"app-style\" rel=\"stylesheet\" type=\"text/css\" />\n\n\n\n  </head>\n\n  <body data-sidebar=\"dark\">\n\n  <!-- <body data-layout=\"horizontal\" data-topbar=\"dark\"> -->\n  <!-- Loader -->\n<!--  <div id=\"preloader\">\n    <div id=\"status\">\n      <div class=\"spinner-chase\">\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n        <div class=\"chase-dot\"></div>\n      </div>\n    </div>\n  </div>-->\n  <!-- Begin page -->\n\n  <!-- Begin page -->\n  <div id=\"layout-wrapper\">\n\n    <NavigationBar/>\n\n    <!-- Editing bill details -->\n    <div class=\"modal fade \" id=\"editModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n      <div class=\"modal-dialog modal-dialog-centered \">\n        <div class=\"modal-content \">\n          <div class=\"modal-header border-bottom-0 \">\n            <h4>Edit Bill item details</h4>\n            <button type=\"button \" class=\"btn-close \" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body \">\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Income Type</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Account Name</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\">\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\">\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\">\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Details</label>\n                  <textarea name=\"\" id=\"\" cols=\"30\" rows=\"3\" placeholder=\"More details\" class=\"form-control\"></textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer d-flex\">\n            <button class=\"btn btn-primary flex-grow-1\">Done</button>\n            <button class=\"btn btn-light\" data-dismiss=\"modal\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- edditing bill item details -->\n\n    <!-- Offender email address -->\n    <div class=\"modal fade \" id=\"subscribeModal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n      <div class=\"modal-dialog modal-dialog-centered \">\n        <div class=\"modal-content \">\n          <div class=\"modal-header border-bottom-0 \">\n            <button type=\"button \" class=\"btn-close d-none\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body \">\n            <div class=\"text-center mb-4 \">\n              <div class=\"avatar-md mx-auto mb-4 \">\n                <div class=\"avatar-title bg-light rounded-circle text-primary h1 \">\n                  <i class=\"mdi mdi-card-account-phone-outline \"></i>\n                </div>\n              </div>\n\n              <div class=\"row justify-content-center \">\n                <div class=\"col-xl-10 \">\n                  <h4 class=\"text-primary \">Client's Phone No.</h4>\n                  <p class=\"text-muted font-size-14 mb-4 \">\n                    Enter the client's Phone Number to continue.\n                  </p>\n\n                  <form>\n                    <div class=\"row \">\n                      <div class=\"col-12 \">\n                        <div class=\"mb-3 \">\n                          <label for=\"digit1-input \" class=\"visually-hidden \">ID Number</label>\n                          <input v-model=\"phoneNumber\" type=\"text \" class=\"form-control form-control-lg text-center two-step \" placeholder=\"Enter Client Phone Number\">\n                        </div>\n                      </div>\n                    </div>\n                    <button @click=\"getCustomer()\" data-dismiss=\"modal\"  type=\"button\" class=\"btn btn-primary btn-block w-100 \">\n                      <i class=\"bx bx-search-alt-2 font-size-16 align-middle me-2 \"></i>\n                      Search\n                    </button>\n\n                    <!-- this is to be hidden afte rimplimenting it. It s meannt to be shown incase the said user is not yet registered -->\n                    <button  data-toggle=\"modal\" data-target=\"#registerCustomer\" data-dismiss=\"modal\" type=\"button\" class=\"btn btn-light btn-block w-100  mt-3\">\n                      Register User\n                    </button>\n                  </form>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Offender's email address -->\n\n    <!-- customer registration -->\n    <div class=\"modal fade \" id=\"registerCustomer\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1 \" role=\"dialog \" aria-labelledby=\"staticBackdropLabel \" aria-hidden=\"true \">\n      <div class=\"modal-dialog modal-dialog-centered \">\n        <div class=\"modal-content \">\n          <div class=\"modal-header border-bottom-0 \">\n            <button type=\"button \" class=\"btn-close d-none\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body \">\n            <div class=\"text-center mb-4 \">\n              <div class=\"avatar-md mx-auto mb-4 \">\n                <div class=\"avatar-title bg-light rounded-circle text-primary h1 \">\n                  <i class=\"mdi mdi-account-multiple-plus \"></i>\n                </div>\n              </div>\n\n              <div class=\"row justify-content-center \">\n                <div class=\"col-xl-10 \">\n                  <h4 class=\"text-primary text-capitalize\">New Client Registration</h4>\n                  <p class=\"text-muted font-size-14 mb-4 \">\n                    Fuill In the details below to continue\n                  </p>\n\n                  <form>\n                    <div class=\"row \">\n                      <div class=\"col-12 \">\n                        <div class=\"mb-3 \">\n                          <label for=\"digit1-input \" class=\"visually-hidden \">Full Names</label>\n                          <input v-model=\"customerName\" type=\"text \" class=\"form-control  text-center two-step \" placeholder=\"Full Names\">\n                        </div>\n                      </div>\n\n                      <div class=\"col-12 \">\n                        <div class=\"mb-3 \">\n                          <label for=\"digit1-input \" class=\"visually-hidden \">Email</label>\n                          <input v-model=\"email\" type=\"text \" class=\"form-control  text-center two-step \" placeholder=\"Email\">\n                        </div>\n                      </div>\n\n                    <div class=\"col-12 \">\n                      <div class=\"mb-3 \">\n                        <label for=\"digit1-input \" class=\"visually-hidden \">Phone Number</label>\n                        <input v-model=\"phoneNumber\" type=\"text \" class=\"form-control  text-center two-step \" placeholder=\"Phone Number\">\n                      </div>\n                    </div>\n                </div>\n\n                    <button @click=\"addCustomers()\" data-dismiss=\"modal\" type=\"button\" class=\"btn btn-success btn-block w-100 \">\n                      <i class=\"mdi-account-multiple-plus mdi font-size-16 align-middle me-2 \"></i>\n                      Register Client\n                    </button>\n\n                  </form>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- customer registration -->\n\n    <!-- payment modal -->\n    <div class=\"modal fade\" id=\"payment-modal\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" role=\"dialog\" aria-bs-labelledby=\"exampleModalCenterTitle\" aria-bs-hidden=\"true\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\">\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header d-none\">\n            <span class=\"badge badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n            <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle close-modal\" data-dismiss=\"modal\"  aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n            </button>\n\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <span class=\"badge  badge-soft-success text-uppercase badge font-12px bg-primary-blink text-white\">Receive Payment</span>\n\n\n              <button type=\"button\" class=\"btn btn-light position-relative p-0 avatar-xs rounded-circle pull-right close-modal\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span class=\"avatar-title bg-transparent text-reset font-18px\">\n                            <i class=\"bx bx-x\"></i>\n                        </span>\n              </button>\n            </div>\n\n            <div class=\"payment-panel-parent\">\n\n              <div v-if=\"paymentPanel\" class=\"text-center payment-active-panel d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                <div class=\"success-image mb-4 pb-4 pt-4\">\n                  <img src=\"assets/images/bills.svg\" height=\"200\" alt=\"\">\n                </div>\n                <h4 class=\"text-black fw-bold\">{{message}}</h4>\n                <p class=\"text-muted mb-4\">The bill has been created Successfully, you can print the bill or opt to receive payment for this bill.</p>\n                <div class=\"d-flex w-100 pb-2\">\n                  <button @click=\"showPaymentMethod()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                    <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                    Receive Payment\n                  </button>\n                  <a @click=\"printBill()\" target=\"_blank\" data-dismiss=\"\" type=\"button\" class=\"btn btn-outline-secondary waves-effect dismin-modal\">Print Bill</a>\n                </div>\n              </div>\n\n              <div v-if=\"paymentMethod\" class=\"send-method payment-panel \">\n                <label for=\"\" class=\"mb-0 pb-0\">Payment Method</label>\n                <p><small class=\"text-muted\">How would you like to send this money?</small></p>\n\n                <div>\n                  <div class=\"accordion\" id=\"accordionExample\">\n                    <div class=\"accordion-item\">\n                      <h2 class=\"accordion-header\" id=\"headingOne\">\n                        <button class=\"accordion-button fw-medium\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                          <div class=\"flex-shrink-0 me-3\">\n                            <img class=\"rounded-circle\" src=\"assets/images/users/mpesa.jpg\" alt=\"Mobile Money\" height=\"65\">\n                          </div>\n                          <div class=\"d-flex flex-column\">\n                            <p class=\"m-0 p-0 text-uppercase fw-semibold\">MPESA</p>\n                            <p class=\"mb-0 p-0\"> <small>A payment request will be sent directly to the customer</small></p>\n                          </div>\n                        </button>\n                      </h2>\n                      <div id=\"collapseOne\" class=\"accordion-collapse collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\n                        <div class=\"accordion-body\">\n                          <div>\n                            <p>\n                                A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to the MPESA number you enter below.\n                            </p>\n                          </div>\n                          <div class=\"form-group\">\n                            <label for=\"\">MPESA Number</label>\n                            <div class=\"form-floating mb-3\">\n                              <input v-model=\"phoneNumber\" type=\"text\" class=\"form-control font-21 text-success form-control-lg\" id=\"phone-input\" placeholder=\"Enter Name\">\n                              <label for=\"floatingnameInput\">Phone No.</label>\n                            </div>\n\n                            <button @click=\"showTransactionSummary('MPESA')\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                              <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                              Send Payment Request\n                            </button>\n\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"accordion-item\">\n                      <h2 class=\"accordion-header\" id=\"headingTwo\">\n                        <button class=\"accordion-button fw-medium collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                          <div class=\"flex-shrink-0 me-3\">\n                            <img class=\"rounded-circle\" src=\"assets/images/users/money.jpg\" alt=\"Mobile Money\" height=\"65\">\n                          </div>\n                          <div class=\"d-flex flex-column\">\n                            <p class=\"m-0 p-0 text-uppercase fw-semibold\">Cash</p>\n                            <p class=\"mb-0 p-0\"> <small>By selecting this option you confirm that you have received the payment inform of cash</small></p>\n\n                          </div>\n                        </button>\n                      </h2>\n                      <div id=\"collapseTwo\" class=\"accordion-collapse collapse\" aria-labelledby=\"headingTwo\" data-bs-parent=\"#accordionExample\">\n                        <div class=\"accordion-body\">\n\n                          <div class=\"form-check form-check-primary mb-3\">\n                            <input v-model=\"confirmCash\" class=\"form-check-input\" type=\"checkbox\" id=\"confirm-cash\">\n                            <label class=\"form-check-label\" for=\"confirm-cash\">\n                              Confirm having received <strong>KES {{billDetails.billBalance}}</strong>\n                            </label>\n                          </div>\n\n                          {{message}}\n                          <br/>\n                          <button v-if=\"confirmCash\" @click=\"showTransactionSummary('CASH')\"  type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                            <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                            Receive Cash Payment\n                          </button>\n\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-if=\"transactionSummary\" class=\"transaction-summary payment-panel\">\n                <label for=\"\">Transaction Breakdown</label>\n                <div class=\"border p-4 rounded \">\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <div class=\"text-muted \">\n                        BillO NO.\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6 align-self-end\">\n                      <div class=\" text-right text-black\">\n                        {{billDetails.billNo}}\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6\">\n                      <div class=\"text-muted mt-2\">\n                        Bill For\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6 align-self-end\">\n                      <div class=\" text-right text-black\">\n                        {{billDetails.incomeTypeDescription}}\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6\">\n                      <div class=\"text-muted mt-2\">\n                        Payment Method\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6 align-self-end\">\n                      <div class=\" text-right text-black\">\n                        {{paymentData.paymentMode}}\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6\">\n                      <div class=\"text-muted mt-2\">\n                        Transaction Amount\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6 align-self-end\">\n                      <div class=\" text-right text-black\">\n                        KES {{billDetails.billBalance}}\n                      </div>\n                    </div>\n\n\n                    <div class=\"col-12 text-black\"><hr class=\"mb-0 pb-0\"></div>\n\n                    <div class=\"col-lg-6 text-uppercase\">\n                      <div class=\"text-muted mt-2 font-21\">\n                        Total\n                      </div>\n                    </div>\n\n                    <div class=\"col-lg-6 align-self-end text-uppercase\">\n                      <div class=\" text-right text-black font-21 fw-bold\">\n                        KES {{billDetails.billBalance}}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"mpesa-confirmation \">\n                    <div v-if=\"paymentData.paymentMode=='MPESA'\">\n                      <p class=\"text-muted mt-2\">A payment request of <strong class=\"text-black\">KES {{billDetails.billBalance}}</strong> will be sent to <strong class=\"text-black\"> phone number ({{ phoneNumber }})</strong> soon after you click the <strong class=\"text-black text-capitalize\">Send Request</strong> button bellow.\n                        <br>\n                        <br>\n                        Remember to <strong class=\"text-black\">Check your phone</strong> to confirm payment by entering your Mpesa pin.</p>\n                    </div>\n\n                      <div>{{message}}  </div>\n                    <br>\n                    <button @click=\"makePayment()\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect btn-send waves-light text-center w-100\">\n                      <div class=\"d-flex justify-content-center align-items-center\">\n                        <div class=\"stk-timer-container d-none justify-content-center align-items-center\">\n                          <span class=\"mdi mdi-timer-outline font-16px\"></span>\n                          <span class=\"stk-timer px-2\"></span>\n                        </div>\n                        <div class=\"justify-content-center align-items-center d-flex\">\n                          <span class=\"px-2\">Send Request</span>\n                          <div class=\"flip-x\"><i class=\"mdi mdi-reply ms-3 font-16px\"></i></div>\n                        </div>\n                      </div>\n                    </button>\n                  </div>\n\n\n                </div>\n              </div>\n\n              <div v-if=\"transactionCompleted\" class=\"text-center d-flex flex-column justify-content-around align-items-center sent-success payment-panel\">\n                <div class=\"success-image mb-4\">\n                  <img src=\"assets/images/payment-confirmation-images/sent.svg\" height=\"200\" alt=\"\">\n                </div>\n                <h4 class=\"text-blink-primary fw-bold\">Transaction Complete</h4>\n                <p class=\"text-muted mb-4\"><strong class=\"text-black\">KES {{receiptDetails.receiptAmount}}</strong> has been received for <strong class=\"text-black\">Bill No. {{receiptDetails.billNo}}</strong></p>\n                <button @click=\"printReceipt()\" type=\"button\" class=\"btn btn-primary btn-block  me-3 flex-grow-1\">\n                  <i class=\"mdi-cash-check mdi font-size-16 align-middle me-2 \"></i>\n                  Print Receipt\n                </button>\n              </div>\n\n\n\n            </div>\n          </div>\n          <div class=\"modal-footer d-flex d-none bill-modal-footer\">\n            <button href=\"javascript: void(0);\" disabled class=\"btn btn-outline-light waves-effect waves-light payment-prev\"> <i class=\"mdi mdi-arrow-left ms-1\"></i>Previouse</button>\n            <button href=\"javascript: void(0);\" class=\"btn btn-primary waves-effect waves-light payment-next\">Next <i class=\"mdi mdi-arrow-right ms-1\"></i></button>\n            <button href=\"javascript: void(0);\" class=\"btn btn-primary btn-flex flex-grow-1 waves-effect waves-light text-center d-none\">\n              <div class=\"d-flex justify-content-center align-items-center\"> <span>Send Money</span> <div class=\"flip-x\"><i class=\"mdi mdi-reply flip-x ms-3 font-16px\"></i></div></div>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- end of payment modal -->\n\n    <!-- new food hygine -->\n    <div class=\"modal fade\" id=\"new-food-hygene\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Food hygine Certificate Application</h5>\n            <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Business ID</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business ID\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Business Name</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business Name\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">PIN Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"KRA Pin Number\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Plot Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter plot Number\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Phone Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Email Address</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">PO Box</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Town</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-xl-12 col-sm-12\">\n                <div class=\"mt-4\">\n                  <h5 class=\"font-size-14 mb-4 text-capitalize\">Check where necessary</h5>\n                  <div class=\"form-check mb-3\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios1\" checked=\"\">\n                    <label class=\"form-check-label\" for=\"formRadios1\">\n                      This application has been approved\n                    </label>\n                  </div>\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios2\">\n                    <label class=\"form-check-label\" for=\"formRadios2\">\n                      This application is provisional\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-primary w-100\">Create Certificate</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- new food hygiene -->\n    <!-- new food handler certiifictae application -->\n    <div class=\"modal fade\" id=\"new-food-handler\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Food Handler Certificate Application</h5>\n            <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">First Name</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter first name\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Other Name(s)</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Other Names\">\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">ID Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter ID Number\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Phone Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Email Address</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                </div>\n              </div>\n\n\n\n              <div class=\"col-xl-12 col-sm-12\">\n                <div class=\"mt-4\">\n                  <h5 class=\"font-size-14 mb-4 text-capitalize\">Gender</h5>\n                  <div class=\"d-flex\">\n                    <div class=\"form-check mb-3 pr-4\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"Gender\" id=\"gender-male\" checked=\"\">\n                      <label class=\"form-check-label\" for=\"gender-male\">\n                        Male\n                      </label>\n                    </div>\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\" type=\"radio\" name=\"Gender\" id=\"gender-female\">\n                      <label class=\"form-check-label\" for=\"gender-female\">\n                        Female\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Applicant's subcounty\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Applicant's Ward\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-primary w-100\">Create license</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- new food handlers certifacate application -->\n\n\n    <!-- new business application -->\n    <div class=\"modal fade\" id=\"new-business\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">New SBP Application</h5>\n            <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div v-if=\"message!==null\" class=\"alert alert-danger\" role=\"alert\">\n            {{message}}\n          </div>\n          <div class=\"modal-body steps-container\">\n            <div class=\"row the-step biz-info active\">\n              <div class=\"col-12\">\n                <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                  <p class=\"fw-semibold mb-0 pb-0\">Business Owner</p>\n                </div>\n              </div>\n              <div class=\"col-8\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Full Name <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.fullNames\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Owner's Full Names\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Owner's ID Number <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.ownerID\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Owner's ID Number\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Owner's Phone No. <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.ownerPhone\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Owner's Phone No.\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Email</label>\n                  <input v-model=\"trade.businessDetails.ownerEmail\" type=\"email\" class=\"form-control\" id=\"\"  placeholder=\"Owner's Email address\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">KRA Pin</label>\n                  <input v-model=\"trade.businessDetails.kraPin\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Owner's KRA Pin\">\n                </div>\n              </div>\n\n            </div>\n\n            <div class=\"row the-step biz-additional-info d-none\">\n\n              <div class=\"col-12\">\n                <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                  <p class=\"fw-semibold mb-0 pb-0\">Business Details</p>\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Business Name {{trade.businessDetails.businessName}}</label>\n                  <input v-model=\"trade.businessDetails.businessName\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Business Name\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Sub County</label>\n                  <select v-model=\"subCounty\" class=\"form-control  bg-white\" title=\"Select Sub County\" data-live-search=\"true\" >\n                    <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                      {{ item.subCountyName }}\n                    </option>\n                  </select>\n\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Ward</label>\n                  <select v-model=\"ward\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                    <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                      {{ item.wardName }}\n                    </option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Plot No.</label>\n                  <input v-model=\"trade.businessDetails.plotNumber\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Plot No.\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Business Premises Nature</label>\n\n                  <select v-model=\"trade.businessDetails.buildingOccupancy\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                    <option value=\"Occupies Section In building\">Occupies Section In building</option>\n                    <option value=\"Occupies Entire Building\">Occupies Entire Building</option>\n                    <option value=\"Mobile Business\">Mobile Business</option>\n                  </select>\n\n                </div>\n              </div>\n\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Floor Number </label>\n                  <select v-model=\"trade.businessDetails.floorNo\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                    <option v-for=\"(item, index) in trade.floors\" :value=\"item.floor\" :key=\"index\">\n                      {{ item.floor }}\n                    </option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Room Number</label>\n                  <input v-model=\"trade.businessDetails.roomNo\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Room No\">\n                </div>\n              </div>\n\n\n            </div>\n\n            <div class=\"row the-step biz-owner d-none\">\n\n              <div class=\"col-12\">\n                <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                  <p class=\"fw-semibold mb-0 pb-0\">Business contact information</p>\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Company's Email address <span class=\"text-danger fw-bold\"></span></label>\n                  <input v-model=\"trade.businessDetails.businessEmail\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter email\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Postal address <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.postalAddress\" type=\"email\" class=\"form-control\" id=\"\"  placeholder=\"Enter Postal address *\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Postal Code <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.postalCode\" type=\"email\" class=\"form-control\" id=\"\"  placeholder=\"Postal Code\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Company's Phone No. <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.businessPhone\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Company's Phone No.\">\n                </div>\n              </div>\n\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Physical Address <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.physicalAddress\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter physical Address\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Building Name<span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.buildingName\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter Building Name\">\n                </div>\n              </div>\n\n\n              <div class=\"col-12\">\n                <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                  <p class=\"fw-semibold mb-0 pb-0\">Contact Person</p>\n                </div>\n              </div>\n\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Contact Person's Full names</label>\n                  <input v-model=\"trade.businessDetails.contactPersonNames\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter full Names\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Contact Person's ID No.</label>\n                  <input v-model=\"trade.businessDetails.contactPersonIDNo\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter ID No.\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Person's Role</label>\n\n\n\n                  <select v-model=\"trade.businessDetails.businessRole\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                    <option value=\"Secretary\">Secretary</option>\n                    <option value=\"Director\">Director</option>\n                  </select>\n\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Contact Person's Email address</label>\n                  <input v-model=\"trade.businessDetails.contactPersonEmail\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"ie email@email.com\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Contact Person's mobile number</label>\n                  <input v-model=\"trade.businessDetails.contactPersonPhone\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"ie 07....\">\n                </div>\n              </div>\n\n\n            </div>\n\n            <div class=\"row the-step biz-activity d-none\">\n\n              <div class=\"col-12\">\n                <div class=\"bg-primary border-2 bg-soft p-3 mb-4\">\n                  <p class=\"fw-semibold mb-0 pb-0\">Business Activity information</p>\n                </div>\n              </div>\n\n\n\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Business Categories</label>\n                  <select @change=\"getTradeSubCategory($event)\" class=\"form-control bg-white\" title=\"Select Business Activity\" data-live-search=\"true\" >\n                    <option value=\" \">Select Options</option>\n                    <option v-for=\"(item, index) in trade.tradeCategories\" :value=\"item.incomeTypeId\" :key=\"index\">\n                      {{ item.incomeTypeDescription }}\n                    </option>\n                  </select>\n\n                </div>\n              </div>\n\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Business establishment Type</label>\n                  <select @change=\"selectedTradeSubCategory($event)\" class=\"form-control bg-white\" title=\"Select Sub Categories\" data-live-search=\"true\" >\n                    <option v-for=\"(item, index) in trade.tradeSubCategories\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                      {{ item.feeDescription }}\n                    </option>\n                  </select>\n                </div>\n              </div>\n\n            <!--  <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                  {{ item.feeDescription }}\n                </option>\n              </select>-->\n\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Activity Description <span class=\"text-danger fw-bold\">*</span></label>\n                  <input v-model=\"trade.businessDetails.businessDes\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Eg retail shop for  general goods\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Premises Size (M<sup>2</sup>)</label>\n                  <input v-model=\"trade.businessDetails.premiseSize\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter the description of what the business does\">\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Vehicle Tonage</label>\n                  <select v-model=\"trade.businessDetails.tonnage\" class=\"form-control bg-white\" title=\"Select ward\" data-live-search=\"true\" >\n                    <option v-for=\"(item, index) in trade.tonnage\" :value=\"item.tonnage\" :key=\"index\">\n                      {{ item.tonnage }}\n                    </option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-4\">\n                <div class=\"mb-3\">\n                  <label for=\"\" class=\"form-label\">Number Of Employees</label>\n                  <input v-model=\"trade.businessDetails.numberOfEmployees\" type=\"text\" class=\"form-control\" id=\"\"  placeholder=\"Enter the description of what the business does\">\n                </div>\n              </div>\n\n              <div class=\"col-12 mt-4\">\n                <div class=\"bg-warning border-2 bg-soft p-3 mb-4\">\n                  <p class=\"mb-0 pb-0\">Computed Amount</p>\n                  <P><h4 class=\"fw-semibold mb-0 pb-0\">KES {{trade.amount}}</h4></P>\n\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"d-flex modal-next-prev-container\">\n              <button type=\"button\" class=\"btn btn-outline-secondary btn-prev waves-effect waves-effect waves-light me-3\">\n                <i class=\"bx bx-left-arrow-alt font-size-16 align-middle me-2\"></i> Previouse\n              </button>\n\n              <button type=\"button\" class=\"btn btn-primary waves-effect waves-effect waves-light btn-next\">\n                Next <i class=\"bx bx-right-arrow-alt font-size-16 align-middle me-2\"></i>\n              </button>\n\n             <button @click=\"registerBusiness()\" data-dismiss=\"modal\" type=\"button\" class=\"btn btn-submit btn-success d-none ml-3 ms-3 waves-effect waves-effect waves-light btn-next\">\n                <i class=\"bx bx-check-double font-size-16 align-middle me-2\"></i> Submit Application\n              </button>\n\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- new business application -->\n\n    <!-- new liquor license -->\n    <div class=\"modal fade\" id=\"new-liquore-license\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-capitalize\" id=\"exampleModalLongTitle\">Liquore License Application</h5>\n            <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Business ID</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business ID\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Business Name</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter Business Name\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">KRA PIN Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"KRA Pin Number\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Plot Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter plot Number\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Phone Number</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Email Address</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">PO Box</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter phone No.\">\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Town</label>\n                  <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"email@email.com\">\n                </div>\n              </div>\n              <div class=\"col-12\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-email-input\" class=\"form-label\">Physical Address</label>\n                  <textarea name=\"\" id=\"\" class=\"form-control\" placeholder=\"Enter the physical Address\" cols=\"30\" rows=\"\"></textarea>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                  <select class=\"form-control selectpicker bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                    <option value=\" \">Failing to carry and produce a driving license on demand.</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 1-5 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 6-10 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 11-15 KPH</option>\n                    <option value=\" \">Exceeding speed limit prescribed for class of vehicle by 16-20 KPH</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class=\"col-xl-12 col-sm-12\">\n                <div class=\"mt-4\">\n                  <h5 class=\"font-size-14 mb-4 text-capitalize\">Check where necessary</h5>\n                  <div class=\"form-check mb-3\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios1\" checked=\"\">\n                    <label class=\"form-check-label\" for=\"formRadios1\">\n                      This application has been approved\n                    </label>\n                  </div>\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"radio\" name=\"formRadios\" id=\"formRadios2\">\n                    <label class=\"form-check-label\" for=\"formRadios2\">\n                      This application is provisional\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-primary w-100\">Submit Application</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n\n    <!-- ============================================================== -->\n    <!-- Start right Content here -->\n    <!-- ============================================================== -->\n    <div class=\"main-content\">\n\n      <div class=\"page-content\">\n        <div class=\"container-fluid\">\n\n          <!-- start page title -->\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"page-title-box d-sm-flex align-items-center justify-content-between\">\n                <h4 class=\"mb-sm-0 font-size-18 text-capitalize\">Create New Bill</h4>\n\n                <div class=\"page-title-right\">\n                  <ol class=\"breadcrumb m-0\">\n                    <li class=\"breadcrumb-item\"><a href=\"index.html\">Home</a></li>\n                    <li class=\"breadcrumb-item active\">New Bill</li>\n                  </ol>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <!-- end page title -->\n\n          <!-- eTransactions table -->\n\n          <div class=\"row\">\n            <div class=\"col-lg-12\">\n              <div class=\"card bill-creater-module\">\n                <div class=\"card-body \">\n                  <div class=\"row\">\n                    <div class=\"col-12\">\n                      <div class=\"p-4 bg-light mb-4\">\n                        <div class=\"row d-flex justify-content-between align-items-center\">\n                          <div class=\"col-12 d-flex justify-content-between  align-items-center\">\n                            <div class=\"d-fle\">\n                              <p class=\"mb-0 fw-semibold text-uppercase pb-0\"><a href=\"#\">Client Details</a></p>\n\n                            </div>\n                            <div class=\"\">\n                              <div class=\"mb-0 d-flex justify-content-between align-items-center \">\n                                <button class=\"btn btn-success btn-sm\"  data-toggle=\"modal\" data-target=\"#subscribeModal\">Select A different Client</button>\n                              </div>\n                            </div>\n                          </div>\n                          <div class=\"col-12\">\n                            <hr>\n                          </div>\n\n\n                          <div class=\"col-12\">\n                            <div class=\"row\">\n                              <div class=\"col-4 col-sm-12 col-md-4 d-none\">\n                                <div class=\"d-flex\">\n                                  <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                    <i class=\"mdi mdi-card-account-details-outline  h2 text-dark\"></i>\n                                  </div>\n                                  <div class=\"flex-grow-1\">\n                                    <p class=\"text-muted mb-0\">ID No.</p>\n                                    <h5 class=\"mb-0 font-14px\"><span>12345678</span></h5>\n                                  </div>\n                                </div>\n                              </div>\n                              <div class=\"col-4 col-sm-12 col-md-4\">\n                                <div class=\"d-flex\">\n                                  <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                    <i class=\"mdi mdi-account  h2 text-dark\"></i>\n                                  </div>\n                                  <div class=\"flex-grow-1\">\n                                    <p class=\"text-muted mb-0\">Customer Name</p>\n                                    <h5 class=\"mb-0 font-14px\"><span>{{customerName}}</span></h5>\n                                  </div>\n                                </div>\n                              </div>\n\n                              <div class=\"col-4 col-sm-12 col-md-4\">\n                                <div class=\"d-flex\">\n                                  <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                    <i class=\"mdi mdi-phone  h2 text-dark\"></i>\n                                  </div>\n                                  <div class=\"flex-grow-1\">\n                                    <p class=\"text-muted mb-0\">Phone No.</p>\n                                    <h5 class=\"mb-0 font-14px text-uppercase\"><span>{{phoneNumber}}</span></h5>\n                                  </div>\n                                </div>\n                              </div>\n\n                              <div class=\"col-4 col-sm-12 col-md-4\">\n                                <div class=\"d-flex\">\n                                  <div class=\"flex-shrink-0 me-3 align-self-center\">\n                                    <i class=\"mdi mdi-email-outline  h2 text-dark\"></i>\n                                  </div>\n                                  <div class=\"flex-grow-1\">\n                                    <p class=\"text-muted mb-0\">Email Address</p>\n                                    <h5 class=\"mb-0 font-14px\"><span>{{email}}</span></h5>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"col-sm-12 col-md-4 col-lg-5\">\n                      <div class=\"d-flex justify-items-center align-items-center\">\n                        <div class=\"border-1 invoice-form p-4\">\n                          <h4 class=\"card-title mb-4\">Enter the invoice details beow</h4>\n\n                          <div v-if=\"message!==null\" class=\"alert alert-danger\" role=\"alert\">\n                            {{message}}\n                          </div>\n\n                          <form>\n                            <div class=\"row tenant-invoice-container invoice-options\">\n\n                              <div class=\"col-12\">\n                                <div class=\"mb-3\">\n                                  <label for=\"formrow-firstname-input\" class=\"form-label\">Revenue Stream</label>\n                                  <select @change=\"selectRevenue($event)\"  class=\"form-control bg-white select-revenue\" title=\"Select Revenue Stream\" data-live-search=\"true\" >\n                                    <option value=\"Parking\">Parking</option>\n                                    <option value=\"Trade\">Trade</option>\n                                    <option value=\"Rent\">Rent</option>\n                                    <option value=\"Health\">Health</option>\n                                    <option value=\"Others\">Planning</option>\n                                    <option value=\"Landrates\">Land Rates</option>\n                                    <option value=\"Liquor\">Liquor</option>\n                                    <option value=\"Others\">Advert</option>\n                                    <option value=\"Others\" selected>Others</option>\n                                  </select>\n                                </div>\n                              </div>\n\n                              <div class=\"col-12 rev-options-cont\">\n                                <div class=\"row others-rev\">\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Income Type</label>\n\n                                   <!--   <select @change=\"selectedIncomeType($event)\"  title=\"&#45;&#45; Income Type &#45;&#45;\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"billingModule.incomeType\" tabindex=\"0\">\n                                        <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                          {{ item.incomeTypeDescription }}\n                                        </option>\n                                      </select>\n-->\n                                        <select @change=\"selectedIncomeType($event)\"  title=\"-- Income Type --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"billingModule.incomeType\">\n                                          <option v-for=\"(item, index) in billingModule.incomeTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                            {{ item.incomeTypeDescription }}\n                                          </option>\n                                        </select>\n\n                                    </div>\n                                  </div>\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Account Name</label>\n                                      <select @change=\"selectedFeeAndCharge($event)\" class=\"form-control bg-white\" title=\"Select Traffic offence\" data-live-search=\"true\" >\n                                        <option v-for=\"(item, index) in feesAndCharges\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                          {{ item.feeDescription }}\n                                        </option>\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n\n                                      <select v-model=\"subCounty\" class=\"form-control  bg-white\" title=\"Select Sub County\" data-live-search=\"true\" >\n                                        <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                                          {{ item.subCountyName }}\n                                        </option>\n\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Ward</label>\n                                      <select v-model=\"ward\" class=\"form-control bg-white\" title=\"Select Ward\" data-live-search=\"true\" >\n                                        <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                                          {{ item.wardName }}\n                                        </option>\n                                      </select>\n                                    </div>\n                                  </div>\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Details</label>\n                                      <textarea v-model=\"description\" name=\"\" id=\"\" cols=\"30\" rows=\"3\" placeholder=\"More details\" class=\"form-control\"></textarea>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-md-6 col-sm-12 col-lg-5 mb-4\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-email-input\" class=\"form-label\">Amount</label>\n                                      <input v-model=\"amount\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Bill Item amount\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div>\n                                    <button @click=\"addToBill(description,phoneNumber)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                  </div>\n                                </div>\n                                <div class=\"row Rent-rev d-none\">\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-email-input\" class=\"form-label\">Estate</label>\n\n                                      <select title=\"-- Select The estate --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"houseItem.estate\">\n                                        <option v-for=\"(item, index) in estates\" :value=\"item\" :key=\"index\">\n                                          {{ item.estateName }}\n                                        </option>\n                                      </select>\n\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-email-input\" class=\"form-label\">House Type</label>\n                                      <select @change=\"selectedHouseType($event)\" title=\"-- Select Hse Type --\" class=\"form-control show-tick\" data-live-search=\"true\">\n                                        <option v-for=\"(item, index) in houseTypes\" :value=\"JSON.stringify(item)\" :key=\"index\">\n                                          {{ item.houseType }}\n                                        </option>\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-email-input\" class=\"form-label\">House Number</label>\n                                      <select class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"houseItem.houseNo\">\n\n                                        <option v-for=\"(item, index) in houseNumbers\" :value=\"item\" :key=\"index\">\n                                          {{ item.houseNumber }}\n                                        </option>\n\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Sub County</label>\n                                      <select class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"subCounty\">\n\n                                        <option v-for=\"(item, index) in subCounties\" :value=\"item\" :key=\"index\">\n                                          {{ item.subCountyName }}\n                                        </option>\n\n                                      </select>\n\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Ward.</label>\n                                      <select class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"ward\">\n                                        <option v-for=\"(item, index) in wards\" :value=\"item\" :key=\"index\">\n                                          {{ item.wardName }}\n                                        </option>\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div>\n                                      <button @click=\"addToBill(houseItem)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Itemk</button>\n                                  </div>\n\n                                </div>\n\n                                <div class=\"row parking-rev d-none\">\n\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Parking Category</label>\n                                      <select @change=\"selectRevenue($event)\"  class=\"form-control form-select bg-white\" title=\"Select Car Type\" data-live-search=\"true\" v-model=\"parking.durationCode\">\n                                        <option value=\"DAILY\">--Select Duration--</option>\n                                        <option value=\"DAILY\">Daily Parking</option>\n                                        <option value=\"SEASONAL\">Seasonal Parking</option>\n                                        <option value=\"PENANLTY\">Parking Penalty</option>\n                                        <option value=\"OFFSTREET\">Offstreet Parking</option>\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Plate Number</label>\n                                      <input v-model=\"parking.numberPlate\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Enter Plate Number\">\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Car Category</label>\n\n                                      <select title=\"-- Select Car Type --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"parking.category\">\n                                        <option v-for=\"(item, index) in parking.categories\" :value=\"item.category\" :key=\"index\">\n                                          {{ item.category }}\n                                        </option>\n                                      </select>\n\n                                    </div>\n                                  </div>\n                                  <div class=\"col-12\">\n                                    <!-- optional fields depending on selected parking type -->\n                                    <div class=\"row\">\n                                      <div class=\"col-12 d-none offstreet-duration\">\n                                        <div class=\"mb-3\">\n                                          <label for=\"formrow-firstname-input\" class=\"form-label\">Duration Parked</label>\n                                          <input type=\"text\" class=\"form-control\" id=\"\" value=\"\" placeholder=\"Enter duration in Minutes\">\n                                        </div>\n                                      </div>\n                                      <div class=\"col-12 d-none seasonal-duration\">\n                                        <div class=\"mb-3\">\n                                          <label for=\"formrow-firstname-input\" class=\"form-label\">Parking Duration {{parking.duration}}</label>\n\n                                            <select title=\"-- Parking Duration --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"parking.duration\">\n                                            <option v-for=\"(item, index) in parking.durations\" :value=\"item.duration\" :key=\"index\">\n                                              {{ item.duration }}\n                                            </option>\n                                          </select>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n\n\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Parking Zone</label>\n\n                                      <select @change=\"selectZone($event)\" title=\"-- Parking Zone --\" class=\"form-control show-tick\" data-live-search=\"true\" v-model=\"parking.zoneCode\">\n                                        <option v-for=\"(item, index) in parking.zones\" :value=\"item.zoneCode\" :key=\"index\">\n                                          {{ item.zoneCode }}\n                                        </option>\n                                      </select>\n\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-md-12 col-sm-12 col-lg-12 mb-4\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-email-input\" class=\"form-label\">Charges</label>\n                                      <input v-model=\"parking.charges\" type=\"text\" class=\"form-control\" id=\"formrow-email-input\" placeholder=\"Bill Item amount\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div>\n                                    <button @click=\"addToBill(parking.numberPlate,parking.numberPlate)\" type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                  </div>\n                                </div>\n\n                                <div class=\"row health-rev d-none\">\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label \">Select Service</label>\n                                      <select class=\"form-select health-selector\" title=\"Select Option\" data-live-search=\"true\" >\n                                        <option value=\"Food Hygien\">Food Hygien</option>\n                                        <option value=\"Food Handler\">Food Handler</option>\n\n                                      </select>\n                                    </div>\n                                  </div>\n                                  <div class=\"col-6 \">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Select Option</label>\n                                      <select class=\"form-select hyginene-selector\" title=\"Select Option\" data-live-search=\"true\" >\n                                        <option value=\"New Application\">New Application</option>\n                                        <option value=\"Renewal\">Renewal</option>\n                                      </select>\n\n                                      <select class=\"form-select handler-selector d-none\" title=\"Select Option\" data-live-search=\"true\" >\n                                        <option value=\"New Application\">New Application</option>\n                                        <option value=\"Renewal\">Renewal</option>\n                                      </select>\n                                    </div>\n                                  </div>\n                                  <div class=\"col-12 health-options\">\n                                    <div class=\"row food-hygiene-cont\">\n                                      <div class=\"col-12 new-hygiene\">\n                                        <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-food-hygene\">\n                                          <i class=\"mdi-food-fork-drink mdi d-block font-size-30 \"></i> Start Food Hygiene Application\n                                        </button>\n                                      </div>\n                                      <div class=\"col-12 d-none renew-hygene\">\n                                        <div class=\"mb-3\">\n                                          <label for=\"formrow-firstname-input\" class=\"form-label\">Business ID</label>\n                                          <input type=\"text\" class=\"form-control\" id=\"\" value=\"\" placeholder=\"Enter Business ID to continue\">\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <div class=\"mb-3\">\n                                              <label for=\"formrow-firstname-input\" class=\"form-label\">Business Name</label>\n                                              <input  type=\"text\" class=\"form-control\" id=\"\"  disabled placeholder=\"Searched Business ...\">\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                              <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                            </button>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                    <div class=\"row food-handler-cont d-none\">\n                                      <div class=\"col-12 new-Handler\">\n                                        <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-food-handler\">\n                                          <i class=\"mdi-chef-hat mdi d-block font-size-30 \"></i> Start Food Handler Application\n                                        </button>\n                                      </div>\n                                      <div class=\"col-12 d-none renew-Handler\">\n                                        <div class=\"mb-3\">\n                                          <label for=\"formrow-firstname-input\" class=\"form-label\">Client's ID No.</label>\n                                          <input type=\"text\" class=\"form-control\" id=\"\" value=\"\" placeholder=\"Enter Business ID to continue\">\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <div class=\"mb-3\">\n                                              <label for=\"formrow-firstname-input\" class=\"form-label\">Client's Name</label>\n                                              <input type=\"text\" class=\"form-control\" disabled placeholder=\"Persons Name\">\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                              <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                            </button>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                <div class=\"row trade-rev d-none\">\n                                  <div class=\"col-12\">\n                                    <select  @change=\"selectRevenue($event)\" name=\"\" id=\"\" class=\"form-select mb-4\">\n                                      <option value=\"Register New Business\">Register New Business</option>\n                                      <option value=\"Renew License Business\">Renew License</option>\n                                    </select>\n                                  </div>\n                                  <div class=\"col-12\">\n                                    <div class=\"row\">\n                                      <div class=\"col-12 register-new-business\">\n                                        <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-business\">\n                                          <i class=\"mdi-briefcase-plus-outline mdi d-block font-size-30 \"></i> Start New Business Registration\n                                        </button>\n                                      </div>\n                                      <div class=\"col-12 d-none renew-business\">\n                                        <div class=\"mb-3\">\n                                          <label for=\"formrow-firstname-input\" class=\"form-label\">Business ID</label>\n                                          <input v-model=\"businessID\" type=\"text\" class=\"form-control\"  placeholder=\"Enter Business ID to continue\">\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <div class=\"mb-3\">\n                                              <label for=\"formrow-firstname-input\" class=\"form-label\">Business Name {{businessID}}</label>\n                                              <input v-model=\"businessID\" type=\"text\" class=\"form-control\"  disabled placeholder=\"Searched Business ...\">\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                              <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                            </button>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                <div class=\"row liquor-rev d-none\">\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label \">Select Service</label>\n                                      <select class=\"form-select liquor-selector\" title=\"Select Option\" data-live-search=\"true\" >\n                                        <option value=\"New Application\">Licence Application</option>\n                                        <option value=\"License Renewal\">Licence Renewal</option>\n\n                                      </select>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-12 liqur-options\">\n                                    <div class=\"row\">\n                                      <div class=\"col-12 new-application\">\n                                        <button type=\"button\" class=\"btn btn-outline-success waves-effect waves-light btn-soft waves-effect waves-light w-sm w-100 p-4 text-uppercase\" data-toggle=\"modal\" data-target=\"#new-liquore-license\">\n                                          <i class=\"mdi-glass-mug-variant mdi d-block font-size-30 \"></i> Start Liquor License Application\n                                        </button>\n                                      </div>\n                                      <div class=\"col-12 d-none renew-liquor\">\n                                        <div class=\"mb-3\">\n                                          <label for=\"formrow-firstname-input\" class=\"form-label\">Business ID {{businessID}}</label>\n                                          <input v-model=\"businessID\" type=\"text\" class=\"form-control\"  placeholder=\"Enter Business ID to continue\">\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <div class=\"mb-3\">\n                                              <label for=\"formrow-firstname-input\" class=\"form-label\">Business Name</label>\n                                              <input v-model=\"trade.businessDetails.businessName\" type=\"text\" class=\"form-control\" disabled placeholder=\"Searched Business ...\">\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <div class=\"row\">\n                                          <div class=\"col-12\">\n                                            <button type=\"button\" class=\"btn btn-info waves-effect btn-label waves-light w-100\">\n                                              <i class=\"dripicons-plus label-icon\"></i> Add to Bill\n                                            </button>\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                <div class=\"row landrate-rev d-none\">\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Property Number</label>\n                                      <input type=\"text\" class=\"form-control\" placeholder=\"Enter property Number\">\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Owner's Name</label>\n                                      <input type=\"text\" class=\"form-control\" placeholder=\"The names\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Annual Landrate</label>\n                                      <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Arreas</label>\n                                      <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Penalties</label>\n                                      <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-6\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-firstname-input\" class=\"form-label\">Total Balance</label>\n                                      <input type=\"text\" class=\"form-control\" placeholder=\"Search first\" readonly>\n                                    </div>\n                                  </div>\n\n                                  <div class=\"col-md-12\">\n                                    <div class=\"mb-3\">\n                                      <label for=\"formrow-email-input\" class=\"form-label\">Amount</label>\n                                      <input type=\"text\" class=\"form-control\" id=\"formrow-email-input\"  placeholder=\"Enter amount to be paid\">\n                                    </div>\n                                  </div>\n\n                                  <div>\n                                    <button type=\"button\" class=\"btn btn-primary waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Bill Item</button>\n                                  </div>\n                                </div>\n                              </div>\n\n                            </div>\n\n                          </form>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"col-sm-12 col-md-8 col-lg-7\">\n                      <div class=\"d-flex justify-items-center align-items-center \">\n                        <div class=\"border-1 invoice-table p-4 w-100\">\n                          <h4 class=\"card-title mb-4\">Created Bill Details</h4>\n                          <div class=\"row\">\n                            <div class=\"col-12\">\n                              <div class=\"table-responsive border-1\">\n                                <table class=\"table table-nowrap  vertical-align-middle table-sm\">\n                                  <thead class=\"bg-light\">\n                                  <tr>\n                                    <th style=\"width: 70px;\">No.</th>\n                                    <th>Details</th>\n                                    <th class=\"text-end\">Amount</th>\n                                    <th class=\"\" style=\"width: 150px;\"></th>\n                                  </tr>\n                                  </thead>\n                                  <tfoot class=\"bg-light\">\n                                  <tr>\n                                    <td colspan=\"2\" class=\"border-0 text-end text-right\">\n                                      <strong>Total</strong>\n                                    </td>\n                                    <td class=\"border-0 text-end\">\n                                      <h5 class=\"m-0 text-uppercase fw-bold\">KES {{totalAmount}}</h5>\n                                    </td>\n                                    <td>\n\n                                    </td>\n                                  </tr>\n                                  </tfoot>\n                                  <tbody v-for=\"(item,index) in billItem\" :key=\"`item-${index}`\">\n                                  <tr  title=\"Driving Without identification plates affixed or plates not fixed in the prescribed manner\">\n                                    <td>{{index+1}}</td>\n                                    <td>\n                                      <p class=\"the-bill-item mb-0 p-0 m-0\">{{item.incomeTypeId}} {{item.feeDescription}}</p>\n                                    </td>\n\n                                    <td class=\"text-end\">KES {{item.unitFeeAmount}}</td>\n                                    <td class=\"text-right\">\n                                      <button title=\"Edit Item\" type=\"button\" data-toggle=\"modal\" data-target=\"#editModal\"  class=\"btn btn-link waves-effect\"><i class=\"mdi mdi-pencil font-size-16 align-middle me-2\"></i></button>\n                                      <button  title=\"View Item\" type=\"button\" class=\"btn btn-link waves-effect\"><i class=\"mdi mdi-eye-outline font-size-16 align-middle me-2\"></i></button>\n                                      <button @click=\"selectedIndex(item,index)\" data-target=\"#remove-bill-item\" title=\"Remove Item\" type=\"button\" class=\"btn btn-link waves-effect text-danger\"><i class=\"mdi mdi-close font-size-16 align-middle me-2\"></i></button>\n                                    </td>\n                                  </tr>\n\n                                  </tbody>\n                                </table>\n                              </div>\n                            </div>\n                          </div>\n\n                          <button @click=\"generateBill()\" type=\"button\" data-toggle=\"modal\" data-target=\"#payment-modal\" class=\"btn btn-success waves-effect btn-label waves-light\"><i class=\"bx bx-plus label-icon\"></i> Create Bill</button>\n\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n                <!-- end card body -->\n              </div>\n              <!-- end card -->\n            </div>\n            <!-- end col -->\n          </div>\n\n          <!-- end row -->\n        </div>\n        <!-- container-fluid -->\n      </div>\n      <!-- End Page-content -->\n\n\n      <footer class=\"footer \">\n        <div class=\"container-fluid \">\n          <div class=\"row \">\n            <div class=\"col-sm-6 \">\n<!--              <script>\n                document.write(new Date().getFullYear())\n              </script>  RevenueSure-->\n            </div>\n            <div class=\"col-sm-6 \">\n              <div class=\"text-sm-end d-sm-block \">\n                A product of county\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n    <!-- end main content-->\n\n  </div>\n  <!-- END layout-wrapper -->\n\n  <!-- Right bar overlay-->\n  <div class=\"rightbar-overlay\"></div>\n  </body>\n\n</div>\n</template>\n\n<script>\n  /* eslint-disable */\n  import NavigationBar from \"@/components/Navigation.vue\";\nimport {execute,biller,rent,parking,trade} from \"@/api\";\nimport $ from 'jquery'\n\nexport default {\n  name: \"BillNew\",\n  components: {NavigationBar},\n  data(){\n    return{\n      confirmCash: false,\n      phoneNumber:'',\n      customerName:'',\n      email:'',\n      transactionCompleted: false,\n      transactionSummary: false,\n      paymentPanel: true,\n      paymentMethod: false,\n      billDetails:{\n        id:'',\n        billNo:'',\n        incomeTypeID:'',\n        incomeTypeDescription:'',\n        costCenterNo:'',\n        accountNo:'',\n        feeID:'',\n        detailAmount:'',\n        receiptAmount:'',\n        billBalance:'',\n        wardID:'',\n        subCountyID:'',\n        status:'',\n        dateCreated:''\n      },\n      billInfo:[],\n      briefDescription:'',\n      subCounty:null,\n      ward:null,\n      houseItem:{\n        estate:null,\n        houseType:{\n          id: null,\n          houseTypeCode:null,\n          houseType: null\n        },\n        houseNo:{\n          id: null,\n          houseNumberCode: null,\n          houseNumber:null,\n          houseTypeCode: null,\n          houseType: null,\n          estateCode: null,\n          estateName: null\n        },\n      },\n      revenueStreamItem:{},\n      selectedBillItem:{},\n      itemIndex:'',\n      description:'',\n      amount:'',\n      wardID:'',\n      subCountyID:'',\n      houseNumberCode:'',\n      houseTypeCode:'',\n      estateCode:'',\n      estates:[\n        {\n          id: \"\",\n          estateCode: \"\",\n          estateName: \"\"\n        }\n      ],\n      houseTypes:[{\n        id: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\"\n      }],\n      houseNumbers:[{\n        id: \"\",\n        houseNumberCode: \"\",\n        houseNumber: \"\",\n        houseTypeCode: \"\",\n        houseType: \"\",\n        estateCode: \"\",\n        estateName: \"\"\n      }],\n      subCounties:[{\n        subCountyID: \"\",\n        subCountyName: \"\"\n      }],\n      wards:[{\n        wardID: \"\",\n        wardName: \"\"\n      }],\n      billItem:[],\n      feesAndChargeItems:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      feesAndCharges:[{\n        feeId: null,\n        feeDescription: null,\n        unitOfMeasure: null,\n        unitFeeAmount: null,\n        accountNo: null,\n        incomeTypeId: null,\n        feeType: null,\n        accountDesc:null ,\n        costCenterNo:null,\n        zone: null,\n        typeDescription: null\n      }],\n      totalAmount:0,\n      paymentData: {\n        accNo: null,\n        payBillNo: null,\n        amount: null,\n        phoneNumber: null,\n        success: false,\n        paymentMode:null\n      },\n      timer: null,\n      randomNumber: null,\n      receiptDetails: {\n        id: '',\n        receiptNo: null,\n        billNo: '',\n        detailAmount: '',\n        receiptAmount: '',\n        billBalance: '',\n        costCenterNo: '',\n        accountNo: '',\n        incomeTypeDescription: '',\n        feeID: '',\n        wardID: '',\n        subCountyID:'',\n        currency: '',\n        source: '',\n        transactionCode: '',\n        paidBy: '',\n        dateCreated: '',\n        dateModified: '',\n        createdBy: '',\n        modifiedBy: '',\n        isActive: '',\n        status: ''\n      },\n      receiptInfos: [\n        {\n          id: '',\n          receiptNo: '',\n          billNo: '',\n          billTotal: '',\n          receiptAmount: '',\n          billBalance: '',\n          customer: '',\n          clientPhoneNo: '',\n          description: '',\n          receiptDate: '',\n          printCount: '',\n          wardID: '',\n          subCountyID: '',\n          dateCreated: '',\n          dateModified: '',\n          createdBy: '',\n          modifiedBy: '',\n          printedBy: '',\n          updated: '',\n          isActive: '',\n          status: ''\n        }],\n      //Billing Module\n      billingModule:{\n        incomeType:{\n          incomeTypeId: null,\n          incomeTypeDescription:null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null\n        },\n        incomeTypes:[{\n            incomeTypeId: null,\n            incomeTypeDescription:null,\n            incomeTypePrefix: null,\n            fundDescription: null,\n            status: null}]\n      },\n      selectedStream:'Others',\n      //Parking Module\n      parking:{\n        zones:[],\n        categories:[],\n        durations:[],\n        category:null,\n        zoneCode:null,\n        numberPlate:null,\n        durationCode:null,\n        charges: null\n      },\n      message:null,\n\n      //Trade\n      businessID:null,\n      trade:{\n        amount: null,\n        tonnage:[],\n        floors:[],\n        tradeCategories:[ {\n          incomeTypeId: null,\n          incomeTypeDescription: null,\n          incomeTypePrefix: null,\n          fundDescription: null,\n          status: null,\n          departmentID: null,\n          zoneCategoryID: null,\n          zoneCategory: null\n        }],\n        tradeSubCategories:[\n          {\n            feeId: null,\n            feeDescription: null,\n            unitOfMeasure: null,\n            unitFeeAmount: null,\n            accountNo: null,\n            incomeTypeId: null,\n            feeType: null,\n            accountDesc: null,\n            costCenterNo: null,\n            zone: null,\n            typeDescription: null,\n            prorated: null,\n            duration: null\n          }\n        ],\n\n        businessDetails:{\n          id: null,\n          businessID: null,\n          businessName: null,\n          subCountyID: null,\n          subCountyName: null,\n          wardID: null,\n          wardName: null,\n          plotNumber: null,\n          physicalAddress: null,\n          buildingName: null,\n          buildingOccupancy: null,\n          floorNo: null,\n          roomNo: null,\n          premiseSize: null,\n          numberOfEmployees: null,\n          tonnage : null,\n          businessDes: null,\n          businessCategory: null,\n          businessSubCategory : null,\n          incomeTypeID : null,\n          feeID : null,\n          businessEmail: null,\n          postalAddress : null,\n          postalCode: null,\n          businessPhone: null,\n          contactPersonNames: null,\n          contactPersonIDNo: null,\n          businessRole: null,\n          contactPersonPhone: null,\n          contactPersonEmail: null,\n          fullNames: null,\n          ownerID: null,\n          ownerPhone: null,\n          ownerEmail: null,\n          kraPin: null,\n          createdBy: null,\n          createdByIDNo: null,\n          dateCreated: null,\n          lat : 0.0,\n          lng : 0.0\n        }\n      }\n\n    }\n  },\n  watch:{\n    subCounty: function () {\n      //Trade demographics\n      this.trade.businessDetails.subCountyName = this.subCounty.subCountyName\n      this.trade.businessDetails.subCountyID = this.subCounty.subCountyID\n\n      this.getWards()\n    },\n    ward: function () {\n      //Trade demographics\n      this.trade.businessDetails.wardName = this.ward.wardName\n      this.trade.businessDetails.wardID = this.ward.wardID\n\n    }\n  },\n  mounted() {\n    this.getIncomeTypes()\n    this.getSubCounties()\n    this.getFloor()\n    this.getTradeCategory()\n    this.getTonnage()\n    const modal = new\n    bootstrap.Modal(document.getElementById('subscribeModal'));\n    modal.show();\n  },\n  methods:{\n\n    //TRADE\n    getBusiness(){\n      const data = new FormData();\n      data.append(\"function\", \"getBusiness\");\n      data.append(\"function\", \"getBusiness\");\n      execute(data,trade)\n              .then((res) =>{\n                if (res.data.success) {\n                  this.trade.floors =res.data.data.floors\n                }else{\n                  this.message =res.data.message\n                }\n              })\n              .catch((e) => {\n                this.message =e.message\n              });\n    },\n    registerBusiness(){\n\n      this.trade.businessDetails.createdByIDNo = sessionStorage.getItem(\"idNo\")\n      this.trade.businessDetails.createdBy = sessionStorage.getItem(\"names\")\n\n      const data = new FormData();\n      data.append(\"function\", \"registerBusiness\");\n      data.append(\"business\",  JSON.stringify(this.trade.businessDetails));\n      execute(data,trade)\n              .then((res) =>{\n                if (res.data.success) {\n                  this.addToBill(\"Business Permit\",res.data.data.business.businessID)\n                }else{\n                  this.message =res.data.message\n                }\n              })\n              .catch((e) => {\n                this.message =e.message\n              });\n\n    },\n    getFloor(){\n      const data = new FormData();\n      data.append(\"function\", \"getFloor\");\n      execute(data,trade)\n              .then((res) =>{\n                if (res.data.success) {\n                  this.trade.floors =res.data.data.floors\n                }else{\n                  this.message =res.data.message\n                }\n              })\n              .catch((e) => {\n                this.message =e.message\n              });\n    },\n    getTonnage(){\n      const data = new FormData();\n      data.append(\"function\", \"getTonnage\");\n      execute(data,trade)\n              .then((res) =>{\n                if (res.data.success) {\n                  this.trade.tonnage =res.data.data.tonnage\n                }else{\n                  this.message =res.data.message\n                }\n              })\n              .catch((e) => {\n                this.message =e.message\n              });\n    },\n    getTradeCategory(){\n      this.message =null\n      const data = new FormData();\n      data.append( \"function\", \"getIncomeTypes\");\n      data.append( \"incomeTypePrefix\", \"SBP\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.trade.tradeCategories =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getTradeSubCategory(event){\n      this.message =null\n      const data = new FormData();\n      this.trade.businessDetails.incomeTypeID = event.target.value\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\", event.target.value);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.trade.tradeSubCategories =res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectedTradeSubCategory(event){\n\n\n      //set fee and charges\n      this.selectedFeeAndCharge(event)\n\n      const data = JSON.parse(event.target.value)\n      this.trade.businessDetails.businessCategory = data.accountDesc\n      this.trade.businessDetails.businessSubCategory =  data.feeDescription\n      this.trade.amount =  data.unitFeeAmount\n      this.trade.businessDetails.feeID = data.feeId;\n\n    },\n\n    //PARKING\n    getZones(){\n      const data = new FormData();\n      data.append(\"function\", \"getZones\");\n      execute(data,parking)\n          .then((res) =>{\n            if (res.data.success) {\n              this.parking =res.data.data\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getRate(){\n      this.parking.charges = null\n      this.message = null\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"zoneCode\", this.parking.zoneCode);\n      data.append(\"categoryCode\", this.parking.category);\n      data.append(\"durationCode\", this.parking.durationCode);\n      execute(data,parking)\n          .then((res) =>{\n            if (res.data.success) {\n              this.parking.charges  =res.data.data.total.amount\n              this.feesAndChargeItems = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectZone(){\n      this.getRate()\n    },\n\n    //BILLER\n    selectedFeeAndCharge(event){\n      const data = JSON.parse(event.target.value)\n      this.amount = data.unitFeeAmount\n      this.feesAndChargeItems = []\n      this.feesAndChargeItems.push(data)\n    },\n    selectedHouseType(event){\n      const houseType = JSON.parse(event.target.value)\n      this.houseItem.houseType = houseType\n      console.log('Error: ', this.houseItem.houseType.houseTypeCode);\n      this.getFeesAndCharges()\n      this.getHouseNumbers()\n    },\n    selectedIncomeType(event){\n      const value = event.target.value\n      const result = JSON.parse(value);\n      this.getFeesAndChargesBilling(result.incomeTypeId)\n    },\n    getIncomeTypes(){\n      const data = new FormData();\n      data.append(\"function\", \"getIncomeTypes\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.billingModule.incomeTypes =res.data.data.incomeTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndChargesBilling(incomeTypeId){\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"incomeTypeId\",incomeTypeId);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.feesAndCharges = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    //RENTS\n    getEstates(){\n      const data = new FormData();\n      data.append(\"function\", \"getEstates\");\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.estates =res.data.data.estates\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getHouseType(){\n      const data = new FormData();\n      data.append(\"function\", \"getHouseType\");\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.houseTypes =res.data.data.houseTypes\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getHouseNumbers(){\n      this.houseNumbers =[]\n      this.houseItem.houseNo = ''\n      const data = new FormData();\n      data.append(\"function\", \"getHouseNumbers\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.houseNumbers =res.data.data.houseNumbers\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getFeesAndCharges(){\n      const data = new FormData();\n      data.append(\"function\", \"getFeesAndCharges\");\n      data.append(\"estateCode\", this.houseItem.estate.estateCode);\n      data.append(\"houseTypeCode\", this.houseItem.houseType.houseTypeCode);\n      execute(data,rent)\n          .then((res) =>{\n            if (res.data.success) {\n              this.amount  =res.data.data.total.amount\n              this.feesAndChargeItems = res.data.data.feesAndCharges\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    selectedIndex:function (item,itemIndex){\n      this.selectedBillItem = item\n      this.itemIndex = itemIndex\n      this.removeFromBill()\n    },\n    removeFromBill: function (){\n      this.totalAmount -= this.billItem[this.itemIndex].unitFeeAmount\n      this.billItem.splice(this.itemIndex,1)\n    },\n\n    //Main\n    selectRevenue(event){\n      this.selectedStream = event.target.value\n      //alert(this.value);\n      if(this.selectedStream===\"Rent\"){\n        $('.Rent-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        //RENT\n        this.getEstates()\n        this.getHouseType()\n        this.getSubCounties()\n      }\n      if(this.selectedStream===\"Parking\"){\n        $('.parking-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        this.getZones()\n      }\n      if(this.selectedStream===\"Health\"){\n        $('.health-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      if(this.selectedStream===\"Trade\"){\n        $('.trade-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        this.getSubCounties()\n        this.getTradeCategory()\n      }\n      if(this.selectedStream===\"Register New Business\"){\n        $('.register-new-business').removeClass(\"d-none\").siblings().addClass('d-none')\n\n      }\n      if(this.selectedStream===\"Renew License Business\"){\n        $('.renew-business').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      if(this.selectedStream===\"Liquor\"){\n        $('.liquor-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      if(this.selectedStream===\"Landrates\"){\n        $('.landrate-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      if(this.selectedStream===\"Others\"){\n\n        $('.others-rev').removeClass(\"d-none\").siblings().addClass('d-none')\n        //Billing Module\n        this.getIncomeTypes()\n        this.getSubCounties()\n\n        // $('.rev-options-cont').children('.row').each(function(index) {\n        //     $(this).addClass('d-none')\n        // });\n      }\n\n      if(this.selectedStream === \"SEASONAL\"){\n        $('.seasonal-duration').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      if(this.selectedStream ===\"DAILY\"){\n        $('.seasonal-duration').addClass(\"d-none\")\n        $('.offstreet-duration').addClass(\"d-none\")\n      }\n      if(this.selectedStream ===\"OFFSTREET\"){\n        $('.offstreet-duration').removeClass(\"d-none\").siblings().addClass('d-none')\n      }\n      if(this.selectedStream === \"PENALTY\"){\n        $('.offstreet-duration').addClass(\"d-none\")\n      }\n\n    },\n    getSubCounties(){\n      const data = new FormData();\n      data.append(\"function\", \"getSubCounty\");\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.subCounties =res.data.data.subCounties\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getWards(){\n      this.wards =[]\n      this.ward = ''\n      const data = new FormData();\n      data.append(\"function\", \"getWards\");\n      data.append(\"subCountyID\", this.subCounty.subCountyID);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.wards =res.data.data.wards\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    getCustomer(){\n      const data = new FormData();\n      data.append(\"function\", \"getCustomer\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.email = res.data.data.customer.email\n              this.customerName = res.data.data.customer.names\n              this.email = res.data.data.customer.email\n\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n    addCustomers(){\n      const data = new FormData();\n      data.append(\"function\", \"addCustomers\");\n      data.append(\"phoneNumber\", this.phoneNumber);\n      data.append(\"email\", this.email);\n      data.append(\"names\", this.customerName);\n      data.append(\"createdBy\", sessionStorage.getItem(\"names\"));\n      execute(data,biller)\n          .then((res) =>{\n            if (res.data.success) {\n              this.message =res.data.message\n            }else{\n              this.message =res.data.message\n            }\n          })\n          .catch((e) => {\n            this.message =e.message\n          });\n    },\n\n    addToBill(revenueStreamItem,customer){\n\n      for (const { typeDescription,feeId, feeDescription, unitFeeAmount, accountNo, costCenterNo, incomeTypeId} of this.feesAndChargeItems) {\n        this.totalAmount += parseFloat(unitFeeAmount);\n\n        this.billItem.push({\n          typeDescription,\n          feeDescription,\n          unitFeeAmount,\n          accountNo,\n          costCenterNo,\n          incomeTypeId,\n          revenueStreamItem: revenueStreamItem,\n          feeId,\n          amount: unitFeeAmount,\n          customer: customer,\n          zone: sessionStorage.getItem(\"zone\"),\n          subCountyID:this.subCounty.subCountyID,\n          subCountyName:this.subCounty.subCountyName,\n          wardID: this.ward.wardID,\n          wardName: this.ward.wardName,\n          idNo: sessionStorage.getItem(\"idNo\"),\n          phoneNumber: sessionStorage.getItem(\"phoneNumber\"),\n          names: sessionStorage.getItem(\"names\"),\n          customerPhoneNumber: this.phoneNumber,\n          description: this.description,\n        });\n      }\n\n    },\n    generateBill(){\n\n      this.paymentMethod = false;\n      this.paymentPanel = true;\n      this.transactionSummary = false ;\n      this.transactionCompleted = false\n\n      this.message =\"Generating Bill...please wait... \"\n      const data = new FormData();\n         data.append(\"function\", \"generateBill3\");\n         data.append(\"billItem\", JSON.stringify(this.billItem));\n         execute(data,biller)\n             .then((res) =>{\n               this.message =res.data.message\n               if (res.data.success) {\n                 this.billDetails = res.data.data.bill.billDetails\n                 this.billInfo = res.data.data.bill.billInfo\n                 this.paymentData.amount = res.data.data.bill.billDetails.billBalance\n                 this.paymentData.accNo = res.data.data.bill.billDetails.billNo\n                 this.paymentData.payBillNo = res.data.data.billGenerated.payBillNo\n               }else{\n                 this.message =res.data.message\n               }\n             })\n             .catch((e) => {\n               this.message =e.message\n             });\n    },\n    printBill(){\n      localStorage['params'] = JSON.stringify({\n        billNo: this.billDetails.billNo\n      })\n      const routeData = this.$router.resolve({name: 'bill'});\n      window.open(routeData.href, '_blank');\n    },\n    printReceipt() {\n      if (this.receiptDetails.receiptNo == null) {\n        alert(\"Try again later\");\n      } else {\n        //  this.$refs.closeReceived.click();\n        localStorage['params'] = JSON.stringify({\n          receiptNo: this.receiptDetails.receiptNo\n        })\n        const routeData = this.$router.resolve({name: 'receipt'});\n        window.open(routeData.href, '_blank');\n      }\n    },\n    showPaymentMethod(){\n      this.paymentMethod = true;\n      this.paymentPanel = false;\n      this.transactionSummary = false;\n      this.transactionCompleted = false\n    },\n    showTransactionSummary(paymentMode){\n\n      this.paymentData.paymentMode = paymentMode\n\n      if(paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n\n      this.paymentMethod = false;\n      this.paymentPanel = false;\n      this.transactionSummary = true;\n      this.transactionCompleted = false\n    },\n    makePayment() {\n      if(this.paymentData.paymentMode === \"MPESA\") {\n        if (this.phoneNumber == null) {\n          alert(\"Enter phone number\");\n          return;\n        }\n      }\n      this.message = \"Payment Request sent\";\n      this.paymentData.phoneNumber = this.phoneNumber\n\n      const data = new FormData();\n      data.append(\"function\", \"makePayment\");\n      data.append(\"paymentData\", JSON.stringify(this.paymentData));\n\n      let stream = null;\n      if (this.paymentData.accNo.startsWith(\"SBP\")) {\n        stream = trade;\n      }\n      if (this.paymentData.accNo.startsWith(\"PKN\")) {\n        stream = parking;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"RNT\")) {\n        stream = rent;\n      }\n\n      if (this.paymentData.accNo.startsWith(\"BLL\")) {\n        stream = biller;\n      }\n\n      execute(data, stream)\n          .then((res) => {\n            if (res.data.success) {\n              this.paymentMethod = false;\n              this.paymentPanel = false;\n              //start checking payment\n              this.timer = setInterval(() => {\n\n                this.checkPayment();\n              }, 3000);\n            } else {\n              this.rate = null;\n              alert(res.data.message);\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n    checkPayment() {\n      this.randomNumber = Math.floor(Math.random() * 3) + 1\n      if(this.randomNumber === 1){\n        this.message = \"Waiting for payment.\";\n      }\n      if(this.randomNumber === 2){\n        this.message = \"Waiting for payment..\";\n      }\n      if(this.randomNumber ===3){\n        this.message = \"Waiting for payment...\";\n      }\n      const data = new FormData();\n      data.append(\"function\", \"checkPayment\");\n      data.append(\"accountRef\", this.paymentData.accNo);\n\n      execute(data, biller)\n          .then((res) => {\n            if (res.data.success) {\n              this.message = null;\n              clearInterval(this.timer);\n              this.receipt = true;\n              this.paymentData.success = false;\n              this.transaction = res.data.data.transaction;\n              this.receiptDetails = res.data.data.receipt.receiptDetails\n              //Close the modal\n              this.transactionSummary = false\n              this.transactionCompleted = true\n            }\n          })\n          .catch((e) => {\n            alert(e.message);\n          });\n    },\n  }\n}\n</script>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}