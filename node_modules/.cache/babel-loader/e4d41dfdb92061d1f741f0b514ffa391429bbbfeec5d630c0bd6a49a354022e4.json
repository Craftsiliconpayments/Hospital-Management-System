{"ast":null,"code":"/* eslint-disable */\nimport axios from \"axios\";\nexport const base = \"https://api.craftcollect.africa/meru\";\nexport const paysol = \"https://api.craftcollect.africa/meru/paysol/index.php\";\n\n/*export const base =\"https://rcmsuat.craftsilicon.com/testapi/\";\nexport const paysol =  \"https://rcmsuat.craftsilicon.com/testapi/paysol/index.php\";*/\n\nexport const rent = base + \"/rent/index.php\";\nexport const parking = base + \"/parking/index.php\";\nexport const trade = base + \"/trade/index.php\";\nexport const biller = base + \"/biller/index.php\";\nexport const authUrl = base + \"/authentication/\";\nexport const plotRent = base + \"/plotrent/index.php\";\nexport const landRate = base + \"/landrate/index.php\";\nexport const fire = base + \"/fire/index.php\";\nexport const housing = base + \"/housing/index.php\";\nlet tokenStr = 'MTVlNmJkNDE1NWZiNDBiZTZlZTVmNjMwZDg5ZmNkMTU1NTRiOTM2MDBlY2U2ZmI2YjUwNGE4MWRmOWJjYTFkZA==';\nexport const execute = (params, url) => {\n  return axios.post(url, params, {\n    headers: {\n      \"Authorization\": `Bearer ${tokenStr}`\n    }\n  });\n};\nexport const executeJson = (params, url) => {\n  return axios.post(url, params, {\n    headers: {\n      \"Authorization\": `Bearer ${tokenStr}`,\n      \"Content-Type\": \"application/json\" // Specify JSON content type\n    }\n  });\n};\n\nexport const executeDownload = (params, url) => {\n  return axios.post(url, params, {\n    headers: {\n      \"Authorization\": `Bearer ${tokenStr}`\n    },\n    responseType: 'blob'\n  });\n};\nexport const execute2 = (params, url) => {\n  return axios.post(url, params);\n};\nexport const getRight = accessRole => {\n  // Get the string from sessionStorage and parse it into an array\n  const selectedRolesString = sessionStorage.getItem(\"selectedRoles\");\n  if (!selectedRolesString) {\n    //  console.error(\"selectedRoles is not available in sessionStorage\");\n    return false; // or handle the absence of selectedRoles in sessionStorage\n  }\n\n  try {\n    const selectedRoles = JSON.parse(selectedRolesString);\n    if (!Array.isArray(selectedRoles)) {\n      //  console.error(\"selectedRoles is not an array\");\n      return false; // or handle the case where selectedRoles is not an array\n    }\n\n    let accessRight = false;\n    for (const role of selectedRoles) {\n      //  console.log(`${accessRole} role: ${role.role}`);\n      if (role.role === accessRole) {\n        accessRight = true;\n        break; // no need to continue checking once a match is found\n      }\n    }\n\n    return accessRight;\n  } catch (error) {\n    //  console.error(\"Error parsing selectedRoles:\", error);\n    return false; // or handle the error appropriately\n  }\n};","map":{"version":3,"names":["axios","base","paysol","rent","parking","trade","biller","authUrl","plotRent","landRate","fire","housing","tokenStr","execute","params","url","post","headers","executeJson","executeDownload","responseType","execute2","getRight","accessRole","selectedRolesString","sessionStorage","getItem","selectedRoles","JSON","parse","Array","isArray","accessRight","role","error"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/biller/meru-biller/src/api/index.js"],"sourcesContent":["/* eslint-disable */\nimport axios from \"axios\";\n\n\n\nexport const base =\"https://api.craftcollect.africa/meru\";\nexport const paysol =  \"https://api.craftcollect.africa/meru/paysol/index.php\";\n\n\n/*export const base =\"https://rcmsuat.craftsilicon.com/testapi/\";\nexport const paysol =  \"https://rcmsuat.craftsilicon.com/testapi/paysol/index.php\";*/\n\nexport const rent = base+\"/rent/index.php\";\nexport const parking =  base+\"/parking/index.php\";\nexport const trade =  base+\"/trade/index.php\";\nexport const biller =  base+\"/biller/index.php\";\nexport const authUrl =  base+\"/authentication/\";\n\nexport const plotRent =  base+\"/plotrent/index.php\";\n\nexport const landRate =  base+\"/landrate/index.php\";\n\nexport const fire =  base+\"/fire/index.php\";\nexport const housing =  base+\"/housing/index.php\";\n\n\n\n\nlet tokenStr = 'MTVlNmJkNDE1NWZiNDBiZTZlZTVmNjMwZDg5ZmNkMTU1NTRiOTM2MDBlY2U2ZmI2YjUwNGE4MWRmOWJjYTFkZA==';\nexport const execute = (params, url) => {\n    return axios.post(url,params,{headers: {\"Authorization\": `Bearer ${tokenStr}`}})\n}\n\nexport const executeJson = (params, url) => {\n    return axios.post(url, params, {\n        headers: {\n            \"Authorization\": `Bearer ${tokenStr}`,\n            \"Content-Type\": \"application/json\" // Specify JSON content type\n        }\n    });\n}\n\nexport const executeDownload = (params, url) => {\n    return axios.post(url,params,{headers: {\"Authorization\": `Bearer ${tokenStr}`}, responseType: 'blob'})\n}\nexport const execute2 = (params, url) => {\n    return axios.post(url,params)\n}\nexport const getRight = (accessRole) => {\n    // Get the string from sessionStorage and parse it into an array\n    const selectedRolesString = sessionStorage.getItem(\"selectedRoles\");\n\n    if (!selectedRolesString) {\n        //  console.error(\"selectedRoles is not available in sessionStorage\");\n        return false;  // or handle the absence of selectedRoles in sessionStorage\n    }\n\n    try {\n        const selectedRoles = JSON.parse(selectedRolesString);\n\n        if (!Array.isArray(selectedRoles)) {\n            //  console.error(\"selectedRoles is not an array\");\n            return false;  // or handle the case where selectedRoles is not an array\n        }\n\n        let accessRight = false;\n\n        for (const role of selectedRoles) {\n            //  console.log(`${accessRole} role: ${role.role}`);\n            if (role.role === accessRole) {\n                accessRight = true;\n                break;  // no need to continue checking once a match is found\n            }\n        }\n\n        return accessRight;\n    } catch (error) {\n        //  console.error(\"Error parsing selectedRoles:\", error);\n        return false;  // or handle the error appropriately\n    }\n};\n\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAIzB,OAAO,MAAMC,IAAI,GAAE,sCAAsC;AACzD,OAAO,MAAMC,MAAM,GAAI,uDAAuD;;AAG9E;AACA;;AAEA,OAAO,MAAMC,IAAI,GAAGF,IAAI,GAAC,iBAAiB;AAC1C,OAAO,MAAMG,OAAO,GAAIH,IAAI,GAAC,oBAAoB;AACjD,OAAO,MAAMI,KAAK,GAAIJ,IAAI,GAAC,kBAAkB;AAC7C,OAAO,MAAMK,MAAM,GAAIL,IAAI,GAAC,mBAAmB;AAC/C,OAAO,MAAMM,OAAO,GAAIN,IAAI,GAAC,kBAAkB;AAE/C,OAAO,MAAMO,QAAQ,GAAIP,IAAI,GAAC,qBAAqB;AAEnD,OAAO,MAAMQ,QAAQ,GAAIR,IAAI,GAAC,qBAAqB;AAEnD,OAAO,MAAMS,IAAI,GAAIT,IAAI,GAAC,iBAAiB;AAC3C,OAAO,MAAMU,OAAO,GAAIV,IAAI,GAAC,oBAAoB;AAKjD,IAAIW,QAAQ,GAAG,0FAA0F;AACzG,OAAO,MAAMC,OAAO,GAAGA,CAACC,MAAM,EAAEC,GAAG,KAAK;EACpC,OAAOf,KAAK,CAACgB,IAAI,CAACD,GAAG,EAACD,MAAM,EAAC;IAACG,OAAO,EAAE;MAAC,eAAe,EAAG,UAASL,QAAS;IAAC;EAAC,CAAC,CAAC;AACpF,CAAC;AAED,OAAO,MAAMM,WAAW,GAAGA,CAACJ,MAAM,EAAEC,GAAG,KAAK;EACxC,OAAOf,KAAK,CAACgB,IAAI,CAACD,GAAG,EAAED,MAAM,EAAE;IAC3BG,OAAO,EAAE;MACL,eAAe,EAAG,UAASL,QAAS,EAAC;MACrC,cAAc,EAAE,kBAAkB,CAAC;IACvC;EACJ,CAAC,CAAC;AACN,CAAC;;AAED,OAAO,MAAMO,eAAe,GAAGA,CAACL,MAAM,EAAEC,GAAG,KAAK;EAC5C,OAAOf,KAAK,CAACgB,IAAI,CAACD,GAAG,EAACD,MAAM,EAAC;IAACG,OAAO,EAAE;MAAC,eAAe,EAAG,UAASL,QAAS;IAAC,CAAC;IAAEQ,YAAY,EAAE;EAAM,CAAC,CAAC;AAC1G,CAAC;AACD,OAAO,MAAMC,QAAQ,GAAGA,CAACP,MAAM,EAAEC,GAAG,KAAK;EACrC,OAAOf,KAAK,CAACgB,IAAI,CAACD,GAAG,EAACD,MAAM,CAAC;AACjC,CAAC;AACD,OAAO,MAAMQ,QAAQ,GAAIC,UAAU,IAAK;EACpC;EACA,MAAMC,mBAAmB,GAAGC,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC;EAEnE,IAAI,CAACF,mBAAmB,EAAE;IACtB;IACA,OAAO,KAAK,CAAC,CAAE;EACnB;;EAEA,IAAI;IACA,MAAMG,aAAa,GAAGC,IAAI,CAACC,KAAK,CAACL,mBAAmB,CAAC;IAErD,IAAI,CAACM,KAAK,CAACC,OAAO,CAACJ,aAAa,CAAC,EAAE;MAC/B;MACA,OAAO,KAAK,CAAC,CAAE;IACnB;;IAEA,IAAIK,WAAW,GAAG,KAAK;IAEvB,KAAK,MAAMC,IAAI,IAAIN,aAAa,EAAE;MAC9B;MACA,IAAIM,IAAI,CAACA,IAAI,KAAKV,UAAU,EAAE;QAC1BS,WAAW,GAAG,IAAI;QAClB,MAAM,CAAE;MACZ;IACJ;;IAEA,OAAOA,WAAW;EACtB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZ;IACA,OAAO,KAAK,CAAC,CAAE;EACnB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}